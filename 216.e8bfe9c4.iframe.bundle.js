"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[216],{"./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{loadGLTFMesh:()=>W});var _Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/Color.js"),_request_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/@arcgis/core/core/MapUtils.js"),_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_MeshComponent_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshComponent.js"),_MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js"),_MeshTexture_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshTexture.js"),_MeshVertexAttributes_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js"),_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js"),_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec42.js"),_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/utils.js"),_georeference_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js"),_views_3d_glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js"),_views_3d_glTF_loader_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/loader.js"),_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js"),_views_3d_webgl_engine_lib_Indices_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Indices.js"),_views_3d_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js"),_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js"),_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec33.js"),_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec43.js"),_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec22.js");async function W(e,t,r){const o=new _views_3d_glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_16__.C(function X(e){const r=e?.resolveFile;return r?{busy:!1,request:async(e,o,s)=>{const i=r(e),a="image"===o?"image":"binary"===o?"array-buffer":"json";return(await(0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(i,{responseType:a,signal:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(s)?s.signal:null})).data}}:null}(r)),s=(await(0,_views_3d_glTF_loader_js__WEBPACK_IMPORTED_MODULE_17__.Q)(o,t,r,!0)).model,i=s.lods.shift(),a=new Map,c=new Map;s.textures.forEach(((e,t)=>a.set(t,function te(e){return new _MeshTexture_js__WEBPACK_IMPORTED_MODULE_9__.Z({data:e.data,wrap:ae(e.parameters.wrap)})}(e)))),s.materials.forEach(((e,t)=>c.set(t,function re(t,r){const o=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z(function le(e,t){return(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(ue(e[0]),ue(e[1]),ue(e[2]),t)}(t.color,t.opacity)),n=t.emissiveFactor?new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z(function fe(e){return(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.f)(ue(e[0]),ue(e[1]),ue(e[2]))}(t.emissiveFactor)):null;return new _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_8__.Z({color:o,colorTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wg)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.yw)(t.textureColor,(e=>r.get(e)))),normalTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wg)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.yw)(t.textureNormal,(e=>r.get(e)))),emissiveColor:n,emissiveTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wg)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.yw)(t.textureEmissive,(e=>r.get(e)))),occlusionTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wg)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.yw)(t.textureOcclusion,(e=>r.get(e)))),alphaMode:ie(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wg)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.yw)(t.textureMetallicRoughness,(e=>r.get(e)))),colorTextureTransform:t.colorTextureTransform,normalTextureTransform:t.normalTextureTransform,occlusionTextureTransform:t.occlusionTextureTransform,emissiveTextureTransform:t.emissiveTextureTransform,metallicRoughnessTextureTransform:t.metallicRoughnessTextureTransform})}(e,a))));const u=function ee(e){let t=0;const has={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,n=new Map,s=[];for(const i of e.parts){const{attributes:{position:e,normal:a,color:c,tangent:u,texCoord0:l}}=i,f=`\n      ${Y(e,o)}/\n      ${Y(a,o)}/\n      ${Y(c,o)}/\n      ${Y(u,o)}/\n      ${Y(l,o)}/\n      ${Z(i.transform)}\n    `;let m=!1;const p=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_25__.s1)(n,f,(()=>(m=!0,{start:t,length:e.count})));m&&(t+=e.count),a&&(has.normal=!0),c&&(has.color=!0),u&&(has.tangent=!0),l&&(has.texCoord0=!0),s.push({gltf:i,writeVertices:m,region:p})}return{vertexAttributes:{position:(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__.gS)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.fP,t),normal:has.normal?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__.gS)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ct,t):null,tangent:has.tangent?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__.gS)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ek,t):null,color:has.color?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__.gS)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.mc,t):null,texCoord0:has.texCoord0?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_14__.gS)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.Eu,t):null},parts:s,components:[]}}(i);for(const n of u.parts)oe(u,n,c);const{position:l,normal:f,tangent:m,color:p,texCoord0:d}=u.vertexAttributes,x={position:l.typedBuffer,normal:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(f)?f.typedBuffer:null,tangent:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(m)?m.typedBuffer:null,uv:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(d)?d.typedBuffer:null,color:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(p)?p.typedBuffer:null},T=(0,_georeference_js__WEBPACK_IMPORTED_MODULE_15__.w1)(x,e,r);return{transform:T.transform,components:u.components,spatialReference:e.spatialReference,vertexAttributes:new _MeshVertexAttributes_js__WEBPACK_IMPORTED_MODULE_10__.Q({position:T.vertexAttributes.position,normal:T.vertexAttributes.normal,tangent:T.vertexAttributes.tangent,color:x.color,uv:x.uv})}}function Y(e,t){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.Wi)(e))return"-";const o=e.typedBuffer;return`${(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_25__.s1)(t,o.buffer,(()=>t.size))}/${o.byteOffset}/${o.byteLength}`}function Z(e){return(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(e)?e.toString():"-"}function oe(e,t,r){t.writeVertices&&function ne(e,t){const{position:r,normal:s,tangent:i,color:a,texCoord0:l}=e.vertexAttributes,f=t.region.start,{attributes:m,transform:p}=t.gltf,d=m.position.count;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.t)(r.slice(f,d),m.position,p),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(m.normal)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(s)){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_3__.b)((0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),p),t=s.slice(f,d);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.a)(t,m.normal,e),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.oc)(e)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.n)(t,t)}else(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(s)&&(0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_21__.f)(s,0,0,1,{dstIndex:f,count:d});if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(m.tangent)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(i)){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_3__.b)((0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),p),t=i.slice(f,d);(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_13__.t)(t,m.tangent,e),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.oc)(e)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_13__.n)(t,t)}else(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(i)&&(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_22__.f)(i,0,0,1,1,{dstIndex:f,count:d});if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(m.texCoord0)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(l)?(0,_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_23__.n)(l.slice(f,d),m.texCoord0):(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(l)&&(0,_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_23__.f)(l,0,0,{dstIndex:f,count:d}),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(m.color)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(a)){const e=m.color,t=a.slice(f,d);if(4===e.elementCount)e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ek?(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_13__.s)(t,e,255):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.mc?(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_22__.c)(t,e):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.v6&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_13__.a)(t,e,8);else{(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_22__.f)(t,255,255,255,255);const r=_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ne.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ct?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.s)(r,e,255):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.ne?(0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_21__.c)(r,e):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.mw&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.b)(r,e,8)}}else(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_24__.pC)(a)&&(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_22__.f)(a.slice(f,d),255,255,255,255)}(e,t);const o=t.gltf,n=function se(e,t){switch(t){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.MX.TRIANGLES:return(0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__.nh)(e,_views_3d_webgl_engine_lib_Indices_js__WEBPACK_IMPORTED_MODULE_19__.DX);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.MX.TRIANGLE_STRIP:return(0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__.DA)(e);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.MX.TRIANGLE_FAN:return(0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__.jX)(e)}}(o.indices||o.attributes.position.count,o.primitiveType),s=t.region.start;if(s)for(let i=0;i<n.length;i++)n[i]+=s;e.components.push(new _MeshComponent_js__WEBPACK_IMPORTED_MODULE_7__.Z({faces:n,material:r.get(o.material),trustSourceNormals:!0}))}function ie(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function ae(e){return{horizontal:ce(e.s),vertical:ce(e.t)}}function ce(e){switch(e){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.e8.CLAMP_TO_EDGE:return"clamp";case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.e8.MIRRORED_REPEAT:return"mirror";case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.e8.REPEAT:return"repeat"}}function ue(e){return e**(1/_views_3d_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_26__.K)*255}}}]);