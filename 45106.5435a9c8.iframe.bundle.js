"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[45106,15181,44795],{"./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>f});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_request_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@arcgis/core/core/MapUtils.js"),_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),_core_Version_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/Version.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js"),_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js"),_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/layers/support/commonProperties.js"),_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@arcgis/core/portal/support/portalItemUtils.js");const f=f=>{let b=class extends f{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const s=this.type,o="tile"!==s&&!!r.supportsDynamicLayers,a=t.includes("query"),p=t.includes("map"),l=!!r.exportTilesAllowed,n=t.includes("tilemap"),c=t.includes("data"),u="tile"!==s&&(!r.tileInfo||o),y="tile"!==s&&(!r.tileInfo||o),m="tile"!==s,d=r.cimVersion&&_core_Version_js__WEBPACK_IMPORTED_MODULE_4__.R.parse(r.cimVersion),h=d?.since(1,4)??!1,f=d?.since(2,0)??!1;return{operations:{supportsExportMap:p,supportsExportTiles:l,supportsIdentify:a,supportsQuery:c,supportsTileMap:n},exportMap:p?{supportsArcadeExpressionForLabeling:h,supportsSublayersChanges:m,supportsDynamicLayers:o,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:y,supportsCIMSymbols:f}:null,exportTiles:l?{maxExportTilesCount:+r.maxExportTilesCount}:null}}readVersion(e,r){let t=r.currentVersion;return t||(t=r.hasOwnProperty("capabilities")||r.hasOwnProperty("tables")?10:r.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),t}async fetchRelatedService(e){const r=this.portalItem;if(!r||!(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_16__.bK)(r))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=r.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},e).then((e=>e.find((e=>"Feature Service"===e.type))??null),(()=>null)));const t=await this._relatedFeatureServicePromise;return(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.Te)(e),t?{itemId:t.id,url:t.url}:null}async fetchSublayerInfo(e,t){const{source:s}=e;if(this?.portalItem&&"tile"===this.type&&"map-layer"===s?.type&&(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_16__.bK)(this.portalItem)&&e.originIdOf("url")<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_11__.Gr.SERVICE){const r=await this.fetchRelatedService(t);r&&(e.url=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.fj)(r.url,s.mapLayerId.toString()),e.layerItemId=r.itemId)}const{url:i}=e;let a;if("data-layer"===s.type)a=(await(0,_request_js__WEBPACK_IMPORTED_MODULE_1__.A)(i,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...t})).data;else if(i&&e.originIdOf("url")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_11__.Gr.SERVICE)try{const e=await this._fetchAllLayersAndTablesFromService(i),r=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.qg)(i)?.sublayer??s.mapLayerId;a=e.get(r)}catch{}else{let r=e.id;"map-layer"===s?.type&&(r=s.mapLayerId);try{a=(await this.fetchAllLayersAndTables(t)).get(r)}catch{}}return a}async fetchAllLayersAndTables(e){return this._fetchAllLayersAndTablesFromService(this.parsedUrl?.path,e)}async _fetchAllLayersAndTablesFromService(e,i){await this.load(i),this._allLayersAndTablesMap||=new Map;const a=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.qg)(e),p=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_17__.tE)(this._allLayersAndTablesMap,a?.url.path,(()=>(0,_request_js__WEBPACK_IMPORTED_MODULE_1__.A)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.fj)(a?.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((e=>{const r=new Map;for(const t of e.data.layers)r.set(t.id,t);return{result:r}}),(e=>({error:e}))))),l=await p;if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.Te)(i),"result"in l)return l.result;throw l.error}};return(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({readOnly:!0})],b.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.w)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],b.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({json:{read:{source:"copyrightText"}}})],b.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__.A})],b.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.id)],b.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],b.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.M6)],b.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__.A})],b.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({readOnly:!0})],b.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.w)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],b.prototype,"readVersion",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.$)("esri.layers.mixins.ArcGISMapService")],b),b}},"./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>E});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Collection.js"),_core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/CollectionFlattener.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/core/reactiveUtils.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/utils.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js"),_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/layers/support/Sublayer.js"),_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/layers/support/sublayerUtils.js");const f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__.A.getLogger("esri.layers.TileLayer");const h=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A.ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__.A);function m(e,r){e&&e.forEach((e=>{r(e),e.sublayers&&e.sublayers.length&&m(e.sublayers,r)}))}const E=o=>{let E=class extends o{constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__.A({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.PORTAL_ITEM]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_SCENE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_MAP]:{}},this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.wB)((()=>this.sublayers),((e,r)=>this._handleSublayersChange(e,r)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.OH))}destroy(){this.allSublayers.destroy()}readSublayers(e,r){if(!r||!e)return;const{sublayersSourceJSON:s}=this,t=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.aB)(r.origin);if(t<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE)return;if(s[t]={context:r,visibleLayers:e.visibleLayers||s[t].visibleLayers,layers:e.layers||s[t].layers},t>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE)return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:o,origin:a}=this.createSublayersForOrigin("web-document"),l=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__.oY)(this);l.setDefaultOrigin(a),this._set("sublayers",new h(o)),l.setDefaultOrigin("user")}findSublayerById(e){return this.allSublayers.find((r=>r.id===e))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(e){const r=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.aB)("web-document"===e?"web-map":e);let s=_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE,t=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE].layers,o=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.SERVICE].context,a=null;const l=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_MAP].filter((e=>e<=r));for(const u of l){const e=this.sublayersSourceJSON[u];(0,_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__._X)(e.layers)&&(s=u,t=e.layers,o=e.context,e.visibleLayers&&(a={visibleLayers:e.visibleLayers,context:e.context}))}const i=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.Gr.WEB_MAP].filter((e=>e>s&&e<=r));let n=null;for(const u of i){const{layers:e,visibleLayers:r,context:s}=this.sublayersSourceJSON[u];e&&(n={layers:e,context:s}),r&&(a={visibleLayers:r,context:s})}const y=function S(e,r){const s=[],t={};return e?(e.forEach((e=>{const o=new _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__.A;if(o.read(e,r),t[o.id]=o,null!=e.parentLayerId&&-1!==e.parentLayerId){const r=t[e.parentLayerId];r.sublayers||(r.sublayers=[]),r.sublayers.unshift(o)}else s.unshift(o)})),s):s}(t,o),p=new Map,f=new Set;if(n)for(const u of n.layers)p.set(u.id,u);if(a?.visibleLayers)for(const u of a.visibleLayers)f.add(u);return m(y,(e=>{n&&e.read(p.get(e.id),n.context),a&&e.read({defaultVisibility:f.has(e.id)},a.context)})),{origin:(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OL)(s),sublayers:new h({items:y})}}read(e,r){super.read(e,r),this.readSublayers(e,r)}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(e.on("before-changes",(e=>{f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__.A("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),e.preventDefault()})),"sublayers-owner"))}};return(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.MZ)({readOnly:!0})],E.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.MZ)({readOnly:!0,type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A.ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__.A)})],E.prototype,"serviceSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.MZ)({value:null,type:h,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],E.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.MZ)({readOnly:!0})],E.prototype,"sublayersSourceJSON",void 0),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.$)("esri.layers.mixins.SublayersOwner")],E),E}},"./node_modules/@arcgis/core/layers/support/LayerFloorInfo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>p});var l,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Collection.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"));let i=l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.oY{constructor(o){super(o),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A}clone(){return new l({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.MZ)({type:String,json:{write:!0}})],i.prototype,"floorField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.MZ)({json:{read:!1,write:!1}})],i.prototype,"viewAllMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.MZ)({json:{read:!1,write:!1}})],i.prototype,"viewAllLevelIds",void 0),i=l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.$)("esri.layers.support.LayerFloorInfo")],i);const p=i},"./node_modules/@arcgis/core/layers/support/Sublayer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>X});var Q,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/@arcgis/core/geometry.js"),__webpack_require__("./node_modules/@arcgis/core/PopupTemplate.js")),_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/DictionaryRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/DotDensityRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/HeatmapRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/PieChartRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/Renderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/SimpleRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/support/jsonUtils.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/support/types.js")),_request_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_symbols_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/symbols.js"),_core_Collection_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/core/Collection.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_has_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@arcgis/core/core/has.js"),_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@arcgis/core/core/Identifiable.js"),_core_lang_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@arcgis/core/core/lang.js"),_core_Loadable_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/@arcgis/core/core/Loadable.js"),_core_Logger_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js"),_core_sql_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("./node_modules/@arcgis/core/core/sql.js"),_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js"),_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js"),_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js"),_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/utils.js"),_graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js"),_FeatureType_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./node_modules/@arcgis/core/layers/support/FeatureType.js"),_Field_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./node_modules/@arcgis/core/layers/support/Field.js"),_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./node_modules/@arcgis/core/layers/support/FieldsIndex.js"),_LabelClass_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./node_modules/@arcgis/core/layers/support/LabelClass.js"),_labelingInfo_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./node_modules/@arcgis/core/layers/support/labelingInfo.js"),_LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./node_modules/@arcgis/core/layers/support/LayerFloorInfo.js"),_serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./node_modules/@arcgis/core/layers/support/serviceCapabilitiesUtils.js"),_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./node_modules/@arcgis/core/layers/support/source/DataLayerSource.js"),_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./node_modules/@arcgis/core/layers/support/source/MapLayerSource.js"),_rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./node_modules/@arcgis/core/rest/support/AttachmentQuery.js"),_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./node_modules/@arcgis/core/rest/support/Query.js"),_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("./node_modules/@arcgis/core/support/popupUtils.js"),_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/typeUtils.js");function B(e){return null!=e&&"esriSMS"===e.type}function J(e,r,t){const i=this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.aB)(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&"map-image"===t.layer?.type&&(t.writeSublayerStructure||i)}}function $(e,r,t){return{enabled:!!t&&"tile"===t.layer?.type&&(t.origin&&this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.aB)(t.origin)||this._isOverridden(r))}}function G(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function H(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.aB)(t.origin))}}let z=0;const K=new Set;K.add("layer"),K.add("parent"),K.add("loaded"),K.add("loadStatus"),K.add("loadError"),K.add("loadWarnings");let W=Q=class extends((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_22__.P)((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_18__.sA)(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_20__.A))){constructor(e){super(e),this.capabilities=void 0,this.maxScaleRange={minScale:0,maxScale:0},this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.type="sublayer",this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:r,url:t}=this;if(!r&&!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const i=r?await r.fetchSublayerInfo(this,e):(await(0,_request_js__WEBPACK_IMPORTED_MODULE_13__.A)(t,{responseType:"json",query:{f:"json"},...e})).data;i&&(this.sourceJSON=i,this.read({layerDefinition:i},{origin:"service"}))})()),this}readCapabilities(e,r){r=r.layerDefinition||r;const{operations:{supportsQuery:t,supportsQueryAttachments:i},query:{supportsFormatPBF:o},data:{supportsAttachment:a}}=(0,_serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_39__.S)(r,this.url);return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:t,supportsQueryAttachments:i},data:{supportsAttachment:a},query:{supportsFormatPBF:o}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}readMaxScaleRange(e,r){return{minScale:(r=r.layerDefinition||r).minScale??0,maxScale:r.maxScale??0}}get fieldsIndex(){return new _FieldsIndex_js__WEBPACK_IMPORTED_MODULE_35__.A(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeGlobalID"===t.type)return t.name}get id(){return this._get("id")??z++}set id(e){this._get("id")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,r){return r.minScale||r.layerDefinition?.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition?.maxScale||0}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeOID"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*((null!=t?.transparency?t.transparency:t?.drawingInfo?.transparency)??0)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.Vr)(this.parent.id):r.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{spatialReference:e}=this.layer,r="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:t,fieldsIndex:i}=this,o=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_17__.A)("featurelayer-pbf")&&t?.query.supportsFormatPBF,a=t?.operations?.supportsQueryAttachments??!1;return new _graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_32__.A({url:this.url,pbfSupported:o,fieldsIndex:i,gdbVersion:r,sourceSpatialReference:e,queryAttachmentsSupported:a})}set renderer(e){if(e)for(const r of e.getSymbols())if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_14__.wk)(r)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_21__.A.getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new _source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_41__.f({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.dp)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_15__.A.ofType(Q),e)}writeSublayers(e,r,t){this.sublayers?.length&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTitle(e,r){return r.layerDefinition?.name??r.name}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_23__.x0)(t)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_31__.oY)(this),r=new Q;return(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_31__.oY)(r).store=e.clone(K),this.commitProperty("url"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_44__.tn)(this,e)}createQuery(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_43__.A({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){if(this.hasOwnProperty("sublayers"))return null;const e=(await Promise.all([__webpack_require__.e(83429),__webpack_require__.e(54408)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/layers/FeatureLayer.js"))).default,{layer:r,url:t}=this;let i;if(t&&this.originIdOf("url")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE)i=new e({url:t});else{if(!r?.parsedUrl)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("createFeatureLayer:missing-information","Cannot create a FeatureLayer without a url or a parent layer");{const t=r.parsedUrl;i=new e({url:t.path}),t&&this.source&&("map-layer"===this.source.type?i.layerId=this.source.mapLayerId:i.dynamicDataSource=this.source)}}return null!=r?.refreshInterval&&(i.refreshInterval=r.refreshInterval),this.definitionExpression&&(i.definitionExpression=this.definitionExpression),this.floorInfo&&(i.floorInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_19__.o8)(this.floorInfo)),this.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE&&(i.labelingInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_19__.o8)(this.labelingInfo)),this.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.legendEnabled=this.legendEnabled),this.originIdOf("visible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.visible=this.visible),this.originIdOf("minScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.minScale=this.minScale),this.originIdOf("maxScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.maxScale=this.maxScale),this.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.opacity=this.opacity),this.originIdOf("popupTemplate")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.popupTemplate=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_19__.o8)(this.popupTemplate)),this.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE&&(i.renderer=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_19__.o8)(this.renderer)),"data-layer"===this.source?.type&&(i.dynamicDataSource=this.source.clone()),this.originIdOf("title")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.title=this.title),"map-image"===r?.type&&r.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.customParameters=r.customParameters),"tile"===r?.type&&r.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.DEFAULTS&&(i.customParameters=r.customParameters),i}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t?.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r?.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&"inherited"!==r.type)return r}return this._getLayerDomain(e)}async queryAttachments(e,r){await this.load(),e=_rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_42__.A.from(e);const t=this.capabilities;if(!t?.data?.supportsAttachment)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:i,objectIds:o,globalIds:a,num:s,size:n,start:p,where:y}=e;if(!t?.operations?.supportsQueryAttachments&&(i?.length>0||a?.length>0||n?.length>0||s||p||y))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(o?.length||a?.length||y))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("queryFeatures:not-supported","this layer has no url.");const t=await this.queryTask.execute(e,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(t?.features)for(const i of t.features)i.sourceLayer=this;return t}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},t=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_47__.m)(e,this.definitionExpression);null!=t&&(r.definitionExpression=t);const i=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE)if(this.labelingInfo){!this.loaded&&this.labelingInfo?.some((e=>!e.labelPlacement))&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_21__.A.getLogger(this).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;null!=this.geometryType&&(r=(0,_labelingInfo_js__WEBPACK_IMPORTED_MODULE_37__.z)(this.labelingInfo,_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_46__.g.toJSON(this.geometryType))),e.showLabels=!0,e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:"service",layer:this.layer})))}else e.showLabels=!1;i.opacity>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_30__.Gr.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline?.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)??[];for(const e of t)B(e.symbol)&&r(e.symbol);"symbol"in e&&B(e.symbol)&&r(e.symbol),"defaultSymbol"in e&&B(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,a;switch(e){case"definitionExpression":case"floorInfo":o="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":o="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":o="supportsDynamicLayers",a="supportsModification"}const s=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_31__.oY)(this).getDefaultOrigin();if("service"!==s){if(o&&!1===this.layer?.capabilities?.exportMap?.[o])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(a&&!1===this.capabilities?.exportMap[a])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${a}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,r),"service"!==s&&i!==r&&t&&t.emit&&t.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.removeAllHandles()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{const r=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==r||r||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_21__.A.getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){const{layer:t,declaredClass:i}=this;_core_Logger_js__WEBPACK_IMPORTED_MODULE_21__.A.getLogger(i).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__.A("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`,{reason:r,sublayer:this,layer:t}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};W.test={isMapImageLayerOverridePolicy:e=>e===G||e===J,isTileImageLayerOverridePolicy:e=>e===$},(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({readOnly:!0})],W.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],W.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)()],W.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:J}}})],W.prototype,"definitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({readOnly:!0})],W.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("service","maxScaleRange",["minScale","maxScale"])],W.prototype,"readMaxScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:[_Field_js__WEBPACK_IMPORTED_MODULE_34__.A],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],W.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({readOnly:!0})],W.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:_LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_38__.A,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:J},origins:{"web-scene":{read:!1,write:!1}}}})],W.prototype,"floorInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_45__.A,json:{read:{source:"layerDefinition.extent"}}})],W.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_46__.g.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_46__.g.read}}}}})],W.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String})],W.prototype,"globalIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],W.prototype,"readGlobalIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.jz,json:{write:{ignoreOrigin:!0}}})],W.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({value:null,type:[_LabelClass_js__WEBPACK_IMPORTED_MODULE_36__.A],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:G}}})],W.prototype,"labelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__.K)("labelingInfo")],W.prototype,"writeLabelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:G}}})],W.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({value:null})],W.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String,json:{write:{overridePolicy:$}}})],W.prototype,"layerItemId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:H}}})],W.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],W.prototype,"listMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Number,value:0,json:{write:{overridePolicy:G}}})],W.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("minScale",["minScale","layerDefinition.minScale"])],W.prototype,"readMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Number,value:0,json:{write:{overridePolicy:G}}})],W.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("maxScale",["maxScale","layerDefinition.maxScale"])],W.prototype,"readMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String})],W.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],W.prototype,"readObjectIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:G}}})],W.prototype,"opacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],W.prototype,"readOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__.K)("opacity")],W.prototype,"writeOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({json:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.jz,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:G}}})],W.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__.K)("parent")],W.prototype,"writeParent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy:H,writer(e,r,t){r[t]=!e}}}})],W.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:H}}})],W.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({readOnly:!0})],W.prototype,"queryTask",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.H,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G},origins:{"web-scene":{types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.X,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G}}}}})],W.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({types:{key:"type",base:null,typeMap:{"data-layer":_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_40__.L,"map-layer":_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_41__.f}},cast(e){if(e){if("mapLayerId"in e)return(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.PZ)(_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_41__.f,e);if("dataSource"in e)return(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.PZ)(_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_40__.L,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:G}}})],W.prototype,"source",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)()],W.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({value:null,json:{type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_29__.jz],write:{target:"subLayerIds",allowNull:!0,overridePolicy:G}}})],W.prototype,"sublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_25__.w)("sublayers")],W.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__.K)("sublayers")],W.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String,json:{name:"name",write:{overridePolicy:H}}})],W.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("service","title",["name","layerDefinition.name"])],W.prototype,"readTitle",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String})],W.prototype,"typeIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({json:{read:!1},readOnly:!0,value:"sublayer"})],W.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_26__.w)("typeIdField",["layerDefinition.typeIdField"])],W.prototype,"readTypeIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:[_FeatureType_js__WEBPACK_IMPORTED_MODULE_33__.A],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],W.prototype,"types",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:String,json:{name:"layerUrl",write:{overridePolicy:$}}})],W.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.MZ)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:G}}})],W.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_28__.K)("visible")],W.prototype,"writeVisible",null),W=Q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_27__.$)("esri.layers.support.Sublayer")],W);const X=W},"./node_modules/@arcgis/core/layers/support/serviceCapabilitiesUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>a});var has=__webpack_require__("./node_modules/@arcgis/core/core/has.js"),arcgisLayerUrl=__webpack_require__("./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");function jsonUtils_n(n,r,u){return!!t(n,r,u)}function r(n,r,u){return t(n,r,u)}function t(n,r,t){return n&&n.hasOwnProperty(r)?n[r]:t}const p={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function o(t){const s=t?.supportedSpatialAggregationStatistics?.map((t=>t.toLowerCase()));return{envelope:!!s?.includes("envelopeaggregate"),centroid:!!s?.includes("centroidaggregate"),convexHull:!!s?.includes("convexhullaggregate")}}function u(t,s){const e=t?.supportedOperationsWithCacheHint?.map((t=>t.toLowerCase()));return!!e?.includes(s.toLowerCase())}function a(t,s){return{analytics:n(t),attachment:i(t),data:c(t),metadata:d(t),operations:l(t.capabilities,t,s),query:y(t,s),queryRelated:m(t),queryTopFeatures:C(t),editing:h(t)}}function n(t){return{supportsCacheHint:u(t.advancedQueryCapabilities,"queryAnalytics")}}function i(t){const s=t.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:u(t.advancedQueryCapabilities,"queryAttachments"),supportsResize:jsonUtils_n(t,"supportsAttachmentsResizing",!1)};return s&&Array.isArray(s)&&s.forEach((t=>{const s=p[t.name];s&&(r[s]=!!t.isEnabled)})),r}function c(t){return{isVersioned:jsonUtils_n(t,"isDataVersioned",!1),supportsAttachment:jsonUtils_n(t,"hasAttachments",!1),supportsM:jsonUtils_n(t,"hasM",!1),supportsZ:jsonUtils_n(t,"hasZ",!1)}}function d(t){return{supportsAdvancedFieldProperties:jsonUtils_n(t,"supportsFieldDescriptionProperty",!1)}}function l(s,r,p){const o=s?s.toLowerCase().split(",").map((t=>t.trim())):[],u=p?(0,arcgisLayerUrl.qg)(p):null,a=o.includes(null!=u&&"MapServer"===u.serverType?"data":"query"),n=o.includes("editing")&&!r.datesInUnknownTimezone;let i=n&&o.includes("create"),c=n&&o.includes("delete"),d=n&&o.includes("update");const l=o.includes("changetracking"),y=r.advancedQueryCapabilities;return n&&!(i||c||d)&&(i=c=d=!0),{supportsCalculate:jsonUtils_n(r,"supportsCalculate",!1),supportsTruncate:jsonUtils_n(r,"supportsTruncate",!1),supportsValidateSql:jsonUtils_n(r,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:c,supportsEditing:n,supportsChangeTracking:l,supportsQuery:a,supportsQueryAnalytics:jsonUtils_n(y,"supportsQueryAnalytic",!1),supportsQueryAttachments:jsonUtils_n(y,"supportsQueryAttachments",!1),supportsQueryTopFeatures:jsonUtils_n(y,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:jsonUtils_n(r,"supportsAttachmentsResizing",!1),supportsSync:o.includes("sync"),supportsUpdate:d,supportsExceedsLimitStatistics:jsonUtils_n(r,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:jsonUtils_n(r,"supportsAsyncConvert3D",!1)}}function y(t,p){const a=t.advancedQueryCapabilities,n=t.ownershipBasedAccessControlForFeatures,i=t.archivingInfo,c=t.currentVersion,d=p?.includes("MapServer"),l=!d||c>=(0,has.A)("mapserver-pbf-version-support"),y=(0,arcgisLayerUrl.Wo)(p),m=new Set((t.supportedQueryFormats??"").split(",").map((t=>t.toLowerCase().trim())));return{supportsStatistics:jsonUtils_n(a,"supportsStatistics",t.supportsStatistics),supportsPercentileStatistics:jsonUtils_n(a,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:jsonUtils_n(a,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:o(a),supportsCentroid:jsonUtils_n(a,"supportsReturningGeometryCentroid",!1),supportsDistance:jsonUtils_n(a,"supportsQueryWithDistance",!1),supportsDistinct:jsonUtils_n(a,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:jsonUtils_n(a,"supportsReturningQueryExtent",!1),supportsGeometryProperties:jsonUtils_n(a,"supportsReturningGeometryProperties",!1),supportsHavingClause:jsonUtils_n(a,"supportsHavingClause",!1),supportsOrderBy:jsonUtils_n(a,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:jsonUtils_n(a,"supportsPagination",!1),supportsQuantization:jsonUtils_n(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:jsonUtils_n(t,"supportsQuantizationEditMode",!1),supportsQueryGeometry:jsonUtils_n(t,"supportsReturningQueryGeometry",!1),supportsResultType:jsonUtils_n(a,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:jsonUtils_n(a,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:jsonUtils_n(a,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:jsonUtils_n(t,"useStandardizedQueries",!1),supportsTopFeaturesQuery:jsonUtils_n(a,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:jsonUtils_n(n,"allowAnonymousToQuery",!0),supportsQueryByOthers:jsonUtils_n(n,"allowOthersToQuery",!0),supportsHistoricMoment:jsonUtils_n(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:l&&m.has("pbf"),supportsDisjointSpatialRelationship:jsonUtils_n(a,"supportsDisjointSpatialRel",!1),supportsCacheHint:jsonUtils_n(a,"supportsQueryWithCacheHint",!1)||u(a,"query"),supportsDefaultSpatialReference:jsonUtils_n(a,"supportsDefaultSR",!1),supportsCompactGeometry:y,supportsFullTextSearch:jsonUtils_n(a,"supportsFullTextSearch",!1),maxRecordCountFactor:r(t,"maxRecordCountFactor",void 0),maxRecordCount:r(t,"maxRecordCount",void 0),standardMaxRecordCount:r(t,"standardMaxRecordCount",void 0),tileMaxRecordCount:r(t,"tileMaxRecordCount",void 0)}}function m(t){const s=t.advancedQueryCapabilities,r=jsonUtils_n(s,"supportsAdvancedQueryRelated",!1);return{supportsPagination:jsonUtils_n(s,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:u(s,"queryRelated")}}function C(t){return{supportsCacheHint:u(t.advancedQueryCapabilities,"queryTopFilter")}}function h(t){const s=t.ownershipBasedAccessControlForFeatures,p=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:jsonUtils_n(t,"allowGeometryUpdates",!0),supportsGlobalId:jsonUtils_n(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:jsonUtils_n(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:jsonUtils_n(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:jsonUtils_n(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:jsonUtils_n(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:jsonUtils_n(s,"allowAnonymousToDelete",!0),supportsDeleteByOthers:jsonUtils_n(s,"allowOthersToDelete",!0),supportsUpdateByAnonymous:jsonUtils_n(s,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:jsonUtils_n(s,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:jsonUtils_n(p,"supportsAsyncApplyEdits",!1),zDefault:r(t,"zDefault",void 0)}}},"./node_modules/@arcgis/core/layers/support/sublayerUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Sk:()=>n,Zx:()=>e,_X:()=>o});var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;return o!==r.length||(!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e))}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.Gr.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.Gr.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.Gr.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.Gr.SERVICE}))||!i(e,n)}function i(r,e){if(!r?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}},"./node_modules/@arcgis/core/rest/query/operations/queryZScale.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>t});var _geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/zscale.js");function t(t,o,r){if(!r?.features||!r.hasZ)return;const f=(0,_geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_0__.N)(r.geometryType,o,t.outSpatialReference);if(null!=f)for(const e of r.features)f(e.geometry)}}}]);