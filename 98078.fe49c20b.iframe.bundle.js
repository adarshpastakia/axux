/*! For license information please see 98078.fe49c20b.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[98078],{"./node_modules/@esri/calcite-components/dist/components/Heading.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>Heading});var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@stencil/core/internal/client/index.js");const Heading=(props,children)=>{const HeadingTag=props.level?`h${props.level}`:"div";return delete props.level,(0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.h)(HeadingTag,{...props},children)}},"./node_modules/@esri/calcite-components/dist/components/action-menu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>SLOTS,d:()=>defineCustomElement});var client=__webpack_require__("./node_modules/@stencil/core/internal/client/index.js");function getRoundRobinIndex(index,total){return(index+total)%total}var dom=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/dom.js"),guid=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/guid.js"),components_key=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/key.js"),loadable=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/loadable.js"),action=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/action.js"),icon=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/icon.js"),loader=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/loader.js"),popover=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/popover.js");const CSS_menu="menu",CSS_defaultTrigger="default-trigger",SLOTS={tooltip:"tooltip",trigger:"trigger"},ICONS_menu="ellipsis",SUPPORTED_MENU_NAV_KEYS=["ArrowUp","ArrowDown","End","Home"],ActionMenu=(0,client.GH)(class extends client.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=(0,client.yM)(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${(0,guid.g)()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId,menuId,open,label}=this,menuButtonEl=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==menuButtonEl&&(this.disconnectMenuButtonEl(),this.menuButtonEl=menuButtonEl,this.setTooltipReferenceElement(),menuButtonEl&&(menuButtonEl.active=open,menuButtonEl.setAttribute("aria-controls",menuId),menuButtonEl.setAttribute("aria-expanded",(0,dom.t)(open)),menuButtonEl.setAttribute("aria-haspopup","true"),menuButtonEl.id||(menuButtonEl.id=menuButtonId),menuButtonEl.label||(menuButtonEl.label=label),menuButtonEl.text||(menuButtonEl.text=label),menuButtonEl.addEventListener("pointerdown",this.menuButtonClick),menuButtonEl.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl}=this;menuButtonEl&&(menuButtonEl.removeEventListener("pointerdown",this.menuButtonClick),menuButtonEl.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=event=>{const actions=event.target.assignedElements({flatten:!0}).filter((el=>el?.matches("calcite-action")));this.slottedMenuButtonEl=actions[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=el=>{this.defaultMenuButtonEl=el,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=event=>{(0,dom.j)(event)&&this.toggleOpen()},this.updateTooltip=event=>{const tooltips=event.target.assignedElements({flatten:!0}).filter((el=>el?.matches("calcite-tooltip")));this.tooltipEl=tooltips[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl,expanded,menuButtonEl,open}=this;tooltipEl&&(tooltipEl.referenceElement=expanded||open?null:menuButtonEl)},this.updateAction=(action,index)=>{const{guid,activeMenuItemIndex}=this,id=`${guid}-action-${index}`;action.tabIndex=-1,action.setAttribute("role","menuitem"),action.id||(action.id=id),action.toggleAttribute("data-active",index===activeMenuItemIndex)},this.updateActions=actions=>{actions?.forEach(this.updateAction)},this.handleDefaultSlotChange=event=>{const actions=event.target.assignedElements({flatten:!0}).filter((el=>el?.matches("calcite-action")));this.actionElements=actions},this.menuButtonKeyDown=event=>{const{key}=event,{actionElements,activeMenuItemIndex,open}=this;if(actionElements.length){if((0,components_key.i)(key)){if(event.preventDefault(),!open)return void this.toggleOpen();const action=actionElements[activeMenuItemIndex];action?action.click():this.toggleOpen(!1)}if("Tab"!==key)return"Escape"===key?(this.toggleOpen(!1),void event.preventDefault()):void this.handleActionNavigation(event,key,actionElements);this.open=!1}},this.handleActionNavigation=(event,key,actions)=>{if(!this.isValidKey(key,SUPPORTED_MENU_NAV_KEYS))return;if(event.preventDefault(),!this.open)return this.toggleOpen(),"Home"!==key&&"ArrowDown"!==key||(this.activeMenuItemIndex=0),void("End"!==key&&"ArrowUp"!==key||(this.activeMenuItemIndex=actions.length-1));"Home"===key&&(this.activeMenuItemIndex=0),"End"===key&&(this.activeMenuItemIndex=actions.length-1);const currentIndex=this.activeMenuItemIndex;"ArrowUp"===key&&(this.activeMenuItemIndex=getRoundRobinIndex(Math.max(currentIndex-1,-1),actions.length)),"ArrowDown"===key&&(this.activeMenuItemIndex=getRoundRobinIndex(currentIndex+1,actions.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(value=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=value},this.appearance="solid",this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}componentWillLoad(){(0,loadable.a)(this)}componentDidLoad(){(0,loadable.s)(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(open){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=open),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}closeCalciteActionMenuOnClick(event){if(!(0,dom.j)(event))return;event.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){return await(0,loadable.c)(this),(0,dom.k)(this.menuButtonEl)}renderMenuButton(){const{appearance,label,scale,expanded}=this;return(0,client.h)("slot",{name:SLOTS.trigger,onSlotchange:this.setMenuButtonEl},(0,client.h)("calcite-action",{appearance,class:CSS_defaultTrigger,icon:ICONS_menu,scale,text:label,textEnabled:expanded,ref:this.setDefaultMenuButtonEl}))}renderMenuItems(){const{actionElements,activeMenuItemIndex,open,menuId,menuButtonEl,label,placement,overlayPositioning,flipPlacements}=this,activeAction=actionElements[activeMenuItemIndex],activeDescendantId=activeAction?.id||null;return(0,client.h)("calcite-popover",{flipPlacements,focusTrapDisabled:!0,label,offsetDistance:0,open,overlayPositioning,placement,pointerDisabled:!0,referenceElement:menuButtonEl},(0,client.h)("div",{"aria-activedescendant":activeDescendantId,"aria-labelledby":menuButtonEl?.id,class:CSS_menu,id:menuId,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},(0,client.h)("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return(0,client.h)(client.HY,null,this.renderMenuButton(),this.renderMenuItems(),(0,client.h)("slot",{name:SLOTS.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(key,supportedKeys){return!!supportedKeys.find((k=>k===key))}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[data-active]){outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          );outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-action-menu",{appearance:[513],expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},[[9,"pointerdown","closeCalciteActionMenuOnClick"]]]);function defineCustomElement(){if("undefined"==typeof customElements)return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach((tagName=>{switch(tagName){case"calcite-action-menu":customElements.get(tagName)||customElements.define(tagName,ActionMenu);break;case"calcite-action":customElements.get(tagName)||(0,action.d)();break;case"calcite-icon":customElements.get(tagName)||(0,icon.d)();break;case"calcite-loader":customElements.get(tagName)||(0,loader.d)();break;case"calcite-popover":customElements.get(tagName)||(0,popover.d)()}}))}defineCustomElement()},"./node_modules/@esri/calcite-components/dist/components/popover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>defineCustomElement});var client=__webpack_require__("./node_modules/@stencil/core/internal/client/index.js"),floating_ui=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/floating-ui.js"),dom=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/dom.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var activeFocusTraps_activateTrap=function activateTrap(trapStack,trap){if(trapStack.length>0){var activeTrap=trapStack[trapStack.length-1];activeTrap!==trap&&activeTrap.pause()}var trapIndex=trapStack.indexOf(trap);-1===trapIndex||trapStack.splice(trapIndex,1),trapStack.push(trap)},activeFocusTraps_deactivateTrap=function deactivateTrap(trapStack,trap){var trapIndex=trapStack.indexOf(trap);-1!==trapIndex&&trapStack.splice(trapIndex,1),trapStack.length>0&&trapStack[trapStack.length-1].unpause()},isTabEvent=function isTabEvent(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},isKeyForward=function isKeyForward(e){return isTabEvent(e)&&!e.shiftKey},isKeyBackward=function isKeyBackward(e){return isTabEvent(e)&&e.shiftKey},delay=function delay(fn){return setTimeout(fn,0)},findIndex=function findIndex(arr,fn){var idx=-1;return arr.every((function(value,i){return!fn(value)||(idx=i,!1)})),idx},valueOrHandler=function valueOrHandler(value){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return"function"==typeof value?value.apply(void 0,params):value},getActualTarget=function getActualTarget(event){return event.target.shadowRoot&&"function"==typeof event.composedPath?event.composedPath()[0]:event.target},internalTrapStack=[],createFocusTrap=function createFocusTrap(elements,userOptions){var trap,doc=(null==userOptions?void 0:userOptions.document)||document,trapStack=(null==userOptions?void 0:userOptions.trapStack)||internalTrapStack,config=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward,isKeyBackward},userOptions),state={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},getOption=function getOption(configOverrideOptions,optionName,configOptionName){return configOverrideOptions&&void 0!==configOverrideOptions[optionName]?configOverrideOptions[optionName]:config[configOptionName||optionName]},findContainerIndex=function findContainerIndex(element,event){var composedPath="function"==typeof(null==event?void 0:event.composedPath)?event.composedPath():void 0;return state.containerGroups.findIndex((function(_ref){var container=_ref.container,tabbableNodes=_ref.tabbableNodes;return container.contains(element)||(null==composedPath?void 0:composedPath.includes(container))||tabbableNodes.find((function(node){return node===element}))}))},getNodeForOption=function getNodeForOption(optionName){var optionValue=config[optionName];if("function"==typeof optionValue){for(var _len2=arguments.length,params=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)params[_key2-1]=arguments[_key2];optionValue=optionValue.apply(void 0,params)}if(!0===optionValue&&(optionValue=void 0),!optionValue){if(void 0===optionValue||!1===optionValue)return optionValue;throw new Error("`".concat(optionName,"` was specified but was not a node, or did not return a node"))}var node=optionValue;if("string"==typeof optionValue&&!(node=doc.querySelector(optionValue)))throw new Error("`".concat(optionName,"` as selector refers to no known node"));return node},getInitialFocusNode=function getInitialFocusNode(){var node=getNodeForOption("initialFocus");if(!1===node)return!1;if(void 0===node||!(0,dom.E)(node,config.tabbableOptions))if(findContainerIndex(doc.activeElement)>=0)node=doc.activeElement;else{var firstTabbableGroup=state.tabbableGroups[0];node=firstTabbableGroup&&firstTabbableGroup.firstTabbableNode||getNodeForOption("fallbackFocus")}if(!node)throw new Error("Your focus-trap needs to have at least one focusable element");return node},updateTabbableNodes=function updateTabbableNodes(){if(state.containerGroups=state.containers.map((function(container){var tabbableNodes=(0,dom.z)(container,config.tabbableOptions),focusableNodes=(0,dom.A)(container,config.tabbableOptions),firstTabbableNode=tabbableNodes.length>0?tabbableNodes[0]:void 0,lastTabbableNode=tabbableNodes.length>0?tabbableNodes[tabbableNodes.length-1]:void 0,firstDomTabbableNode=focusableNodes.find((function(node){return(0,dom.B)(node)})),lastDomTabbableNode=focusableNodes.slice().reverse().find((function(node){return(0,dom.B)(node)})),posTabIndexesFound=!!tabbableNodes.find((function(node){return(0,dom.D)(node)>0}));return{container,tabbableNodes,focusableNodes,posTabIndexesFound,firstTabbableNode,lastTabbableNode,firstDomTabbableNode,lastDomTabbableNode,nextTabbableNode:function nextTabbableNode(node){var forward=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],nodeIdx=tabbableNodes.indexOf(node);return nodeIdx<0?forward?focusableNodes.slice(focusableNodes.indexOf(node)+1).find((function(el){return(0,dom.B)(el)})):focusableNodes.slice(0,focusableNodes.indexOf(node)).reverse().find((function(el){return(0,dom.B)(el)})):tabbableNodes[nodeIdx+(forward?1:-1)]}}})),state.tabbableGroups=state.containerGroups.filter((function(group){return group.tabbableNodes.length>0})),state.tabbableGroups.length<=0&&!getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(state.containerGroups.find((function(g){return g.posTabIndexesFound}))&&state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},getActiveElement=function getActiveElement(el){var activeElement=el.activeElement;if(activeElement)return activeElement.shadowRoot&&null!==activeElement.shadowRoot.activeElement?getActiveElement(activeElement.shadowRoot):activeElement},tryFocus=function tryFocus(node){!1!==node&&node!==getActiveElement(document)&&(node&&node.focus?(node.focus({preventScroll:!!config.preventScroll}),state.mostRecentlyFocusedNode=node,function isSelectableInput(node){return node.tagName&&"input"===node.tagName.toLowerCase()&&"function"==typeof node.select}(node)&&node.select()):tryFocus(getInitialFocusNode()))},getReturnFocusNode=function getReturnFocusNode(previousActiveElement){var node=getNodeForOption("setReturnFocus",previousActiveElement);return node||!1!==node&&previousActiveElement},findNextNavNode=function findNextNavNode(_ref2){var target=_ref2.target,event=_ref2.event,_ref2$isBackward=_ref2.isBackward,isBackward=void 0!==_ref2$isBackward&&_ref2$isBackward;target=target||getActualTarget(event),updateTabbableNodes();var destinationNode=null;if(state.tabbableGroups.length>0){var containerIndex=findContainerIndex(target,event),containerGroup=containerIndex>=0?state.containerGroups[containerIndex]:void 0;if(containerIndex<0)destinationNode=isBackward?state.tabbableGroups[state.tabbableGroups.length-1].lastTabbableNode:state.tabbableGroups[0].firstTabbableNode;else if(isBackward){var startOfGroupIndex=findIndex(state.tabbableGroups,(function(_ref3){var firstTabbableNode=_ref3.firstTabbableNode;return target===firstTabbableNode}));if(startOfGroupIndex<0&&(containerGroup.container===target||(0,dom.E)(target,config.tabbableOptions)&&!(0,dom.B)(target,config.tabbableOptions)&&!containerGroup.nextTabbableNode(target,!1))&&(startOfGroupIndex=containerIndex),startOfGroupIndex>=0){var destinationGroupIndex=0===startOfGroupIndex?state.tabbableGroups.length-1:startOfGroupIndex-1,destinationGroup=state.tabbableGroups[destinationGroupIndex];destinationNode=(0,dom.D)(target)>=0?destinationGroup.lastTabbableNode:destinationGroup.lastDomTabbableNode}else isTabEvent(event)||(destinationNode=containerGroup.nextTabbableNode(target,!1))}else{var lastOfGroupIndex=findIndex(state.tabbableGroups,(function(_ref4){var lastTabbableNode=_ref4.lastTabbableNode;return target===lastTabbableNode}));if(lastOfGroupIndex<0&&(containerGroup.container===target||(0,dom.E)(target,config.tabbableOptions)&&!(0,dom.B)(target,config.tabbableOptions)&&!containerGroup.nextTabbableNode(target))&&(lastOfGroupIndex=containerIndex),lastOfGroupIndex>=0){var _destinationGroupIndex=lastOfGroupIndex===state.tabbableGroups.length-1?0:lastOfGroupIndex+1,_destinationGroup=state.tabbableGroups[_destinationGroupIndex];destinationNode=(0,dom.D)(target)>=0?_destinationGroup.firstTabbableNode:_destinationGroup.firstDomTabbableNode}else isTabEvent(event)||(destinationNode=containerGroup.nextTabbableNode(target))}}else destinationNode=getNodeForOption("fallbackFocus");return destinationNode},checkPointerDown=function checkPointerDown(e){var target=getActualTarget(e);findContainerIndex(target,e)>=0||(valueOrHandler(config.clickOutsideDeactivates,e)?trap.deactivate({returnFocus:config.returnFocusOnDeactivate}):valueOrHandler(config.allowOutsideClick,e)||e.preventDefault())},checkFocusIn=function checkFocusIn(event){var target=getActualTarget(event),targetContained=findContainerIndex(target,event)>=0;if(targetContained||target instanceof Document)targetContained&&(state.mostRecentlyFocusedNode=target);else{var nextNode;event.stopImmediatePropagation();var navAcrossContainers=!0;if(state.mostRecentlyFocusedNode)if((0,dom.D)(state.mostRecentlyFocusedNode)>0){var mruContainerIdx=findContainerIndex(state.mostRecentlyFocusedNode),tabbableNodes=state.containerGroups[mruContainerIdx].tabbableNodes;if(tabbableNodes.length>0){var mruTabIdx=tabbableNodes.findIndex((function(node){return node===state.mostRecentlyFocusedNode}));mruTabIdx>=0&&(config.isKeyForward(state.recentNavEvent)?mruTabIdx+1<tabbableNodes.length&&(nextNode=tabbableNodes[mruTabIdx+1],navAcrossContainers=!1):mruTabIdx-1>=0&&(nextNode=tabbableNodes[mruTabIdx-1],navAcrossContainers=!1))}}else state.containerGroups.some((function(g){return g.tabbableNodes.some((function(n){return(0,dom.D)(n)>0}))}))||(navAcrossContainers=!1);else navAcrossContainers=!1;navAcrossContainers&&(nextNode=findNextNavNode({target:state.mostRecentlyFocusedNode,isBackward:config.isKeyBackward(state.recentNavEvent)})),tryFocus(nextNode||(state.mostRecentlyFocusedNode||getInitialFocusNode()))}state.recentNavEvent=void 0},checkKey=function checkKey(event){if(function isEscapeEvent(e){return"Escape"===(null==e?void 0:e.key)||"Esc"===(null==e?void 0:e.key)||27===(null==e?void 0:e.keyCode)}(event)&&!1!==valueOrHandler(config.escapeDeactivates,event))return event.preventDefault(),void trap.deactivate();(config.isKeyForward(event)||config.isKeyBackward(event))&&function checkKeyNav(event){var isBackward=arguments.length>1&&void 0!==arguments[1]&&arguments[1];state.recentNavEvent=event;var destinationNode=findNextNavNode({event,isBackward});destinationNode&&(isTabEvent(event)&&event.preventDefault(),tryFocus(destinationNode))}(event,config.isKeyBackward(event))},checkClick=function checkClick(e){var target=getActualTarget(e);findContainerIndex(target,e)>=0||valueOrHandler(config.clickOutsideDeactivates,e)||valueOrHandler(config.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},addListeners=function addListeners(){if(state.active)return activeFocusTraps_activateTrap(trapStack,trap),state.delayInitialFocusTimer=config.delayInitialFocus?delay((function(){tryFocus(getInitialFocusNode())})):tryFocus(getInitialFocusNode()),doc.addEventListener("focusin",checkFocusIn,!0),doc.addEventListener("mousedown",checkPointerDown,{capture:!0,passive:!1}),doc.addEventListener("touchstart",checkPointerDown,{capture:!0,passive:!1}),doc.addEventListener("click",checkClick,{capture:!0,passive:!1}),doc.addEventListener("keydown",checkKey,{capture:!0,passive:!1}),trap},removeListeners=function removeListeners(){if(state.active)return doc.removeEventListener("focusin",checkFocusIn,!0),doc.removeEventListener("mousedown",checkPointerDown,!0),doc.removeEventListener("touchstart",checkPointerDown,!0),doc.removeEventListener("click",checkClick,!0),doc.removeEventListener("keydown",checkKey,!0),trap},mutationObserver="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function checkDomRemoval(mutations){mutations.some((function(mutation){return Array.from(mutation.removedNodes).some((function(node){return node===state.mostRecentlyFocusedNode}))}))&&tryFocus(getInitialFocusNode())})):void 0,updateObservedNodes=function updateObservedNodes(){mutationObserver&&(mutationObserver.disconnect(),state.active&&!state.paused&&state.containers.map((function(container){mutationObserver.observe(container,{subtree:!0,childList:!0})})))};return(trap={get active(){return state.active},get paused(){return state.paused},activate:function activate(activateOptions){if(state.active)return this;var onActivate=getOption(activateOptions,"onActivate"),onPostActivate=getOption(activateOptions,"onPostActivate"),checkCanFocusTrap=getOption(activateOptions,"checkCanFocusTrap");checkCanFocusTrap||updateTabbableNodes(),state.active=!0,state.paused=!1,state.nodeFocusedBeforeActivation=doc.activeElement,null==onActivate||onActivate();var finishActivation=function finishActivation(){checkCanFocusTrap&&updateTabbableNodes(),addListeners(),updateObservedNodes(),null==onPostActivate||onPostActivate()};return checkCanFocusTrap?(checkCanFocusTrap(state.containers.concat()).then(finishActivation,finishActivation),this):(finishActivation(),this)},deactivate:function deactivate(deactivateOptions){if(!state.active)return this;var options=_objectSpread2({onDeactivate:config.onDeactivate,onPostDeactivate:config.onPostDeactivate,checkCanReturnFocus:config.checkCanReturnFocus},deactivateOptions);clearTimeout(state.delayInitialFocusTimer),state.delayInitialFocusTimer=void 0,removeListeners(),state.active=!1,state.paused=!1,updateObservedNodes(),activeFocusTraps_deactivateTrap(trapStack,trap);var onDeactivate=getOption(options,"onDeactivate"),onPostDeactivate=getOption(options,"onPostDeactivate"),checkCanReturnFocus=getOption(options,"checkCanReturnFocus"),returnFocus=getOption(options,"returnFocus","returnFocusOnDeactivate");null==onDeactivate||onDeactivate();var finishDeactivation=function finishDeactivation(){delay((function(){returnFocus&&tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)),null==onPostDeactivate||onPostDeactivate()}))};return returnFocus&&checkCanReturnFocus?(checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation,finishDeactivation),this):(finishDeactivation(),this)},pause:function pause(pauseOptions){if(state.paused||!state.active)return this;var onPause=getOption(pauseOptions,"onPause"),onPostPause=getOption(pauseOptions,"onPostPause");return state.paused=!0,null==onPause||onPause(),removeListeners(),updateObservedNodes(),null==onPostPause||onPostPause(),this},unpause:function unpause(unpauseOptions){if(!state.paused||!state.active)return this;var onUnpause=getOption(unpauseOptions,"onUnpause"),onPostUnpause=getOption(unpauseOptions,"onPostUnpause");return state.paused=!1,null==onUnpause||onUnpause(),updateTabbableNodes(),addListeners(),updateObservedNodes(),null==onPostUnpause||onPostUnpause(),this},updateContainerElements:function updateContainerElements(containerElements){var elementsAsArray=[].concat(containerElements).filter(Boolean);return state.containers=elementsAsArray.map((function(element){return"string"==typeof element?doc.querySelector(element):element})),state.active&&updateTabbableNodes(),updateObservedNodes(),this}}).updateContainerElements(elements),trap};const customConfig=globalThis.calciteConfig,focusTrapStack=customConfig?.focusTrapStack||[];function activateFocusTrap(component,options){component.focusTrapDisabled||component.focusTrap?.activate(options)}function deactivateFocusTrap(component,options){component.focusTrap?.deactivate(options)}var guid=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/guid.js"),openCloseComponent=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/openCloseComponent.js"),Heading=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/Heading.js"),locale=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/locale.js"),t9n=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/t9n.js"),key=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/key.js"),loadable=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/loadable.js"),observers=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/observers.js"),FloatingArrow=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/FloatingArrow.js"),component=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/component.js"),action=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/action.js"),icon=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/icon.js"),loader=__webpack_require__("./node_modules/@esri/calcite-components/dist/components/loader.js");const CSS_container="container",CSS_closeButtonContainer="close-button-container",CSS_closeButton="close-button",CSS_content="content",CSS_hasHeader="has-header",CSS_header="header",CSS_heading="heading";const manager=new class PopoverManager{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=composedPath=>{const{registeredElements}=this,registeredElement=composedPath.find((pathEl=>registeredElements.has(pathEl)));return registeredElements.get(registeredElement)},this.togglePopovers=event=>{const composedPath=event.composedPath(),togglePopover=this.queryPopover(composedPath);togglePopover&&!togglePopover.triggerDisabled&&(togglePopover.open=!togglePopover.open),Array.from(this.registeredElements.values()).filter((popover=>popover!==togglePopover&&popover.autoClose&&popover.open&&!composedPath.includes(popover))).forEach((popover=>popover.open=!1))},this.keyHandler=event=>{event.defaultPrevented||("Escape"===event.key?this.closeAllPopovers():(0,key.i)(event.key)&&this.togglePopovers(event))},this.clickHandler=event=>{(0,dom.j)(event)&&this.togglePopovers(event)}}registerElement(referenceEl,popover){this.registeredElementCount++,this.registeredElements.set(referenceEl,popover),1===this.registeredElementCount&&this.addListeners()}unregisterElement(referenceEl){this.registeredElements.delete(referenceEl)&&this.registeredElementCount--,0===this.registeredElementCount&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach((popover=>popover.open=!1))}addListeners(){document.addEventListener("pointerdown",this.clickHandler,{capture:!0}),document.addEventListener("keydown",this.keyHandler,{capture:!0})}removeListeners(){document.removeEventListener("pointerdown",this.clickHandler,{capture:!0}),document.removeEventListener("keydown",this.keyHandler,{capture:!0})}},Popover=(0,client.GH)(class extends client.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=(0,client.yM)(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=(0,client.yM)(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=(0,client.yM)(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=(0,client.yM)(this,"calcitePopoverOpen",6),this.mutationObserver=(0,observers.c)("mutation",(()=>this.updateFocusTrapElements())),this.guid=`calcite-popover-${(0,guid.g)()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=el=>{this.transitionEl=el},this.setFilteredPlacements=()=>{const{el,flipPlacements}=this;this.filteredFlipPlacements=flipPlacements?(0,floating_ui.f)(flipPlacements,el):null},this.setUpReferenceElement=(warn=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),(0,floating_ui.c)(this,this.effectiveReferenceElement,this.el);const{el,referenceElement,effectiveReferenceElement}=this;warn&&referenceElement&&!effectiveReferenceElement&&console.warn(`${el.tagName}: reference-element id "${referenceElement}" was not found.`,{el}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement,open}=this;effectiveReferenceElement&&"setAttribute"in effectiveReferenceElement&&effectiveReferenceElement.setAttribute("aria-expanded",(0,dom.t)(open))},this.addReferences=()=>{const{effectiveReferenceElement}=this;if(!effectiveReferenceElement)return;const id=this.getId();"setAttribute"in effectiveReferenceElement&&effectiveReferenceElement.setAttribute("aria-controls",id),manager.registerElement(effectiveReferenceElement,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement}=this;effectiveReferenceElement&&("removeAttribute"in effectiveReferenceElement&&(effectiveReferenceElement.removeAttribute("aria-controls"),effectiveReferenceElement.removeAttribute("aria-expanded")),manager.unregisterElement(effectiveReferenceElement))},this.hide=()=>{this.open=!1},this.storeArrowEl=el=>{this.arrowEl=el,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=floating_ui.b,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(focusTrapDisabled){this.open&&(focusTrapDisabled?deactivateFocusTrap(this):activateFocusTrap(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(value){(0,openCloseComponent.o)(this),value&&this.reposition(!0),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){(0,t9n.u)(this,this.effectiveLocale)}connectedCallback(){this.setFilteredPlacements(),(0,locale.c)(this),(0,t9n.c)(this),this.setUpReferenceElement(this.hasLoaded),function connectFocusTrap(component,options){const{el}=component,focusTrapNode=options?.focusTrapEl||el;if(!focusTrapNode)return;const focusTrapOptions={clickOutsideDeactivates:!0,escapeDeactivates:!1,fallbackFocus:focusTrapNode,setReturnFocus:el=>((0,dom.k)(el),!1),...options?.focusTrapOptions,document:el.ownerDocument,tabbableOptions:dom.F,trapStack:focusTrapStack};component.focusTrap=createFocusTrap(focusTrapNode,focusTrapOptions)}(this),this.open&&(0,openCloseComponent.o)(this)}async componentWillLoad(){await(0,t9n.s)(this),(0,loadable.a)(this)}componentDidLoad(){(0,loadable.s)(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),(0,locale.d)(this),(0,t9n.d)(this),(0,floating_ui.a)(this,this.effectiveReferenceElement,this.el),deactivateFocusTrap(this)}async reposition(delayed=!1){const{el,effectiveReferenceElement,placement,overlayPositioning,flipDisabled,filteredFlipPlacements,offsetDistance,offsetSkidding,arrowEl}=this;return(0,floating_ui.r)(this,{floatingEl:el,referenceEl:effectiveReferenceElement,overlayPositioning,placement,flipDisabled,flipPlacements:filteredFlipPlacements,offsetDistance,offsetSkidding,arrowEl,type:"popover"},delayed)}async setFocus(){await(0,loadable.c)(this),(0,client.xE)(this.el),(0,dom.f)(this.el)}async updateFocusTrapElements(){!function updateFocusTrapElements(component){component.focusTrap?.updateContainerElements(component.el)}(this)}getReferenceElement(){const{referenceElement,el}=this;return("string"==typeof referenceElement?(0,dom.q)(el,{id:referenceElement}):referenceElement)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),activateFocusTrap(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),deactivateFocusTrap(this)}renderCloseButton(){const{messages,closable}=this;return closable?(0,client.h)("div",{class:CSS_closeButtonContainer,key:CSS_closeButtonContainer},(0,client.h)("calcite-action",{appearance:"transparent",class:CSS_closeButton,onClick:this.hide,scale:this.scale,text:messages.close,ref:closeButtonEl=>this.closeButtonEl=closeButtonEl},(0,client.h)("calcite-icon",{icon:"x",scale:(0,component.g)(this.scale)}))):null}renderHeader(){const{heading,headingLevel}=this,headingNode=heading?(0,client.h)(Heading.H,{class:CSS_heading,level:headingLevel},heading):null;return headingNode?(0,client.h)("div",{class:CSS_header,key:CSS_header},headingNode,this.renderCloseButton()):null}render(){const{effectiveReferenceElement,heading,label,open,pointerDisabled,floatingLayout}=this,displayed=effectiveReferenceElement&&open,hidden=!displayed,arrowNode=pointerDisabled?null:(0,client.h)(FloatingArrow.F,{floatingLayout,key:"floating-arrow",ref:this.storeArrowEl});return(0,client.h)(client.AA,{"aria-hidden":(0,dom.t)(hidden),"aria-label":label,"aria-live":"polite","calcite-hydrated-hidden":hidden,id:this.getId(),role:"dialog"},(0,client.h)("div",{class:{[floating_ui.F.animation]:!0,[floating_ui.F.animationActive]:displayed},ref:this.setTransitionEl},arrowNode,(0,client.h)("div",{class:{[CSS_hasHeader]:!!heading,[CSS_container]:!0}},this.renderHeader(),(0,client.h)("div",{class:CSS_content},(0,client.h)("slot",null)),heading?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-app-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-app-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-app-z-index) * -1);fill:var(--calcite-ui-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-ui-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-ui-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]}]);function defineCustomElement(){if("undefined"==typeof customElements)return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach((tagName=>{switch(tagName){case"calcite-popover":customElements.get(tagName)||customElements.define(tagName,Popover);break;case"calcite-action":customElements.get(tagName)||(0,action.d)();break;case"calcite-icon":customElements.get(tagName)||(0,icon.d)();break;case"calcite-loader":customElements.get(tagName)||(0,loader.d)()}}))}defineCustomElement()}}]);