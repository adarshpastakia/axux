"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[1830],{"./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>h});var request=__webpack_require__("./node_modules/@arcgis/core/request.js"),core_Error=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),fontUtils=__webpack_require__("./node_modules/@arcgis/core/core/fontUtils.js"),promiseUtils=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),base64Utils=__webpack_require__("./node_modules/@arcgis/core/support/base64Utils.js"),index2=__webpack_require__("./node_modules/@arcgis/core/chunks/index2.js"),time=__webpack_require__("./node_modules/@arcgis/core/core/time.js");const n=[137,80,78,71,13,10,26,10];function i(t){const e=new Uint8Array(t);return!n.some(((t,o)=>t!==e[o]))}function a(t){if(!i(t))return!1;const e=new DataView(t),o=new Uint8Array(t);let r,n=8;do{const t=e.getUint32(n);if(r=String.fromCharCode.apply(String,Array.prototype.slice.call(o.subarray(n+4,n+8))),"acTL"===r)return!0;n+=12+t}while("IEND"!==r&&n<o.length);return!1}var imageutils=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"),index3=__webpack_require__("./node_modules/@arcgis/core/chunks/index3.js");const gif_a=[71,73,70];function o(t){if(!function r(t){const e=new Uint8Array(t);return!gif_a.some(((t,i)=>t!==e[i]))}(t))return!1;const e=new DataView(t),i=e.getUint8(10);let s=13+(128&i?3*2**(1+(7&i)):0),n=0,a=!1;for(;!a;){switch(e.getUint8(s++)){case 33:if(!o())return!1;break;case 44:c();break;case 59:a=!0;break;default:return!1}if(n>1)return!0}function o(){switch(e.getUint8(s++)){case 249:!function d(){s++,s+=4,h()}();break;case 1:!function m(){n++,s++,s+=12,h()}();break;case 254:!function u(){h()}();break;case 255:!function f(){s++,s+=8,s+=3,h()}();break;default:return!1}return!0}function c(){n++,s+=8;const t=e.getUint8(s++);s+=128&t?3*2**(1+(7&t)):0,s++,h()}function h(){let t;for(;t=e.getUint8(s++);)s+=t}return!1}class h{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,t){const r=this._resourceMap.get(e);if(r)return{width:r.width,height:r.height};let i=this._inFlightResourceMap.get(e);return i?i.then((e=>({width:e.width,height:e.height}))):(i=async function l(e,t){const{arrayBuffer:r,mediaType:i}=await async function p(r,o){let n;const a=";base64,";if(r.includes(a)){const e=r.indexOf(a),t=r.indexOf(a)+a.length,i=r.substring(t);n={arrayBuffer:(0,base64Utils.R)(i),mediaType:r.substring(0,e).replace("data:","")}}else try{const t=await(0,request.default)(r,{responseType:"array-buffer",...o});n={arrayBuffer:t.data,mediaType:t.getHeader("Content-Type")}}catch(c){if(!(0,promiseUtils.D_)(c))throw new core_Error.Z("mapview-invalid-resource",`Could not fetch requested resource at ${r}`)}return n}(e,t),s="image/png"===i;return"image/gif"===i&&o(r)?async function gif_n(n,a){const r=(0,index3.p)(n),o=(0,index3.d)(r,!0),{width:c,height:d}=r.lsd,m=document.createElement("canvas");m.width=c,m.height=d;const u=m.getContext("2d",{willReadFrequently:!0}),f=[],h=[];for(const i of o){h.push((0,time.HA)(i.delay||100));const s=new ImageData(i.patch,i.dims.width,i.dims.height),n=(0,imageutils.E0)(s),a=3===i.disposalType?u.getImageData(i.dims.left,i.dims.top,i.dims.width,i.dims.height):void 0;u.drawImage(n,i.dims.left,i.dims.top);const r=u.getImageData(0,0,c,d);f.push(r),1===i.disposalType||(2===i.disposalType?u.clearRect(i.dims.left,i.dims.top,i.dims.width,i.dims.height):3===i.disposalType&&u.putImageData(a,i.dims.left,i.dims.top))}return{frameDurations:h,getFrame:t=>f[t],width:c,height:d}}(r):s&&a(r)?async function apng_r(r,n){const i=(0,index2.p)(r);if(i instanceof Error)throw i;await i.createImages(),(0,promiseUtils.k_)(n);const{frames:a,width:s,height:p}=i,c=document.createElement("canvas");c.width=s,c.height=p;const l=c.getContext("2d",{willReadFrequently:!0}),m=[],h=[];for(const t of a){h.push((0,time.HA)(t.delay||100));const e=t.imageElement;0===t.blendOp?l.globalCompositeOperation="copy":l.globalCompositeOperation="source-over";const r=2===t.disposeOp?l.getImageData(t.left,t.top,t.width,t.height):void 0;l.drawImage(e,t.left,t.top);const n=l.getImageData(0,0,s,p);m.push(n),0===t.disposeOp||(1===t.disposeOp?l.clearRect(t.left,t.top,t.width,t.height):2===t.disposeOp&&l.putImageData(r,t.left,t.top))}return{frameDurations:h,getFrame:t=>m[t],width:s,height:p}}(r,t):async function u(r,s){const o=window.URL.createObjectURL(r);try{const{data:t}=await(0,request.default)(o,{...s,responseType:"image"});return t}catch(n){if(!(0,promiseUtils.D_)(n))throw new core_Error.Z("mapview-invalid-resource",`Could not fetch requested resource at ${o}`);throw n}finally{window.URL.revokeObjectURL(o)}}(new Blob([r],{type:i}),t)}(e,t),this._inFlightResourceMap.set(e,i),i.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return(0,fontUtils.mx)(e)}}},"./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CIMSymbolRasterizer:()=>z,GeometryStyle:()=>M});var M,e,_Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/Color.js"),_request_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/core/screenUtils.js"),_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js"),_CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js"),_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js"),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"),_Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/Rasterizer.js"),_TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js"),_utils_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/utils.js"),_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js"),_support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/Symbol3DAnchorPosition2D.js");(e=M||(M={})).Legend="legend",e.Preview="preview";const _=e=>e&&e.scaleFactor?e.scaleFactor:1;class z{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._imageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__.Z,this._cimResourceManager=new _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__.Z,this._rasterizer=new _Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__.Z(this._cimResourceManager)}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,a,i,r,o,s,n){if(!e)return null;const{data:g}=e;if(!g||"CIMSymbolReference"!==g.type||!g.symbol)return null;const{symbol:u}=g;o||(o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.JW)(u));const d=await _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.E0.resolveSymbolOverrides(g,t,this._spatialReference,r,o,s,n);this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const y=this._imageDataCanvas,p=this._cimResourceManager,w=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchResources(d,p,w),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchFonts(d,p,w),w.length>0&&await Promise.all(w);const{width:C,height:M}=a,_=function v(e,t,a,i){const r=1,o=-t/2+r,s=t/2-r,n=a/2-r,c=-a/2+r;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[o,0],[0,0],[s,0]]]};default:return"legend"===i?{rings:[[[o,n],[s,0],[s,c],[o,c],[o,n]]]}:{rings:[[[o,n],[s,n],[s,c],[o,c],[o,n]]]}}}(o,C,M,i),z=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.getEnvelope(d,_,p);if(!z)return null;const I=1.3333333333333333*(window.devicePixelRatio||1);let x=1,R=0,P=0;switch(u.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;z.width>C&&(e=C/z.width);let t=1;z.height>M&&(t=M/z.height),"preview"===i&&(z.width<C&&(e=C/z.width),z.height<M&&(t=M/z.height)),x=Math.min(e,t),R=z.x+z.width/2,P=z.y+z.height/2}break;case"CIMLineSymbol":{let e=1;z.height>M&&(e=M/z.height),x=e,P=z.y+z.height/2;const t=z.x*x+C/2,a=(z.x+z.width)*x+C/2;if(t<0){const{paths:e}=_;e[0][0][0]-=t}if(a>C){const{paths:e}=_;e[0][2][0]-=a-C}}break;case"CIMPolygonSymbol":{R=z.x+z.width/2,P=z.y+z.height/2;const e=z.x*x+C/2,t=(z.x+z.width)*x+C/2,a=z.y*x+M/2,i=(z.y+z.height)*x+M/2,{rings:r}=_;e<0&&(r[0][0][0]-=e,r[0][3][0]-=e,r[0][4][0]-=e),a<0&&(r[0][0][1]+=a,r[0][1][1]+=a,r[0][4][1]+=a),t>C&&(r[0][1][0]-=t-C,r[0][2][0]-=t-C),i>M&&(r[0][2][1]+=i-M,r[0][3][1]+=i-M)}}y.width=C*I,y.height=M*I;y.width+=2,y.height+=2;const S=y.getContext("2d"),k=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__.zA.createIdentity();return k.translate(-R,-P),k.scale(x*I,-x*I),k.translate(C*I/2+1,M*I/2+1),S.clearRect(0,0,y.width,y.height),new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__.cD(S,p,k,!0).drawSymbol(d,_),S.getImageData(0,0,y.width,y.height)}async analyzeCIMSymbol3D(e,t,a,r,s){const n=[],c=t?{geometryType:r,spatialReference:this._spatialReference,fields:t}:null,l=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchFonts(e.data.symbol,this._cimResourceManager,l),await Promise.all(l);const h=new _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__._(this._cimResourceManager,c);let g;await h.analyzeSymbolReference(e.data,this._avoidSDF,n),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.k_)(s);for(const i of n)"CIMPictureMarker"!==i.cim.type&&"CIMPictureFill"!==i.cim.type&&"CIMPictureStroke"!==i.cim.type||(g||(g=[]),g.push(this._fetchPictureMarkerResource(i,s))),a&&"text"===i.type&&"string"==typeof i.text&&i.text.includes("[")&&(i.text=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.Qs)(a,i.text,i.cim.textCase));return g&&await Promise.all(g),n}rasterizeCIMSymbol3D(e,t,a,i,r,o){const s=[];for(const n of e){i&&"function"==typeof i.scaleFactor&&(i.scaleFactor=i.scaleFactor(t,r,o));const e=this._getRasterizedResource(n,t,a,i,r,o);if(!e)continue;let c=0,l=e.anchorX||0,h=e.anchorY||0,m=!1,g=0,u=0;if("esriGeometryPoint"===a){const e=_(i);if(g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.offsetX,t,r,o)*e||0,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.offsetY,t,r,o)*e||0,"marker"===n.type)c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.rotation,t,r,o)||0,m=n.rotateClockwise??!1;else if("text"===n.type){if(c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.angle,t,r,o)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case"left":l=-.5;break;case"right":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case"top":h=.5;break;case"bottom":h=-.5;break;case"baseline":h=-.25;break;default:h=0}}}null!=e&&s.push({angle:c,rotateClockWise:m,anchorX:l,anchorY:h,offsetX:g,offsetY:u,rasterizedResource:e})}return this.getSymbolImage(s)}getSymbolImage(e){const t=document.createElement("canvas"),i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.s3)(t.getContext("2d"));let o=0,s=0,n=0,c=0;const l=[];for(let a=0;a<e.length;a++){const t=e[a],h=t.rasterizedResource;if(!h)continue;const m=h.size,g=t.offsetX,u=t.offsetY,f=t.anchorX,d=t.anchorY,y=t.rotateClockWise||!1;let p=t.angle,w=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(g)-m[0]*(.5+f),C=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(u)-m[1]*(.5+d),M=w+m[0],_=C+m[1];if(p){y&&(p=-p);const e=Math.sin(p*Math.PI/180),t=Math.cos(p*Math.PI/180),a=w*t-C*e,i=w*e+C*t,r=w*t-_*e,o=w*e+_*t,s=M*t-_*e,n=M*e+_*t,c=M*t-C*e,l=M*e+C*t;w=Math.min(a,r,s,c),C=Math.min(i,o,n,l),M=Math.max(a,r,s,c),_=Math.max(i,o,n,l)}o=w<o?w:o,s=C<s?C:s,n=M>n?M:n,c=_>c?_:c;const b=i.createImageData(h.size[0],h.size[1]);b.data.set(new Uint8ClampedArray(h.image.buffer));const z={offsetX:g,offsetY:u,rotateClockwise:y,angle:p,rasterizedImage:b,anchorX:f,anchorY:d};l.push(z)}t.width=n-o,t.height=c-s;const h=-o,m=c;for(let a=0;a<l.length;a++){const e=l[a],t=this._imageDataToCanvas(e.rasterizedImage),o=e.rasterizedImage.width,s=e.rasterizedImage.height,n=h-o*(.5+e.anchorX),c=m-s*(.5-e.anchorY);if(e.angle){const a=(360-e.angle)*Math.PI/180;i.save(),i.translate((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(e.offsetX),-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(e.offsetY)),i.translate(h,m),i.rotate(a),i.translate(-h,-m),i.drawImage(t,n,c),i.restore()}else i.drawImage(t,n+(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(e.offsetX),c-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(e.offsetY))}const g=new _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__.e({x:h/t.width-.5,y:m/t.height-.5});return{imageData:0!==t.width&&0!==t.height?i.getImageData(0,0,t.width,t.height):i.createImageData(1,1),anchorPosition:g}}async _fetchPictureMarkerResource(e,a){const i=e.materialHash;if(!this._pictureMarkerCache.get(i)){const r=(await(0,_request_js__WEBPACK_IMPORTED_MODULE_1__.default)(e.cim.url,{responseType:"image",signal:a&&a.signal})).data;this._pictureMarkerCache.set(i,r)}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.s3)(t.getContext("2d"));return t.width=e.width,t.height=e.height,i.putImageData(e,0,0),t}_imageTo32Array(t,i,r,o){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const s=this._imageDataCanvas,n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.s3)(s.getContext("2d"));if(s.width=i,s.height=r,n.drawImage(t,0,0,i,r),o){n.save();const a=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z(o);n.fillStyle=a.toHex(),n.globalCompositeOperation="multiply",n.fillRect(0,0,i,r),n.globalCompositeOperation="destination-atop",n.drawImage(t,0,0,i,r),n.restore()}return new Uint32Array(n.getImageData(0,0,i,r).data.buffer)}_getRasterizedResource(e,t,i,r,o,s){let n,c,l;if("text"===e.type)return this._rasterizeTextResource(e,t,r,o,s);({analyzedCIM:n,hash:c}=function I(e,t,a,i){let r,o;"function"==typeof e.materialHash?(r=(0,e.materialHash)(t,a,i),o=(0,_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__.S)(e.cim,e.materialOverrides)):(r=e.materialHash,o=e.cim);return{analyzedCIM:o,hash:r}}(e,t,o,s));const g=_(r);if("CIMPictureMarker"===e.cim.type){const i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.size,t,o,s)*g,{image:r,width:n,height:c}=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__.s3)(this._getPictureResource(e,i,(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.color,t,o,s)));return l={image:r,size:[n,c],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},l}(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__.FW)(n,g,{preserveOutlineWidth:!1});const u=n;c+=i,r&&(c+=JSON.stringify(r));const f=this._resourceCache;return f.has(c)?f.get(c):(l=this._rasterizer.rasterizeJSONResource({cim:u,type:e.type,url:e.url,mosaicHash:c,size:null,path:null},window.devicePixelRatio||1,this._avoidSDF),f.set(c,l),l)}_rasterizeTextResource(e,t,a,i,r){const o=_(a),s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.text,t,i,r);if(!s||0===s.length)return null;const n=e.cim,c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.fontFamilyName||e.fontName,t,i,r),l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.style||e.style,t,i,r),h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.weight||e.weight,t,i,r),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.decoration||e.decoration,t,i,r),g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.size,t,i,r)*o,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.horizontalAlignment,t,i,r),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.verticalAlignment,t,i,r),d=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.color,t,i,r)),w=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.outlineColor,t,i,r)),C=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.outlineSize,t,i,r),M=null!=e.backgroundColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)(e.backgroundColor):null,b=null!=e.borderLineColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)(e.borderLineColor):null,z=null!=e.borderLineWidth?e.borderLineWidth:null,v={color:d,size:g,horizontalAlignment:u,verticalAlignment:f,font:{family:c,style:l,weight:h,decoration:m},halo:{size:C||0,color:w,style:l},backgroundColor:M,borderLine:null!=b&&null!=z?{color:b,size:z}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(s,v)}_getPictureResource(e,t,a){const i=this._pictureMarkerCache.get(e.materialHash);if(!i)return null;const o=i.height/i.width,s=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(t):(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(t)/o:i.width,n=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(t)*o:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.F2)(t):i.height;return{image:this._imageTo32Array(i,s,n,a),width:s,height:n}}}},"./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function i(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}__webpack_require__.d(__webpack_exports__,{Hd:()=>s,M7:()=>e,NS:()=>i,TR:()=>t,b7:()=>n,g:()=>c,kH:()=>r,qv:()=>a,tf:()=>o}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}))},"./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Au:()=>M,Jz:()=>x,UJ:()=>w});const n=new Float32Array(1);new Uint32Array(n.buffer);function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}}}]);