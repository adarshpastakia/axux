"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[53056],{"./node_modules/@arcgis/core/geometry/support/buffer/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function e(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}__webpack_require__.d(__webpack_exports__,{Ad:()=>e})},"./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{loadGLTFMesh:()=>N});var Color=__webpack_require__("./node_modules/@arcgis/core/Color.js"),request=__webpack_require__("./node_modules/@arcgis/core/request.js"),MapUtils=__webpack_require__("./node_modules/@arcgis/core/core/MapUtils.js"),mathUtils=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),mat3=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),mat3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),vec3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),vec4f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),MeshComponent=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshComponent.js"),MeshMaterialMetallicRoughness=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js"),MeshTexture=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshTexture.js"),MeshTextureTransform=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js"),MeshVertexAttributes=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js"),BufferView=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js"),vec32=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),vec42=__webpack_require__("./node_modules/@arcgis/core/chunks/vec42.js"),types=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/types.js");Object.freeze(Object.defineProperty({__proto__:null,copy:function e(e,t,o){const r=e.typedBuffer,f=e.typedBufferStride,d=t.typedBuffer,n=t.typedBufferStride,c=o?o.count:t.count;let u=(o?.dstIndex??0)*f,l=(o?.srcIndex??0)*n;for(let p=0;p<c;++p){for(let e=0;e<9;++e)r[u+e]=d[l+e];u+=f,l+=n}}},Symbol.toStringTag,{value:"Module"}));Object.freeze(Object.defineProperty({__proto__:null,copy:function mat42_e(e,t,o){const r=e.typedBuffer,f=e.typedBufferStride,d=t.typedBuffer,n=t.typedBufferStride,c=o?o.count:t.count;let u=(o?.dstIndex??0)*f,l=(o?.srcIndex??0)*n;for(let p=0;p<c;++p){for(let e=0;e<16;++e)r[u+e]=d[l+e];u+=f,l+=n}}},Symbol.toStringTag,{value:"Module"}));__webpack_require__("./node_modules/@arcgis/core/chunks/scalar.js");var vec22=__webpack_require__("./node_modules/@arcgis/core/chunks/vec22.js"),vec33=__webpack_require__("./node_modules/@arcgis/core/chunks/vec33.js"),vec43=__webpack_require__("./node_modules/@arcgis/core/chunks/vec43.js");function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*(0,types.Ad)(s.ElementType)))}var georeference=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js"),DefaultLoadingContext=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js"),loader=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/loader.js"),indexUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js"),resourceUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"),DefaultMaterial_COLOR_GAMMA=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js"),enums=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js");async function N(e,t,r){const o={...r,useTransform:r?.useTransform??!0},n=new DefaultLoadingContext.k(function z(e){const r=e?.resolveFile,o=e?.requestFile;return r||o?{busy:!1,request:async(e,n,s)=>{const a=r?.(e)??e;if(o){const e=await o(a,n,s?.signal);if(void 0!==e)return e}const l="image"===n?"image":"binary"===n?"array-buffer":"json";return(await(0,request.c)(a,{responseType:l,signal:null!=s?s.signal:null})).data}}:null}(o)),s=(await(0,loader.G)(n,t,o,!0)).model,a=s.lods.shift(),l=new Map,i=new Map;s.textures.forEach(((e,t)=>l.set(t,function H(e){return new MeshTexture.c({data:((0,resourceUtils.e6)(e.data),e.data),wrap:Z(e.parameters.wrap)})}(e)))),s.materials.forEach(((e,t)=>i.set(t,function J(t,r){const o=new Color.c(function re(e,t){return(0,vec4f64.f)(te(e[0]),te(e[1]),te(e[2]),t)}(t.color,t.opacity)),s=t.emissiveFactor?new Color.c(function oe(e){return(0,vec3f64.f)(te(e[0]),te(e[1]),te(e[2]))}(t.emissiveFactor)):null,a=e=>e?new MeshTextureTransform.c({scale:e.scale?[e.scale[0],e.scale[1]]:[1,1],rotation:(0,mathUtils.UB)(e.rotation??0),offset:e.offset?[e.offset[0],e.offset[1]]:[0,0]}):null;return new MeshMaterialMetallicRoughness.c({color:o,colorTexture:r.get(t.textureColor),normalTexture:r.get(t.textureNormal),emissiveColor:s,emissiveTexture:r.get(t.textureEmissive),occlusionTexture:r.get(t.textureOcclusion),alphaMode:Y(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:r.get(t.textureMetallicRoughness),colorTextureTransform:a(t.colorTextureTransform),normalTextureTransform:a(t.normalTextureTransform),occlusionTextureTransform:a(t.occlusionTextureTransform),emissiveTextureTransform:a(t.emissiveTextureTransform),metallicRoughnessTextureTransform:a(t.metallicRoughnessTextureTransform)})}(e,l))));const u=Q(a);for(const p of u.parts)W(u,p,i);const{position:c,normal:f,tangent:m,color:d,texCoord0:g}=u.vertexAttributes,x={position:c.typedBuffer,normal:null!=f?f.typedBuffer:null,tangent:null!=m?m.typedBuffer:null,uv:null!=g?g.typedBuffer:null,color:null!=d?d.typedBuffer:null},T=(0,georeference.EX)(x,e,o);return{transform:T.transform,vertexSpace:T.vertexSpace,components:u.components,spatialReference:e.spatialReference,vertexAttributes:new MeshVertexAttributes.s({position:T.vertexAttributes.position,normal:T.vertexAttributes.normal,tangent:T.vertexAttributes.tangent,color:x.color,uv:x.uv})}}function G(e,t){if(null==e)return"-";const o=e.typedBuffer;return`${(0,MapUtils.wJ)(t,o.buffer,(()=>t.size))}/${o.byteOffset}/${o.byteLength}`}function K(e){return null!=e?e.toString():"-"}function Q(e){let t=0;const has={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,n=new Map,s=[];for(const a of e.parts){const{attributes:{position:e,normal:l,color:i,tangent:u,texCoord0:c}}=a,f=`\n      ${G(e,o)}/\n      ${G(l,o)}/\n      ${G(i,o)}/\n      ${G(u,o)}/\n      ${G(c,o)}/\n      ${K(a.transform)}\n    `;let m=!1;const p=(0,MapUtils.wJ)(n,f,(()=>(m=!0,{start:t,length:e.count})));m&&(t+=e.count),l&&(has.normal=!0),i&&(has.color=!0),u&&(has.tangent=!0),c&&(has.texCoord0=!0),s.push({gltf:a,writeVertices:m,region:p})}return{vertexAttributes:{position:r(BufferView.Ax,t),normal:has.normal?r(BufferView.Yj,t):null,tangent:has.tangent?r(BufferView._5,t):null,color:has.color?r(BufferView.sb,t):null,texCoord0:has.texCoord0?r(BufferView.U7,t):null},parts:s,components:[]}}function W(e,t,r){t.writeVertices&&function X(e,t){const{position:r,normal:n,tangent:l,color:i,texCoord0:u}=e.vertexAttributes,c=t.region.start,{attributes:f,transform:m}=t.gltf,p=f.position.count;if((0,vec32.c)(r.slice(c,p),f.position,m),null!=f.normal&&null!=n){const e=(0,mat3.n)((0,mat3f64.a)(),m),t=n.slice(c,p);(0,vec32.b)(t,f.normal,e),(0,mathUtils.ig)(e)&&(0,vec32.d)(t,t)}else null!=n&&(0,vec33.f)(n,0,0,1,{dstIndex:c,count:p});if(null!=f.tangent&&null!=l){const e=(0,mat3.n)((0,mat3f64.a)(),m),t=l.slice(c,p);(0,vec42.a)(t,f.tangent,e),(0,mathUtils.ig)(e)&&(0,vec42.n)(t,t)}else null!=l&&(0,vec43.f)(l,0,0,1,1,{dstIndex:c,count:p});if(null!=f.texCoord0&&null!=u?(0,vec22.a)(u.slice(c,p),f.texCoord0):null!=u&&(0,vec22.f)(u,0,0,{dstIndex:c,count:p}),null!=f.color&&null!=i){const e=f.color,t=i.slice(c,p);if(4===e.elementCount)e instanceof BufferView._5?(0,vec42.b)(t,e,255):e instanceof BufferView.sb?(0,vec43.a)(t,e):e instanceof BufferView.Ig&&(0,vec42.b)(t,e,1/256);else{(0,vec43.f)(t,255,255,255,255);const r=BufferView.IN.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof BufferView.Yj?(0,vec32.e)(r,e,255):e instanceof BufferView.IN?(0,vec33.a)(r,e):e instanceof BufferView.k5&&(0,vec32.e)(r,e,1/256)}}else null!=i&&(0,vec43.f)(i.slice(c,p),255,255,255,255)}(e,t);const{indices:o,attributes:n,primitiveType:s,material:a}=t.gltf;let l=(0,indexUtils.y)(o||n.position.count,s);const i=t.region.start;if(i){const e=new Uint32Array(l);for(let t=0;t<l.length;t++)e[t]+=i;l=e}e.components.push(new MeshComponent.c({name:t.gltf.name,faces:l,material:r.get(a),shading:n.normal?"source":"flat",trustSourceNormals:!0}))}function Y(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function Z(e){return{horizontal:ee(e.s),vertical:ee(e.t)}}function ee(e){switch(e){case enums.Qz.CLAMP_TO_EDGE:return"clamp";case enums.Qz.MIRRORED_REPEAT:return"mirror";case enums.Qz.REPEAT:return"repeat"}}function te(e){return e**(1/DefaultMaterial_COLOR_GAMMA.g)*255}}}]);