// @author    : Adarsh Pastakia
// @version   : 0.0.1
// @copyright : 2021
// @license   : MIT

import { cloneElement, ReactElement, ReactNode, useMemo } from "react";
import { AxToolbar } from "../appbars/Toolbar";
import { useIcon } from "../hooks/useIcon";
import { ElementProps, IconProps, VFC } from "../types";

const DefaultInbox = () => (
  <svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M21 18V12H16L14 15H10L8.5 12H3V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18Z"
      fill="#16ADE1"
    />
    <path
      d="M3 12V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V12M3 12L5.75667 4.64888C5.90304 4.25857 6.27616 4 6.693 4H17.307C17.7238 4 18.097 4.25857 18.2433 4.64888L21 12M3 12H8.5L10 15H14L16 12H21"
      fill="transparent"
      stroke="currentColor"
      strokeOpacity="0.75"
      strokeWidth="1.5"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
  </svg>
);

const DefaultFolder = () => (
  <svg version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
    <polyline fill="#16ADE1" points="16,159.624 16,52.872 194.336,52.872 263.408,120.696 " />
    <polygon
      fill="#16ADE1"
      points="32,159.624 0,159.624 0,36.872 200.872,36.872 274.616,109.28 252.192,132.104 187.8,68.872 32,68.872 "
    />
    <rect
      id="SVGCleanerId_1"
      x="26.768"
      y="116.168"
      fill="currentColor"
      opacity="0.5"
      width="458.48"
      height="48"
    />
    <path
      id="SVGCleanerId_2"
      fill="currentColor"
      opacity="0.75"
      d="M480,140.136v302.992H32V140.136H480 M512,108.136H0v366.992h512V108.136 L512,108.136z"
    />

    <rect
      id="SVGCleanerId_3_1_"
      x="161.045"
      y="289.108"
      transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 652.7915 339.8214)"
      fill="#16ADE1"
      width="189.942"
      height="32"
    />
    <rect
      id="SVGCleanerId_4_1_"
      x="240.017"
      y="210.154"
      transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 652.8035 339.8504)"
      fill="#16ADE1"
      width="32"
      height="189.942"
    />
  </svg>
);

const DefaultExclamation = () => (
  <svg version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
    <path
      fill="currentColor"
      d="M106.1,296.01c-0.46,0-0.92-0.05-1.37-0.14c-0.45-0.09-0.89-0.22-1.31-0.4c-0.42-0.17-0.83-0.39-1.21-0.64      c-0.38-0.26-0.74-0.55-1.06-0.87c-0.33-0.33-0.62-0.68-0.87-1.07c-0.26-0.38-0.47-0.78-0.65-1.21c-0.17-0.42-0.31-0.86-0.4-1.31      c-0.09-0.45-0.13-0.91-0.13-1.36c0-0.46,0.04-0.92,0.13-1.37s0.23-0.89,0.4-1.31c0.18-0.42,0.39-0.83,0.65-1.21      c0.25-0.38,0.54-0.74,0.87-1.06c0.32-0.33,0.68-0.62,1.06-0.87s0.79-0.47,1.21-0.65c0.42-0.17,0.86-0.31,1.31-0.4      c0.9-0.18,1.83-0.18,2.73,0c0.45,0.09,0.89,0.23,1.31,0.4c0.43,0.18,0.83,0.4,1.21,0.65s0.74,0.54,1.07,0.87      c0.32,0.32,0.61,0.68,0.87,1.06c0.25,0.38,0.47,0.79,0.64,1.21s0.31,0.86,0.4,1.31s0.14,0.91,0.14,1.37      c0,0.45-0.05,0.91-0.14,1.36c-0.09,0.45-0.23,0.89-0.4,1.31c-0.17,0.43-0.39,0.83-0.64,1.21c-0.26,0.39-0.55,0.74-0.87,1.07      c-0.33,0.32-0.69,0.61-1.07,0.87c-0.38,0.25-0.78,0.47-1.21,0.64c-0.42,0.18-0.86,0.31-1.31,0.4S106.55,296.01,106.1,296.01z"
    />
    <path
      fill="currentColor"
      d="M475.5,458.25H36.5c-8.78,0-16.58-4.58-20.86-12.24c-4.28-7.67-4.09-16.71,0.51-24.19l70.18-114.04      c2.03-3.29,6.34-4.32,9.63-2.29c3.29,2.03,4.32,6.34,2.29,9.63L28.07,429.16c-1.91,3.1-1.99,6.84-0.21,10.02      s5.01,5.07,8.64,5.07H475.5c3.64,0,6.87-1.9,8.64-5.07s1.7-6.92-0.21-10.02l-219.5-356.7c-1.84-3-4.92-4.71-8.43-4.71      s-6.59,1.72-8.43,4.71L124.24,272.88c-2.03,3.29-6.34,4.32-9.63,2.29c-3.29-2.03-4.32-6.34-2.29-9.63L235.64,65.13      C240.03,58,247.64,53.75,256,53.75s15.97,4.25,20.36,11.38l219.5,356.7c4.6,7.48,4.79,16.52,0.51,24.19      C492.08,453.67,484.28,458.25,475.5,458.25z"
    />
    <path
      fill="currentColor"
      d="M354.79,279.28c-1.85,0-3.65-0.75-4.95-2.05c-0.33-0.32-0.62-0.68-0.87-1.07c-0.26-0.37-0.47-0.78-0.65-1.2      c-0.17-0.43-0.31-0.87-0.4-1.31c-0.09-0.45-0.13-0.91-0.13-1.37c0-0.46,0.04-0.92,0.13-1.37c0.09-0.44,0.23-0.89,0.4-1.31      c0.18-0.42,0.39-0.83,0.65-1.21c0.25-0.38,0.54-0.74,0.87-1.06c1.62-1.63,4.04-2.37,6.31-1.91c0.45,0.09,0.89,0.22,1.31,0.4      c0.43,0.17,0.83,0.39,1.21,0.64c0.39,0.25,0.74,0.55,1.06,0.87c0.33,0.32,0.62,0.68,0.88,1.06c0.25,0.38,0.46,0.79,0.64,1.21      c0.18,0.42,0.31,0.87,0.4,1.31c0.09,0.45,0.14,0.91,0.14,1.37c0,0.46-0.05,0.92-0.14,1.37c-0.09,0.44-0.22,0.88-0.4,1.31      c-0.18,0.42-0.39,0.83-0.64,1.2c-0.26,0.39-0.55,0.75-0.88,1.07c-0.32,0.32-0.67,0.61-1.06,0.87c-0.38,0.25-0.78,0.47-1.21,0.64      c-0.42,0.18-0.86,0.31-1.31,0.4C355.7,279.23,355.24,279.28,354.79,279.28z"
    />
    <path
      fill="currentColor"
      d="M403.86,423.48H108.14c-10.56,0-20.31-5.72-25.46-14.94c-5.15-9.21-4.91-20.52,0.62-29.51l147.86-240.29      c5.35-8.69,14.63-13.88,24.84-13.88s19.49,5.19,24.84,13.88l68.87,111.91c2.03,3.29,1,7.6-2.29,9.63c-3.29,2.02-7.6,1-9.63-2.29      l-68.87-111.91c-2.78-4.52-7.61-7.22-12.91-7.22s-10.13,2.7-12.91,7.22L95.22,386.37c-2.88,4.67-3,10.55-0.32,15.34      c2.68,4.79,7.75,7.77,13.24,7.77h295.72c5.49,0,10.56-2.98,13.24-7.77c2.68-4.79,2.55-10.67-0.32-15.34l-54.14-87.97      c-2.03-3.29-1-7.6,2.29-9.63c3.29-2.02,7.61-1,9.63,2.29l54.14,87.97c5.53,8.99,5.77,20.3,0.62,29.51      C424.17,417.76,414.42,423.48,403.86,423.48z"
    />
    <path
      fill="#16ADE1"
      d="M270.12,335.13h-28.24c-6.17,0-11.22-4.83-11.5-10.99l-0.5-11.01c-0.18-3.86,2.81-7.14,6.67-7.31       c3.85-0.21,7.14,2.81,7.31,6.67l0.4,8.64h23.49l5.23-114.15h-33.96l3.79,82.55c0.18,3.86-2.81,7.14-6.67,7.31       c-0.11,0.01-0.22,0.01-0.33,0.01c-3.72,0-6.81-2.93-6.99-6.68l-3.91-85.15c-0.14-3.13,1.01-6.22,3.17-8.48       c2.16-2.26,5.2-3.56,8.33-3.56h39.17c3.13,0,6.16,1.3,8.33,3.56c2.16,2.26,3.32,5.35,3.17,8.48l-5.46,119.12       C281.34,330.3,276.29,335.13,270.12,335.13z"
    />
    <path
      fill="#16ADE1"
      d="M268.47,394.55h-24.94c-4.83,0-9.39-2.12-12.5-5.81s-4.44-8.54-3.63-13.3l2.69-15.79       c1.34-7.89,8.13-13.61,16.13-13.61h19.56c8,0,14.78,5.73,16.13,13.61l2.69,15.79c0.81,4.76-0.51,9.61-3.63,13.3       S273.3,394.55,268.47,394.55z M246.22,360.04c-1.15,0-2.13,0.83-2.33,1.96l-2.69,15.79c-0.16,0.94,0.26,1.61,0.52,1.92       c0.26,0.31,0.85,0.84,1.8,0.84h24.94c0.95,0,1.54-0.53,1.8-0.84c0.26-0.31,0.68-0.98,0.52-1.92L268.11,362       c-0.19-1.14-1.17-1.96-2.33-1.96H246.22z"
    />
  </svg>
);

/** @internal */
export interface EmptyContentProps extends IconProps<JSX.Element>, ElementProps {
  /**
   * Title text
   */
  title?: string | JSX.Element;
  /**
   * Empty reason or message
   */
  message: string | JSX.Element;
  /**
   * Actions
   */
  actions?: JSX.Element[];
  /**
   * Image
   */
  image?: ReactNode;
  /**
   * Default icon type
   */
  type?: "exclaim" | "folder" | "inbox";
}

export const EmptyContent: VFC<EmptyContentProps> = ({
  icon,
  title,
  message,
  actions = [],
  type,
  image,
  className
}) => {
  const DefaultIcon = useMemo(() => {
    if (type === "inbox") return DefaultInbox;
    if (type === "folder") return DefaultFolder;
    return DefaultExclamation;
  }, [type]);
  const iconEl = useIcon(icon ?? <DefaultIcon />);
  return (
    <div className={`ax-content__empty ${className ?? ""}`}>
      {image && <div>{image}</div>}
      {!image && iconEl}
      {title && <h3>{title}</h3>}
      {message && <p>{message}</p>}
      <AxToolbar align="center">
        {actions.map((action) => cloneElement(action as ReactElement, { type: "link" }))}
      </AxToolbar>
    </div>
  );
};
