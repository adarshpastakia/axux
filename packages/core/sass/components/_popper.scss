// @author    : Adarsh Pastakia
// @version   : 0.0.1
// @copyright : 2021
// @license   : MIT

#{$prefix}-popper {
  box-sizing: border-box;
  font-family: $base-font-family;
  z-index: 50;

  $base: #{$prefix}-popper;

  #{$prefix}-menu__item {
    font-size: 1em;
    line-height: 1.5;
  }

  &[data-show="false"] {
    display: none;
  }

  &--body {
    z-index: 0;
  }

  &--arrow {
    height: 10px;
    position: relative;
    width: 10px;
    z-index: 2;

    &::before,
    &::after {
      border: 5px solid transparent;
      content: "";
      display: block;
      position: absolute;
    }
    &::before {
      @extend #{$prefix}-color--light;
      border-width: 6px;
      z-index: 0;
    }
    &::after {
      z-index: 2;
    }
  }

  @at-root &[data-popper-reference-hidden="true"] {
    pointer-events: none;
    visibility: hidden;
  }

  &[data-popper-placement^="top"] #{$base}--arrow {
    inset-block-end: -10px;
    &::before {
      border-top-color: currentColor;
      inset-block-end: -2px;
      inset-inline-start: -1px;
    }
    &::after {
      border-top-color: currentColor;
    }
  }
  &[data-popper-placement^="bottom"] #{$base}--arrow {
    inset-block-start: -10px;
    &::before {
      border-bottom-color: currentColor;
      inset-block-start: -2px;
      inset-inline-start: -1px;
    }
    &::after {
      border-bottom-color: currentColor;
    }
  }
  &[data-popper-placement^="left"] #{$base}--arrow {
    border-left-color: currentColor;
    inset-inline-end: -10px;
    &::before {
      border-left-color: currentColor;
      inset-block-start: -1px;
      inset-inline-end: -2px;
    }
    &::after {
      border-left-color: currentColor;
    }
  }
  &[data-popper-placement^="right"] #{$base}--arrow {
    border-right-color: currentColor;
    inset-inline-start: -10px;
    &::before {
      border-right-color: currentColor;
      inset-block-start: -1px;
      inset-inline-start: -2px;
    }
    &::after {
      border-right-color: currentColor;
    }
  }

  &#{$prefix}-popover {
    #{$base}--body {
      @extend #{$prefix}-color--base;
      @extend #{$prefix}-bg--base;
      max-height: 50vh;
      max-width: 50vw;
      overflow: auto;

      > #{$prefix}-menu,
      > #{$prefix}-panel__stack > #{$prefix}-menu {
        min-width: 24rem;
      }
    }

    #{$base}--arrow {
      @extend #{$prefix}-color--invert;
    }
  }

  &#{$prefix}-tooltip {
    pointer-events: none;
    #{$base}--body {
      @extend #{$prefix}-shadow--2;
      border-radius: $base-border-radius;
      font-size: 1em;
      padding: 0.25em 0.5em;
    }
  }
}
