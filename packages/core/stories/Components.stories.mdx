import {
  Anchor,
  ArgsTable,
  Canvas,
  Description,
  Heading,
  Meta,
  Story,
  Title,
} from "@storybook/addon-docs";
import { useState, useEffect } from "react";
import {
  AxDivider,
  AxLoader,
  AxAnimation,
  AxFlexBox,
  AxMeter,
  AxCallout,
  AxText,
  AxCard,
} from "../src";
import { CalloutProps } from "../src/components/Callout";
import { CalloutStory, CalloutDangerStory } from "./components/CalloutStory";

export const LIPSUM =
  "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vehicula nulla luctus sem congue iaculis. Praesent lobortis gravida nibh non sodales. Ut lacinia nulla ac pellentesque ullamcorper. Phasellus non quam lorem. Etiam consectetur dapibus dapibus. Nunc diam libero, facilisis a rhoncus eget, fermentum non lacus.";

<Meta title="@core/Page Components" />

<Title>Page Components</Title>

<Heading storyId="core-page-components--1-divider">Divider</Heading>

<Canvas>
  <Story name="1.Divider" args={{ className: "" }}>
    {(args) => (
      <div style={{ width: 600 }}>
        <AxDivider {...args} />
      </div>
    )}
  </Story>
</Canvas>

<Heading storyId="core-page-components--2-divider-label">Divider Label</Heading>

<Canvas>
  <Story
    name="2.Divider Label"
    args={{
      className: "",
      color: "",
      align: "center",
      applyBg: false,
      width: 1,
    }}
  >
    {(args) => (
      <div style={{ width: 600 }}>
        <AxDivider {...args}>Divider label</AxDivider>
      </div>
    )}
  </Story>
</Canvas>

<Heading storyId="core-page-components--3-rainbow-divider">
  Rainbow Divider
</Heading>

<Canvas>
  <Story
    name="3.Rainbow Divider"
    args={{ className: "", align: "center", rainbow: true, children: "" }}
  >
    {(args) => (
      <div style={{ width: 600 }}>
        <AxDivider {...args} />
      </div>
    )}
  </Story>
</Canvas>

<Heading storyId="core-page-components--4-vertical-divider">
  Vertical Divider
</Heading>

<Canvas>
  <Story name="4.Vertical Divider" args={{ className: "" }}>
    {(args) => (
      <div style={{ height: 200 }} className="flex justify-center">
        <AxDivider {...args} vertical />
      </div>
    )}
  </Story>
</Canvas>

<ArgsTable sort="requiredFirst" of={AxDivider} />

<Heading storyId="core-page-components--5-loader-overlay">
  Loader Overlay
</Heading>

<Canvas>
  <Story
    name="5.Loader Overlay"
    args={{
      className: "text-accent",
      label: "",
      loaderClass: "text-6xl text-accent",
      strategy: "absolute",
    }}
  >
    {({ strategy, className, label, loaderClass }) => (
      <div className="aspect-video relative m-auto" style={{ width: 600 }}>
        <AxLoader strategy={strategy} className={className}>
          <AxAnimation.Bars className={loaderClass} />
          {label && <div>{label}</div>}
        </AxLoader>
      </div>
    )}
  </Story>
</Canvas>

<ArgsTable sort="requiredFirst" of={AxLoader} />

<Heading storyId="core-page-components--6-a-callout">Callout</Heading>

<Canvas>
  <Story name="6a.Callout" width="24rem">
    {CalloutStory}
  </Story>
  <Story name="6b.Callout" width="24rem">
    {CalloutDangerStory}
  </Story>
</Canvas>

<ArgsTable sort="requiredFirst" of={AxCallout} />

<Heading storyId="core-page-components--7-meter">Meter</Heading>

<Canvas>
  <Story
    name="7.Meter"
    args={{ className: "", size: "sm", value1: 92, value2: 56, value3: 72 }}
  >
    {({ value1, value2, value3, ...args }) => (
      <AxFlexBox>
        <AxFlexBox.Row>
          <AxFlexBox.Col width={180}>
            <AxMeter {...args} value={value1} color={undefined} />
          </AxFlexBox.Col>
          <AxFlexBox.Col width={180}>
            <AxMeter {...args} value={value2} color="primary" />
          </AxFlexBox.Col>
          <AxFlexBox.Col width={180}>
            <AxMeter {...args} value={value3} color="#1d4ed8" />
          </AxFlexBox.Col>
        </AxFlexBox.Row>
      </AxFlexBox>
    )}
  </Story>
</Canvas>

<ArgsTable sort="requiredFirst" of={AxMeter} />

<Heading storyId="core-page-components--8-card">Card</Heading>

<Canvas>
  <Story
    name="8.Card"
    args={{ className: "p-4", isPlain: false, isActive: false }}
  >
    {(args) => (
      <AxFlexBox>
        <AxFlexBox.Row>
          <AxFlexBox.Col width="24rem">
            <AxCard {...args}>
              <AxText>
                {LIPSUM}
                <AxText.Copy text={LIPSUM} />
              </AxText>
            </AxCard>
          </AxFlexBox.Col>
          <AxFlexBox.Col width="24rem">
            <AxCard {...args} onClick={() => undefined}>
              <AxText>{LIPSUM}</AxText>
              <AxText.Badge color="danger" placement="top-end">
                new
              </AxText.Badge>
            </AxCard>
          </AxFlexBox.Col>
        </AxFlexBox.Row>
      </AxFlexBox>
    )}
  </Story>
</Canvas>

<ArgsTable sort="requiredFirst" of={AxCard} />
