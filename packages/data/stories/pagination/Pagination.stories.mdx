import { Title, Canvas, Story, Meta, ArgsTable } from "@storybook/addon-docs";
import { PaginationStory } from "./Pagination";
import { usePagination } from "../../src";
import { AxIcon } from "@axux/core";

<Meta
  title="@data/Pagination"
  component={usePagination}
  parameters={{ jest: ["Tree.test.tsx"] }}
/>

<Title>Pagination</Title>

<Canvas>
  <Story name="Pagination">{PaginationStory}</Story>
</Canvas>

```tsx
const UsingPagination = () => {
  const perPage = 25;
  const onPageChange = (page: number) => {
    /**** Local paging ****/
    // setPagedRecords(records.slice(page * perPage, perPage))

    /**** Remote paging ****/
    // loadApi.then(setPagedRecords)
  };
  const { headLabel, ...paging } = usePagination({
    totalRecords: 429,
    currentPage: 0,
    perPage,
    onChange,
  });

  return (
    <div className="flex flex-nowrap items-center">
      <div className="flex-auto">{headLabel}</div>
      <div>
        <AxPagination {...paging} />
      </div>
    </div>
  );
};
```

<ArgsTable sort="requiredFirst" of={usePagination} />
