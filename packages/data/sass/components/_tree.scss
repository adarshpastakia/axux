// @author    : Adarsh Pastakia
// @version   : 0.0.1
// @copyright : 2021
// @license   : MIT

#{$prefix}-checkList {
  $base: #{$prefix}-checkList;

  &__label {
    cursor: pointer;
    padding: 0 0.25em;
    user-select: none;
  }
  &__toggles {
    cursor: pointer;
    display: none;
  }
  &__item {
    margin-bottom: 0.125em;

    > div:first-child {
      line-height: 1em;
    }

    &[data-disabled="true"] {
      opacity: 0.5;
      pointer-events: none;
    }

    &:hover {
      > #{$base}__label {
        font-weight: 500;
      }
      #{$base}__icons {
        display: none;
      }
      #{$base}__toggles {
        display: block;
      }
    }
  }
}

#{$prefix}-tree {
  &__panel {
    display: grid;
    grid-area: content;
    grid-template-areas: "search" "tools" "loader" "tree";
    grid-template-rows: auto auto auto 1fr;
    overflow: hidden;

    > #{$prefix}-field {
      margin: -1px -1px 0;
    }
  }

  &__body {
    grid-area: tree;
    --tree-level: 0;
    overflow: auto;
    padding: 0.25em 0.5em;
  }

  &__node {
    align-items: center;
    contain-intrinsic-size: 2em;
    content-visibility: auto;
    cursor: pointer;
    display: flex;
    flex-flow: row nowrap;
    margin-inline-start: calc(var(--tree-level) * 1.25em);
    overflow: hidden;
    padding: 0 0.25em;

    :not(:last-child) {
      margin-inline-end: 0.25em;
    }

    &--label {
      flex: 1 1 1em;
      user-select: none;
      @include ellipsis();
    }

    &--empty {
      pointer-events: none;
    }

    &--link {
      pointer-events: none;

      #{$prefix}-link {
        pointer-events: all;
      }
    }

    &[data-disabled="true"] {
      mix-blend-mode: luminosity;
      opacity: 0.75;
      pointer-events: none;
    }
  }

  &__toggle {
    opacity: 0.5;
    &:hover {
      opacity: 0.8;
    }
  }

  &__tools {
    display: flex;
    flex-flow: row nowrap;
    padding: 0.125em 0.25em;

    > div:first-child {
      flex: 1 1 1em;

      > span {
        padding: 0 0.25em;
      }
    }

    #{$prefix}-button {
      font-size: 1em;
      margin: 0;
    }
  }
}
