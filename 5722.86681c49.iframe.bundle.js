/*! For license information please see 5722.86681c49.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[5722],{"./packages/form/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>AxField,o:()=>AxForm});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist=__webpack_require__("./packages/core/dist/index.js"),utilities_dist=__webpack_require__("./packages/utilities/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js");const Addon=(0,react.memo)((({icon,rtlFlip,color,align="start",showWhenEmpty,showSpinner,children,className,...rest})=>{const focus=(0,react.useCallback)((e=>{e.currentTarget.parentElement?.querySelector(":scope>input,:scope>textarea")?.focus(),e.currentTarget.nextElementSibling?.querySelector("input,textarea")?.focus()}),[]);return(0,jsx_runtime.jsxs)("div",{onClick:focus,"data-align":showWhenEmpty?"end":align,className:`ax-field__addon ${showWhenEmpty?"empty-addon":""} ${className??""}`,...rest,children:[showSpinner&&(0,jsx_runtime.jsx)(dist.Xr.Spinner,{className:"addon-child text-primary"}),!showSpinner&&icon&&(0,jsx_runtime.jsx)(dist.Ng,{icon,color,rtlFlip,className:"addon-child"}),!showSpinner&&(0,utilities_dist.isString)(children)?(0,jsx_runtime.jsx)("span",{className:"addon-child",children}):children]})}));var Icons,index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");!function(Icons){Icons.iconError="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",Icons.iconClear="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",Icons.iconDropdown="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",Icons.iconRadioOff="M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z",Icons.iconRadioOn="M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM12 6.984q2.063 0 3.539 1.477t1.477 3.539-1.477 3.539-3.539 1.477-3.539-1.477-1.477-3.539 1.477-3.539 3.539-1.477z",Icons.iconCheckboxOff="M18.984 3q0.797 0 1.406 0.609t0.609 1.406v13.969q0 0.797-0.609 1.406t-1.406 0.609h-13.969q-0.797 0-1.406-0.609t-0.609-1.406v-13.969q0-0.797 0.609-1.406t1.406-0.609h13.969zM18.984 5.016h-13.969v13.969h13.969v-13.969z",Icons.iconCheckboxOn="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",Icons.iconEyeOff="M10.128 5.214c0.651-0.152 1.295-0.221 1.86-0.214 1.758 0 3.309 0.559 4.658 1.393 1.119 0.692 2.089 1.567 2.894 2.448 0.644 0.705 1.175 1.405 1.585 2.001 0.327 0.475 0.57 0.874 0.733 1.155-0.546 0.953-1.16 1.821-1.778 2.542-0.359 0.419-0.311 1.051 0.108 1.41s1.051 0.311 1.41-0.108c0.818-0.954 1.611-2.112 2.283-3.37 0.148-0.279 0.163-0.618 0.013-0.919 0 0-0.396-0.789-1.12-1.843-0.451-0.656-1.038-1.432-1.757-2.218-0.894-0.979-2.004-1.987-3.319-2.8-1.595-0.985-3.506-1.691-5.686-1.691-0.734-0.009-1.54 0.079-2.34 0.266-0.538 0.126-0.872 0.664-0.746 1.202s0.664 0.872 1.202 0.746zM10.027 11.442l2.531 2.531c-0.182 0.061-0.372 0.094-0.563 0.101-0.513 0.018-1.030-0.159-1.434-0.536s-0.617-0.88-0.635-1.393c-0.008-0.238 0.025-0.476 0.101-0.704zM5.983 7.397l2.553 2.553c-0.434 0.691-0.636 1.484-0.608 2.266 0.036 1.022 0.463 2.033 1.271 2.785s1.846 1.107 2.868 1.071c0.692-0.024 1.379-0.228 1.984-0.608l2.322 2.322c-1.378 0.799-2.895 1.196-4.384 1.214-1.734 0-3.285-0.559-4.634-1.393-1.119-0.692-2.089-1.567-2.894-2.448-0.644-0.705-1.175-1.405-1.585-2.001-0.326-0.475-0.57-0.873-0.732-1.154 1.050-1.822 2.376-3.379 3.841-4.607zM0.293 1.707l4.271 4.271c-1.731 1.479-3.269 3.358-4.445 5.549-0.148 0.279-0.164 0.619-0.013 0.92 0 0 0.396 0.789 1.12 1.843 0.451 0.656 1.038 1.432 1.757 2.218 0.894 0.979 2.004 1.987 3.319 2.8 1.595 0.986 3.506 1.692 5.71 1.692 1.993-0.024 4.019-0.601 5.815-1.759l4.466 4.466c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.876-8.876c-0.002-0.002-0.005-0.005-0.007-0.007l-4.209-4.21c-0.008-0.007-0.016-0.016-0.024-0.024l-8.884-8.883c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z",Icons.iconEyeOn="M0.106 11.553c-0.136 0.274-0.146 0.603 0 0.894 0 0 0.396 0.789 1.12 1.843 0.451 0.656 1.038 1.432 1.757 2.218 0.894 0.979 2.004 1.987 3.319 2.8 1.595 0.986 3.506 1.692 5.698 1.692s4.103-0.706 5.698-1.692c1.315-0.813 2.425-1.821 3.319-2.8 0.718-0.786 1.306-1.562 1.757-2.218 0.724-1.054 1.12-1.843 1.12-1.843 0.136-0.274 0.146-0.603 0-0.894 0 0-0.396-0.789-1.12-1.843-0.451-0.656-1.038-1.432-1.757-2.218-0.894-0.979-2.004-1.987-3.319-2.8-1.595-0.986-3.506-1.692-5.698-1.692s-4.103 0.706-5.698 1.692c-1.315 0.813-2.425 1.821-3.319 2.8-0.719 0.786-1.306 1.561-1.757 2.218-0.724 1.054-1.12 1.843-1.12 1.843zM2.14 12c0.163-0.281 0.407-0.681 0.734-1.158 0.41-0.596 0.94-1.296 1.585-2.001 0.805-0.881 1.775-1.756 2.894-2.448 1.35-0.834 2.901-1.393 4.647-1.393s3.297 0.559 4.646 1.393c1.119 0.692 2.089 1.567 2.894 2.448 0.644 0.705 1.175 1.405 1.585 2.001 0.328 0.477 0.572 0.876 0.734 1.158-0.163 0.281-0.407 0.681-0.734 1.158-0.41 0.596-0.94 1.296-1.585 2.001-0.805 0.881-1.775 1.756-2.894 2.448-1.349 0.834-2.9 1.393-4.646 1.393s-3.297-0.559-4.646-1.393c-1.119-0.692-2.089-1.567-2.894-2.448-0.644-0.705-1.175-1.405-1.585-2.001-0.328-0.477-0.572-0.877-0.735-1.158zM16 12c0-1.104-0.449-2.106-1.172-2.828s-1.724-1.172-2.828-1.172-2.106 0.449-2.828 1.172-1.172 1.724-1.172 2.828 0.449 2.106 1.172 2.828 1.724 1.172 2.828 1.172 2.106-0.449 2.828-1.172 1.172-1.724 1.172-2.828zM14 12c0 0.553-0.223 1.051-0.586 1.414s-0.861 0.586-1.414 0.586-1.051-0.223-1.414-0.586-0.586-0.861-0.586-1.414 0.223-1.051 0.586-1.414 0.861-0.586 1.414-0.586 1.051 0.223 1.414 0.586 0.586 0.861 0.586 1.414z",Icons.iconAdd="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z",Icons.iconDelete="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",Icons.iconFile="M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z",Icons.iconBackspace="M19,15.59L17.59,17L14,13.41L10.41,17L9,15.59L12.59,12L9,8.41L10.41,7L14,10.59L17.59,7L19,8.41L15.41,12L19,15.59M22,3A2,2 0 0,1 24,5V19A2,2 0 0,1 22,21H7C6.31,21 5.77,20.64 5.41,20.11L0,12L5.41,3.88C5.77,3.35 6.31,3 7,3H22M22,5H7L2.28,12L7,19H22V5Z"}(Icons||(Icons={}));const Container=(0,react.memo)((({children,label,info,width,minWidth,maxWidth,isVertical,isRequired,labelAppend,className,inline,labelWidth,...rest})=>{const onClick=(0,react.useCallback)((e=>{e.currentTarget.parentElement?.parentElement?.querySelector(".ax-field__input")?.focus()}),[]);return(0,jsx_runtime.jsxs)("div",{"data-plain":!0,...rest,className:`ax-field__container ${className??""}`,style:{width,minWidth,maxWidth,flex:width?`0 0 ${width}`:""},"data-inline":inline,children:[(0,jsx_runtime.jsx)("div",{className:"ax-field__label",style:{flexBasis:labelWidth},children:label&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("label",{"data-required":isRequired,onClick,children:label}),(0,jsx_runtime.jsx)("div",{className:"leading-[1]",children:labelAppend})]})}),(0,jsx_runtime.jsxs)("div",{className:"ax-field__container--row","data-vertical":isVertical,children:[children,info&&(0,jsx_runtime.jsx)("small",{className:"text-muted px-2",style:{marginInlineStart:labelWidth},children:info})]})]})})),Error_Error=({error})=>{const{t}=(0,es.$G)();return(0,jsx_runtime.jsx)(dist.Ng,{className:"ax-field__error",icon:Icons.iconError,"data-tooltip":(0,utilities_dist.isString)(error)?error:t(error.key,error.values),"data-tooltip-color":"danger","data-tooltip-placement":"bottom"})},Checkbox=(0,react.memo)((({isInvalid,isChecked,isDisabled,isReadOnly,className,error,inputRef,label,icon,iconOff,rtlFlip,onChange,value,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(value??isChecked??!1);(0,react.useEffect)((()=>{setActualValue(value??isChecked??!1)}),[value,isChecked]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e?.target.checked??!1),onChange?.(e?.target.checked??!1)}),[onChange]);return(0,jsx_runtime.jsxs)("label",{"data-has-icon":!!icon&&!iconOff,"data-disabled":isDisabled,"data-invalid":!isDisabled&&isInvalid,className:`ax-field__option ${className??""}`,children:[(0,jsx_runtime.jsx)("input",{...rest,ref:inputRef,type:"checkbox",checked:actualValue,disabled:isDisabled,readOnly:isReadOnly,className:"ax-field__input","data-invalid":isInvalid,onChange:handleChange}),(0,jsx_runtime.jsx)(dist.Ng,{"data-check":"off",rtlFlip,icon:iconOff??icon??Icons.iconCheckboxOff}),(0,jsx_runtime.jsx)(dist.Ng,{"data-check":"on",rtlFlip,icon:icon??Icons.iconCheckboxOn}),error&&(0,jsx_runtime.jsx)(Error_Error,{error}),label&&(0,jsx_runtime.jsx)("span",{className:"ax-field__option--label",children:label})]})}));var handlers=__webpack_require__("./packages/utilities/dist/handlers.js"),react_color_es=__webpack_require__("./node_modules/react-color/es/index.js");const DEFAULT_SWATCHES=["#0c2461","#2980b9","#0abde3","#27ae60","#6ab04c","#f7b731","#fa8231","#eb3b5a","#6D214F","#1e3799","#3498db","#48dbfb","#2ecc71","#badc58","#fed330","#fd9644","#fc5c65","#B33771","#1e272e","#2f3542","#34495e","#576574","#7f8c8d","#95a5a6","#bdc3c7","#ecf0f1","#f5f6fa"],ColorPicker=(0,react.memo)((({value,onChange,hideAlpha,defaultColor="#ff0000",swatches=DEFAULT_SWATCHES})=>{const[_actualValue,setActualValue]=(0,react.useState)(defaultColor),[,startTransition]=(0,react.useTransition)();(0,react.useEffect)((()=>{setActualValue(value??defaultColor)}),[value]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e??defaultColor),null!=onChange&&startTransition((()=>onChange(e)))}),[onChange]);return(0,jsx_runtime.jsx)(react_color_es.xS,{width:"15rem",className:"ax-input__color",styles:{default:{picker:{backgroundColor:"inherit"},controls:{color:"inherit",backgroundColor:"inherit",boxShadow:"inherit",border:"inherit"},color:{border:1}}},color:_actualValue,presetColors:swatches,disableAlpha:hideAlpha,onChange:({hex,rgb:{a=1}})=>setActualValue(`${hex}${a<1?Math.round(255*a).toString(16).padStart(2,"0"):""}`),onChangeComplete:({hex,rgb:{a=1}})=>handleChange(`${hex}${a<1?Math.round(255*a).toString(16).padStart(2,"0"):""}`)})})),FieldWrapper=(0,react.memo)((({children,isInvalid,canClear,error,disabled,onClear,width,isPlain=!1,wrapperRef,...rest})=>{const handleClear=(0,react.useCallback)((e=>{e.currentTarget.parentElement?.querySelector("input,textarea,button")?.focus(),onClear?.()}),[onClear]);return(0,jsx_runtime.jsx)(Container,{width,...rest,"data-plain":!1,children:(0,jsx_runtime.jsxs)("div",{className:"ax-field__wrapper","data-invalid":!disabled&&isInvalid,"data-disabled":disabled,"data-plain":isPlain,ref:wrapperRef,children:[error&&(0,jsx_runtime.jsx)(Error_Error,{error}),children,canClear&&(0,jsx_runtime.jsx)("div",{className:"ax-field__clear",onClick:handleClear,children:(0,jsx_runtime.jsx)(dist.Ng,{icon:Icons.iconClear})})]})})}));FieldWrapper.displayName="AxField.Wrapper";const Color_DEFAULT_SWATCHES=["#0c2461","#2980b9","#0abde3","#27ae60","#6ab04c","#f7b731","#fa8231","#eb3b5a","#6D214F","#1e3799","#3498db","#48dbfb","#2ecc71","#badc58","#fed330","#fd9644","#fc5c65","#B33771","#1e272e","#2f3542","#34495e","#576574","#7f8c8d","#95a5a6","#bdc3c7","#ecf0f1","#f5f6fa"],Color=(0,react.memo)((({label,labelAppend,isRequired,className,value,onChange,inputRef,isInvalid,info,error,width,isPlain,placeholder,isDisabled,isReadOnly,allowClear,children,hideAlpha,showInput,size,swatches=Color_DEFAULT_SWATCHES,onEnterPressed,inline,defaultColor="#ff0000",...rest})=>{const[,startTransition]=(0,react.useTransition)(),[actualValue,setActualValue]=(0,react.useState)(defaultColor);(0,react.useEffect)((()=>{setActualValue(value??defaultColor)}),[value]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e??defaultColor),null!=onChange&&startTransition((()=>onChange(e)))}),[onChange]);return(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,isPlain,labelAppend,className,disabled:isDisabled,isInvalid,isRequired,onClear:handleChange,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsxs)(dist.S$,{isDisabled:!!isDisabled||!!isReadOnly,placement:"bottom-start",children:[(0,jsx_runtime.jsx)("div",{"data-size":size,className:(showInput?"w-12":"w-full")+" ax-field__color",children:(0,jsx_runtime.jsx)("div",{className:"flex-1 border border-bw-500/30",style:{backgroundColor:actualValue}})}),(0,jsx_runtime.jsx)(ColorPicker,{value:actualValue,defaultColor,onChange:handleChange,swatches,hideAlpha})]}),showInput&&(0,jsx_runtime.jsx)("input",{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,value:actualValue,size:1,placeholder,disabled:isDisabled,readOnly:isReadOnly,"data-invalid":isInvalid,className:"ax-field__input",onChange:e=>handleChange(e.target.value),autoComplete:"off",onKeyDown:(0,handlers.Bm)(onEnterPressed),...rest})]})})),FileItem=({file})=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(dist.Ng,{className:"text-md",icon:Icons.iconFile}),(0,jsx_runtime.jsxs)("span",{children:[" ",file.name," "]}),(0,jsx_runtime.jsxs)("span",{className:"text-muted text-xs",children:["(",utilities_dist.Format.bytes(file.size),")"]})]}),File=(0,react.memo)((({label,labelAppend,isRequired,value,placeholder,onChange,inputRef,isInvalid,className,info,error,width,multiple,showList,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,...rest})=>{const elRef=(0,react.useRef)(null),[fileSelected,setFileSelected]=(0,react.useState)([]),handleClear=(0,react.useCallback)((()=>{null!=elRef.current&&(elRef.current.value=null),setFileSelected([]),onChange?.(void 0)}),[onChange]),handleChange=(0,react.useCallback)((()=>{setFileSelected(Array.from(elRef.current?.files)),onChange?.(elRef.current?.files)}),[onChange]);return(0,react.useImperativeHandle)(inputRef,(()=>elRef.current)),(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,labelWidth,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,onClear:handleClear,canClear:allowClear&&fileSelected.length>0,children:[(0,jsx_runtime.jsx)("input",{ref:elRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,size:1,type:"file",multiple,placeholder,disabled:isDisabled,readOnly:isReadOnly,"data-invalid":isInvalid,className:"ax-field__input",onChange:handleChange,autoComplete:"off",onKeyDown:(0,handlers.Bm)(onEnterPressed),...rest}),children]}),multiple&&showList&&fileSelected.length>0&&(0,jsx_runtime.jsx)("div",{className:"p-2 border-2 border-dashed border-primary-500/50 mt-1",children:fileSelected.map(((f,i)=>(0,jsx_runtime.jsx)(FileItem,{file:f},i)))})]})}));var react_input_mask=__webpack_require__("./node_modules/react-input-mask/index.js"),react_input_mask_default=__webpack_require__.n(react_input_mask);const Masked=(0,react.memo)((({label,labelAppend,isRequired,value:_value,placeholder,onChange,inputRef,isInvalid,className,info,error,width,isPlain,isDisabled,isReadOnly,allowClear,children,onEnterPressed,maskPlaceholder,inline,labelWidth,uppercase,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(""),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]);const handleChange=(0,react.useCallback)((e=>{let val=e?.target.value??"";uppercase&&(val=val.toUpperCase()),setActualValue(val),onChange?.(val)}),[onChange]);return(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,labelWidth,isPlain,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,onClear:handleChange,canClear:allowClear&&!(0,utilities_dist.isEmpty)(value),children:[(0,jsx_runtime.jsx)(react_input_mask_default(),{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,value:actualValue,size:1,maskPlaceholder,placeholder,disabled:isDisabled,readOnly:isReadOnly,"data-invalid":isInvalid,className:"ax-field__input",onChange:handleChange,autoComplete:"off",onKeyDown:(0,handlers.Bm)(onEnterPressed),...rest}),children]})})),Number_Number=(0,react.memo)((({label,labelAppend,isRequired,className,value:_value,placeholder,onChange,inputRef,isInvalid,info,error,width,isPlain,isDisabled,isReadOnly,allowClear,children,onEnterPressed,inline,labelWidth,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(""),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]);const handleChange=(0,react.useCallback)((e=>{let val=e?.target.valueAsNumber;isNaN(val)&&(val=void 0),setActualValue(val??""),onChange?.(val)}),[onChange]);return(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,labelWidth,isPlain,labelAppend,className,disabled:isDisabled,isInvalid,isRequired,onClear:handleChange,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)("input",{ref:inputRef,type:"number",size:0,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,value:actualValue,placeholder,disabled:isDisabled,readOnly:isReadOnly,className:"ax-field__input",onChange:handleChange,onWheel:e=>e.currentTarget.blur(),onKeyDown:(0,handlers.Bm)(onEnterPressed),...rest}),children]})})),Options=(0,react.memo)((({vertical,name,onChange,label,labelAppend,isRequired,value,placeholder,inputRef,isInvalid,className,info,error,width,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,...rest})=>(0,jsx_runtime.jsx)(FieldWrapper,{info,error,label,width,inline,labelWidth,className:`ax-field--plain ${className??""}`,labelAppend,isInvalid:!isDisabled&&isInvalid,isRequired,disabled:isDisabled,children:(0,jsx_runtime.jsx)("div",{...rest,className:"ax-field__options","data-vertical":vertical,children:react.Children.toArray(children).map((child=>{const newProps={...child.props};return newProps.isReadOnly=isReadOnly,newProps.isDisabled=isDisabled,value&&(newProps.checked=newProps.value===value),name&&(newProps.name=name,newProps.onChange=onChange),(0,react.cloneElement)(child,newProps)}))})}))),Text=(0,react.memo)((({label,labelAppend,isRequired,value:_value,placeholder,onChange,inputRef,isInvalid,className,info,error,width,isPlain,isDisabled,isReadOnly,allowClear,children,onEnterPressed,inline,labelWidth,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(""),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e?.target.value??""),onChange?.(e?.target.value??"")}),[onChange]);return(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,labelWidth,isPlain,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,onClear:handleChange,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)("input",{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,value:actualValue,size:1,placeholder,disabled:isDisabled,readOnly:isReadOnly,"data-invalid":isInvalid,className:"ax-field__input",onChange:handleChange,autoComplete:"off",onKeyDown:(0,handlers.Bm)(onEnterPressed),...rest}),children]})})),Password=(0,react.memo)((({children,strength,showToggle,...props})=>{const{t}=(0,es.$G)("form"),[show,setShow]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(Text,{...props,type:show?"text":"password",children:[children,showToggle&&(0,jsx_runtime.jsx)("div",{className:"ax-field__addon","data-align":"end",children:(0,jsx_runtime.jsx)(dist.oG,{color:"warning",variant:"link",noTabFocus:!0,tooltip:t(show?"password.hide":"password.show"),"aria-label":t(show?"password.hide":"password.show"),icon:show?Icons.iconEyeOff:Icons.iconEyeOn,onClick:()=>setShow(!show)})}),!!strength&&(0,jsx_runtime.jsx)("div",{className:"ax-field__strength",style:{paddingInlineStart:`${strength>100?100:strength}%`}})]})})),Radio=(0,react.memo)((({isInvalid,isChecked,isDisabled,isReadOnly,className,error,inputRef,label,onChange,icon,rtlFlip,...rest})=>{const handleChange=(0,react.useCallback)((e=>{e?.currentTarget.checked&&onChange?.(e?.currentTarget.value??"")}),[onChange]);return(0,jsx_runtime.jsxs)("label",{"data-has-icon":!!icon,"data-disabled":isDisabled,"data-invalid":!isDisabled&&isInvalid,className:`ax-field__option ${className??""}`,children:[(0,jsx_runtime.jsx)("input",{...rest,ref:inputRef,type:"radio",disabled:isDisabled,readOnly:isReadOnly,defaultChecked:isChecked,className:"ax-field__input",onChange:handleChange}),(0,jsx_runtime.jsx)(dist.Ng,{"data-check":"off",rtlFlip,icon:icon??Icons.iconRadioOff}),(0,jsx_runtime.jsx)(dist.Ng,{"data-check":"on",rtlFlip,icon:icon??Icons.iconRadioOn}),error&&(0,jsx_runtime.jsx)(Error_Error,{error}),label&&(0,jsx_runtime.jsx)("span",{className:"ax-field__option--label",children:label})]})})),getBoundingClientRect=element=>{const rect=element.getBoundingClientRect();return{top:Math.ceil(rect.top),left:Math.ceil(rect.left),right:Math.ceil(rect.right),width:Math.ceil(rect.width),bottom:Math.ceil(rect.bottom),height:Math.ceil(rect.height)}},sortNumList=arr=>[...arr].map(Number).sort(((a,b)=>a-b)),linearInterpolator_getPercentageForValue=(val,min,max)=>Math.max(0,Math.min(100,(val-min)/(max-min)*100)),linearInterpolator_getValueForClientX=(clientX,trackDims,min,max,isRtl)=>{const{left,right,width}=trackDims;return(max-min)*((isRtl?right-clientX:clientX-left)/width)+min},linearInterpolator_getValueForClientY=(clientY,trackDims,min,max)=>{const{height,bottom}=trackDims;return(max-min)*((bottom-clientY)/height)+min},useRanger=opts=>{const tickSize=opts.tickSize??10,values=opts.values,min=opts.min,max=opts.max,isVertical=opts.vertical,controlledTicks=opts.ticks,steps="steps"in opts?opts.steps:void 0,onChange=opts.onChange,onDrag=opts.onDrag,onDragStart=opts.onDragStart,onDragEnd=opts.onDragEnd,stepSize="stepSize"in opts?opts.stepSize:1,[activeHandleIndex,setActiveHandleIndex]=(0,react.useState)(),[segmentStart,setSegmentStart]=(0,react.useState)(),[tempValues,setTempValues]=(0,react.useState)(),isRtl=(0,dist.nj)(),positionProp=(0,react.useMemo)((()=>isVertical?"bottom":isRtl?"right":"left"),[isVertical,isRtl]),marginProp=(0,react.useMemo)((()=>isVertical?"marginBottom":isRtl?"marginRight":"marginLeft"),[isVertical,isRtl]),getLatest=(val=>{const ref=(0,react.useRef)(val);return ref.current=val,(0,react.useCallback)((()=>ref.current),[])})({activeHandleIndex,segmentStart,onChange,onDrag,onDragStart,onDragEnd,values,tempValues}),trackElRef=(0,react.useRef)(null),segmentElRef=(0,react.useRef)(null),getValueForClientX=(0,react.useCallback)((clientX=>{const trackDims=getBoundingClientRect(trackElRef.current);return linearInterpolator_getValueForClientX(clientX,trackDims,min,max,isRtl)}),[max,min,isRtl]),getValueForClientY=(0,react.useCallback)((clientY=>{const trackDims=getBoundingClientRect(trackElRef.current);return linearInterpolator_getValueForClientY(clientY,trackDims,min,max)}),[max,min]),getNextStep=(0,react.useCallback)(((val,direction)=>{if(steps){const nextIndex=steps.indexOf(val)+direction;return nextIndex>=0&&nextIndex<steps.length?steps[nextIndex]:val}{0;const nextVal=val+stepSize*direction;return nextVal>=min&&nextVal<=max?nextVal:val}}),[max,min,stepSize,steps]),roundToStep=(0,react.useCallback)((val=>{let left=min,right=max;if(steps)steps.forEach((step=>{step<=val&&step>left&&(left=step),step>=val&&step<right&&(right=step)}));else{for(0;left<val&&left+stepSize<val;)left+=stepSize;right=Math.min(left+stepSize,max)}return val-left<right-val?+left.toFixed(3):+right.toFixed(3)}),[max,min,stepSize,steps]),handleDrag=(0,react.useCallback)((e=>{const{activeHandleIndex,onDrag}=getLatest(),clientX="touchmove"===e.type?e.changedTouches[0].clientX:e.clientX,clientY="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,newValue=isVertical?getValueForClientY(clientY):getValueForClientX(clientX),newRoundedValue=roundToStep(newValue),newValues=[...values.slice(0,activeHandleIndex),newRoundedValue,...values.slice(+activeHandleIndex+1)];onDrag?.(newValues),setTempValues(newValues)}),[getLatest,getValueForClientX,getValueForClientY,roundToStep,values,isVertical]),handleSegmentDrag=(0,react.useCallback)((e=>{const{segmentStart:[segX,segY],tempValues,onDrag}=getLatest(),{left,bottom}=getBoundingClientRect(segmentElRef.current),clientX="touchmove"===e.type?e.changedTouches[0].clientX:e.clientX,clientY="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,start=getValueForClientX(isVertical?bottom+(clientY-segY):left+(clientX-segX));let diff=roundToStep(start)-tempValues[0];+tempValues[1]+diff>max&&(diff=0);const newValues=[+tempValues[0]+diff,+tempValues[1]+diff];tempValues[0]===newValues[0]&&tempValues[1]===newValues[1]||(onDrag?.(newValues),setTempValues(newValues),setSegmentStart([clientX,clientY]))}),[getLatest,getValueForClientX,getValueForClientY,roundToStep,values,isVertical,max]),handleKeyDown=(0,react.useCallback)(((e,i)=>{const{values,onChange}=getLatest();if(["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.key)){setActiveHandleIndex(i);const direction=["ArrowLeft","ArrowDown"].includes(e.key)?-1:1,newValue=getNextStep(values[i],direction),newValues=[...values.slice(0,i),newValue,...values.slice(i+1)],sortedValues=sortNumList(newValues);onChange?.(sortedValues)}}),[getLatest,getNextStep]),handlePress=(0,react.useCallback)(((e,i)=>{const{onDragStart,values}=getLatest();if(-1===i){const clientX="touchmove"===e.type?e.nativeEvent.changedTouches[0].clientX:e.nativeEvent.clientX,clientY="touchmove"===e.type?e.nativeEvent.changedTouches[0].clientY:e.nativeEvent.clientY;setTempValues(values),setSegmentStart([clientX,clientY])}else setActiveHandleIndex(i);const handleRelease=e=>{const{tempValues,onChange,onDragEnd}=getLatest();document.removeEventListener("mousemove",-1===i?handleSegmentDrag:handleDrag),document.removeEventListener("touchmove",-1===i?handleSegmentDrag:handleDrag),document.removeEventListener("mouseup",handleRelease,{capture:!0}),document.removeEventListener("touchend",handleRelease,{capture:!0});const sortedValues=sortNumList(tempValues||values);onDragEnd?.(),onChange?.(sortedValues),setActiveHandleIndex(void 0),setSegmentStart(void 0),setTempValues(void 0)};onDragStart?.(),document.addEventListener("mousemove",-1===i?handleSegmentDrag:handleDrag),document.addEventListener("touchmove",-1===i?handleSegmentDrag:handleDrag),document.addEventListener("mouseup",handleRelease,{capture:!0}),document.addEventListener("touchend",handleRelease,{capture:!0})}),[getLatest,handleDrag]),getPercentageForValue=(0,react.useCallback)((val=>linearInterpolator_getPercentageForValue(val,min,max)),[max,min]),trackClicked=(0,react.useCallback)((e=>{const{onChange,values}=getLatest(),clientX="touchmove"===e.type?e.changedTouches[0].clientX:e.clientX,clientY="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,newValue=isVertical?getValueForClientY(clientY):getValueForClientX(clientX),newRoundedValue=roundToStep(newValue);let newValues=[newRoundedValue];2===values.length&&(values[0]>newRoundedValue&&(newValues=[newRoundedValue,values[1]]),values[1]<newRoundedValue&&(newValues=[values[0],newRoundedValue])),onChange(newValues)}),[getLatest,getValueForClientX,getValueForClientY,isVertical]);(0,react.useEffect)((()=>{trackElRef.current?.addEventListener("mousedown",trackClicked)}),[trackClicked]);const ticks=(0,react.useMemo)((()=>{let ticks=controlledTicks??steps;if(!ticks){ticks=[min];const count=tickSize-tickSize%stepSize;for(;ticks[ticks.length-1]<max-count;)ticks.push(ticks[ticks.length-1]+count);ticks.push(max)}return ticks.map(((value,i)=>({key:i,value,percentage:getPercentageForValue(value),styles:{[positionProp]:`${getPercentageForValue(value)}%`,[marginProp]:"-0.125rem"}})))}),[controlledTicks,getPercentageForValue,max,min,steps,tickSize,positionProp,marginProp]),segments=(0,react.useMemo)((()=>{const sortedValues=sortNumList(tempValues??values);return[...sortedValues,max].map(((value,i)=>{const active=i===sortedValues.length-1;return{key:i,value,active,props:active?{ref:segmentElRef,onMouseDownCapture:e=>{e.stopPropagation(),e.persist(),handlePress(e,-1)},onTouchStartCapture:e=>{e.stopPropagation(),e.persist(),handlePress(e,-1)}}:{},styles:(()=>{const left=getPercentageForValue(sortedValues[i-1]?sortedValues[i-1]:min),width=getPercentageForValue(value)-left;return{[positionProp]:`${left}%`,[isVertical?"height":"width"]:`${width}%`}})()}}))}),[getPercentageForValue,max,min,tempValues,values,positionProp,marginProp]),handles=(0,react.useMemo)((()=>(tempValues??values).map(((value,i)=>({key:i,value,percentage:getPercentageForValue(value),active:i===activeHandleIndex,props:{role:"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":value,onKeyDown:e=>{e.stopPropagation(),e.persist(),handleKeyDown(e,i)},onMouseDownCapture:e=>{e.stopPropagation(),e.persist(),handlePress(e,i)},onTouchStartCapture:e=>{e.stopPropagation(),e.persist(),handlePress(e,i)}},styles:{[positionProp]:`${getPercentageForValue(value)}%`,[marginProp]:"-0.375rem"},valueStyles:{[positionProp]:`${getPercentageForValue(value)}%`}})))),[activeHandleIndex,getPercentageForValue,handleKeyDown,handlePress,min,max,tempValues,values,positionProp,marginProp]);return{trackElRef,activeHandleIndex,ticks,segments,handles}},Range=(0,react.memo)((({label,labelAppend,isRequired,className,value,onChange,inputRef,isInvalid,showValue,showLabels,minLabel,maxLabel,info,error,width,color,inline,labelWidth,isVertical,isDisabled,isReadOnly,onSlide,onEnterPressed,height=192,step=1,min=0,max=100,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)([0,0]),[displayValue,setDisplayValue]=(0,react.useState)(!1);(0,react.useEffect)((()=>{setActualValue(value??[0,0])}),[value]),(0,react.useEffect)((()=>{setDisplayValue(!!showValue)}),[showValue]);const debounceChange=(0,react.useMemo)((()=>(0,utilities_dist.debounce)((q=>onChange?.(q)),100)),[onChange]),handleChange=(0,react.useCallback)((value=>{setActualValue(value??[0,0]),debounceChange(value??void 0)}),[debounceChange]),minDisplay=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)("span",{className:"ax-field__slider--label",children:minLabel??utilities_dist.Format.number(min)})),[minLabel,min]),maxDisplay=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)("span",{className:"ax-field__slider--label",children:maxLabel??utilities_dist.Format.number(max)})),[maxLabel,max]),rangerInstance=useRanger({values:actualValue,min,max,stepSize:step,vertical:isVertical,tickSize:Math.max((max-min)/10,step),onDrag:val=>onSlide?.(val[0]),onDragStart:()=>setDisplayValue(!0),onDragEnd:()=>setDisplayValue(!!showValue),onChange:values=>handleChange([values[0],values[1]])});return(0,jsx_runtime.jsx)(FieldWrapper,{info,error,label,width,inline,labelWidth,labelAppend,className:`ax-field--plain ${className??""}`,disabled:isDisabled,isInvalid,isRequired,children:(0,jsx_runtime.jsxs)("div",{className:"ax-field__slider","data-invalid":isInvalid,"data-vertical":!!isVertical,style:{color},children:[showLabels&&(isVertical?maxDisplay:minDisplay),(0,jsx_runtime.jsxs)("div",{ref:rangerInstance.trackElRef,className:"ax-field__slider--wrapper",style:{height:isVertical?height:void 0},children:[rangerInstance.ticks.map((({value,key,styles})=>(0,jsx_runtime.jsx)("div",{className:"ax-field__slider--dots",style:styles},key))),rangerInstance.segments.map((({key,styles,active,props})=>(0,jsx_runtime.jsx)("div",{...props,"data-hilight":active,className:"ax-field__slider--hilight",style:styles},key))),rangerInstance.handles.map((({key,value,props,styles,valueStyles})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{type:"button",className:"ax-field__slider--thumb",...props,style:styles}),displayValue&&(0,jsx_runtime.jsx)("div",{className:"ax-field__slider--value","data-align":0===key?"start":"end",style:valueStyles,children:utilities_dist.Format.number(value)})]},key)))]}),showLabels&&(isVertical?minDisplay:maxDisplay)]})})}));var appIcons=__webpack_require__("./packages/core/dist/types/appIcons.js");const Search=(0,react.memo)((({children,icon,isSearching,onChange,onSearch,value:_value,defaultValue,...props})=>{const[query,setQuery]=(0,react.useState)(defaultValue),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setQuery(value??"")}),[value]);const handleChange=(0,react.useCallback)((value=>{setQuery(value),onChange?.(value)}),[onChange]),handleQuery=(0,react.useCallback)((()=>{onSearch?.(value)}),[value]);return(0,jsx_runtime.jsxs)(Text,{...props,allowClear:!0,type:"search",value:query,onChange:handleChange,onEnterPressed:handleQuery,children:[(0,jsx_runtime.jsx)(Addon,{showSpinner:isSearching,icon:icon??appIcons.U.iconFilter,className:"text-muted"}),children,(0,jsx_runtime.jsx)(Addon,{align:"end",children:(0,jsx_runtime.jsx)(dist.oG,{variant:"link",noTabFocus:!0,icon:appIcons.U.iconSearch,onClick:handleQuery})})]})})),Slider=(0,react.memo)((({label,labelAppend,isRequired,className,value,ranges,onChange,inputRef,isInvalid,showValue,showLabels,minLabel,maxLabel,info,format,error,width,color,inline,labelWidth,isVertical,isDisabled,isReadOnly,useInfinity,onSlide,onEnterPressed,height=192,step=1,min:_min=0,max:_max=100,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(0),[displayValue,setDisplayValue]=(0,react.useState)(!1),min=(0,react.useMemo)((()=>ranges?.[0]??_min),[_min,ranges]),max=(0,react.useMemo)((()=>ranges?.slice(-1)[0]??_max),[_max,ranges]);(0,react.useEffect)((()=>{setActualValue(useInfinity&&value===1/0?max:value??0)}),[value,max,useInfinity]),(0,react.useEffect)((()=>{setDisplayValue(!!showValue)}),[showValue]);const debounceChange=(0,react.useMemo)((()=>(0,utilities_dist.debounce)((q=>onChange?.(q)),100)),[onChange]),handleChange=(0,react.useCallback)((value=>{const val=useInfinity&&value===max?1/0:value;setActualValue(val??0),debounceChange(val??void 0)}),[debounceChange,max,useInfinity]),minDisplay=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)("span",{className:"ax-field__slider--label",children:minLabel??utilities_dist.Format.number(min,format)})),[minLabel,min,format]),maxDisplay=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)("span",{className:"ax-field__slider--label",children:maxLabel??(useInfinity?"∞":utilities_dist.Format.number(max,format))})),[maxLabel,max,format,useInfinity]),rangerInstance=useRanger({values:[actualValue],min,max,stepSize:step,steps:ranges,vertical:isVertical,tickSize:Math.max((max-min)/10,step),onDrag:val=>onSlide?.(val[0]),onDragStart:()=>setDisplayValue(!0),onDragEnd:()=>setDisplayValue(!!showValue),onChange:values=>handleChange(values[0])});return(0,jsx_runtime.jsx)(FieldWrapper,{info,error,label,width,inline,labelWidth,labelAppend,className:`ax-field--plain ${className??""}`,disabled:isDisabled,isInvalid,isRequired,children:(0,jsx_runtime.jsxs)("div",{className:"ax-field__slider","data-invalid":isInvalid,"data-vertical":!!isVertical,style:{color},children:[showLabels&&(isVertical?maxDisplay:minDisplay),(0,jsx_runtime.jsxs)("div",{ref:rangerInstance.trackElRef,className:"ax-field__slider--wrapper",style:{height:isVertical?height:void 0},children:[rangerInstance.ticks.map((({value,key,styles})=>(0,jsx_runtime.jsx)("div",{className:"ax-field__slider--dots",style:styles},key))),rangerInstance.segments.map((({key,styles,active})=>(0,jsx_runtime.jsx)("div",{"data-hilight":active,className:"ax-field__slider--hilight",style:styles},key))),rangerInstance.handles.map((({key,value,props,styles,percentage,valueStyles})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("button",{type:"button",className:"ax-field__slider--thumb",...props,style:styles}),displayValue&&(0,jsx_runtime.jsx)("div",{className:"ax-field__slider--value","data-align":percentage>50?"start":"end",style:valueStyles,children:value===1/0||useInfinity&&value===max?maxLabel??"∞":utilities_dist.Format.number(value,format)})]},key)))]}),showLabels&&(isVertical?minDisplay:maxDisplay)]})})})),Switch=(0,react.memo)((({isInvalid,isChecked,isDisabled,isReadOnly,className,error,color,offLabel="○",onLabel="❘",inputRef,label,onChange,value,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(value??isChecked??!1);(0,react.useEffect)((()=>{setActualValue(value??isChecked??!1)}),[value,isChecked]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e?.target.checked??!1),onChange?.(e?.target.checked??!1)}),[onChange]);return(0,jsx_runtime.jsxs)("label",{"data-disabled":isDisabled,"data-invalid":!isDisabled&&isInvalid,className:"ax-field__option",children:[(0,jsx_runtime.jsx)("input",{...rest,ref:inputRef,type:"checkbox",checked:actualValue,disabled:isDisabled,readOnly:isReadOnly,className:"ax-field__input",onChange:handleChange}),(0,jsx_runtime.jsx)("div",{className:`ax-field__switch ${className??""}`,"data-color":color,"data-on":onLabel||"❘","data-off":offLabel||"○",children:(0,jsx_runtime.jsx)("div",{className:"ax-field__switch--handle"})}),error&&(0,jsx_runtime.jsx)(Error_Error,{error}),label&&(0,jsx_runtime.jsx)("span",{className:"ax-field__option--label",children:label})]})})),Textarea=(0,react.memo)((({label,labelAppend,isRequired,value:_value,placeholder,onChange,inputRef,isInvalid,className,rows=5,info,error,width,isPlain,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(""),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]);const handleChange=(0,react.useCallback)((e=>{setActualValue(e?.target.value??""),onChange?.(e?.target.value??void 0)}),[onChange]);return(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,isPlain,inline,labelWidth,className,disabled:isDisabled,labelAppend,isInvalid,isRequired,onClear:handleChange,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)("textarea",{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,value:actualValue,placeholder,disabled:isDisabled,readOnly:isReadOnly,"data-invalid":isInvalid,className:"ax-field__input",onChange:handleChange,autoComplete:"off",rows,onKeyDown:(0,handlers.Bm)(onEnterPressed,!0),...rest}),children]})}));var usePopover=__webpack_require__("./packages/core/dist/hooks/usePopover.js"),combobox=__webpack_require__("./node_modules/@headlessui/react/dist/components/combobox/combobox.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");const defaultMatcher=(option,value,prop)=>((Object.hasOwn||Object.hasOwnProperty)(option??"",prop??"")?option[prop]:option)===value,getValue=(option,prop)=>option?option[prop??""]??option:void 0,getLabel=(option,prop)=>(0,utilities_dist.isEmpty)(option)?"":(0,utilities_dist.isObject)(option)?option[prop??""]:option,Option_Options=({options,renderer,labelProperty,allowCreate,query,hideEmpty=!1})=>{const{t}=(0,es.$G)("form"),makeOption=(0,react.useCallback)(((option,index)=>(0,jsx_runtime.jsx)(combobox.h.Option,{value:option,children:({active,selected})=>(0,jsx_runtime.jsx)("div",{className:"ax-select__option","data-selected":selected,"data-active":active,children:null!=renderer?renderer(option):getLabel(option,labelProperty)})},index)),[renderer,labelProperty]);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[allowCreate&&query&&(0,jsx_runtime.jsx)(combobox.h.Option,{value:query,children:({active})=>(0,jsx_runtime.jsxs)("div",{className:"ax-select__option","data-active":active,children:[t("select.createOption"),(0,jsx_runtime.jsx)("b",{children:query})]})}),options.map(((option,index)=>option.items?(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"ax-select__group",children:option.label}),option.items.map(makeOption)]},index):makeOption(option,index))),!hideEmpty&&!allowCreate&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:"ax-select__empty",children:t("select.emptyList")})]})},EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);const useSelect=({options=[],labelProperty,onQuery})=>{const originalList=(0,react.useRef)(EMPTY_ARRAY),[list,setList]=(0,react.useState)(EMPTY_ARRAY),[query,setQuery]=(0,react.useState)("");(0,react.useEffect)((()=>{originalList.current=options,setList(originalList.current)}),[options]);const handleQuery=(0,react.useCallback)((0,utilities_dist.debounce)((query=>{Promise.resolve(onQuery?.(query)).then((list=>null!=list&&setList(list)))}),200),[onQuery]),onQueryChange=(0,react.useCallback)((query=>{if(setQuery(query),(0,utilities_dist.isEmpty)(query))return setList(originalList.current??EMPTY_ARRAY);if(null!=onQuery)return handleQuery(query);const filteredList=[];originalList.current.forEach((option=>{if(option.items){const items=option.items.filter((item=>(0,utilities_dist.matchString)(getLabel(item,labelProperty),query)));items.length>0&&filteredList.push({label:option.label,items})}else(0,utilities_dist.matchString)(getLabel(option,labelProperty),query)&&filteredList.push(option)})),setList(filteredList)}),[labelProperty,handleQuery]);return{list,query,onQueryChange}},ComboInput=({label,labelAppend,isRequired,value,placeholder,options,labelProperty="label",valueProperty="value",matcher,renderer,makeLabel,onChange,onSelect,onQuery,onCreateOption,usePortal,allowCreate,inputRef,isInvalid,className,isEditable,name,info,error,width,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,autoFocus,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)({}),{list,query,onQueryChange}=useSelect({options,labelProperty,onQuery,onCreateOption}),{styles,setPopperElement,setReferenceElement}=(0,usePopover.S)({hideArrow:!0,sameWidth:!0,placement:"bottom-start"});(0,react.useEffect)((()=>{let val=options.map((o=>o.items??o)).flat(2).find((option=>null!=matcher?matcher(option,value??""):defaultMatcher(option,value,valueProperty)));value&&!val&&allowCreate&&(val=value),setActualValue(val??{})}),[value,valueProperty,options,allowCreate]);const handleChange=(0,react.useCallback)((option=>{Promise.resolve(option&&onSelect?.(option)).then((b=>{!1!==b&&(onChange?.(getValue(option,valueProperty)),setActualValue(option??{}),onQueryChange(""))}))}),[onChange,valueProperty,query]),displayLabel=(0,react.useMemo)((()=>null==makeLabel||(0,utilities_dist.isEmpty)(actualValue)?getLabel(actualValue,labelProperty):makeLabel(actualValue)),[makeLabel,labelProperty,actualValue]),optionDropdown=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(combobox.h.Options,{ref:setPopperElement,className:"ax-select__dropdown",style:styles.popper,children:(0,jsx_runtime.jsx)(Option_Options,{query,options:list,renderer,allowCreate,labelProperty})})),[query,list,styles,renderer,allowCreate,labelProperty]);return(0,jsx_runtime.jsx)(combobox.h,{value:actualValue,onChange:handleChange,disabled:isDisabled,name,as:react.Fragment,nullable:!0,children:({open})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,inline,labelWidth,onClear:()=>handleChange(),wrapperRef:setReferenceElement,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)(combobox.h.Input,{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,size:1,placeholder,readOnly:!isEditable&&!allowCreate,"data-invalid":isInvalid,className:"ax-field__input z-20",autoComplete:"off",onKeyDownCapture:e=>["Home","End"].includes(e.key)?e.stopPropagation():(0,handlers.Bm)(onEnterPressed)(e),displayValue:()=>displayLabel,onChange:e=>onQueryChange(e.target.value),onFocus:e=>e.target.select(),...rest}),children,(0,jsx_runtime.jsx)(combobox.h.Button,{as:"div",autoFocus,className:"ax-field__addon ax-select__handle","data-align":"end",children:(0,jsx_runtime.jsx)(dist.Ng,{icon:Icons.iconDropdown})})]}),open&&(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-10"}),usePortal&&(0,react_dom.createPortal)(optionDropdown,document.body),!usePortal&&optionDropdown]})})};ComboInput.displayName="AxField.Combo";const Combo=(0,react.memo)(ComboInput),ListInput=({label,labelAppend,isRequired,value,placeholder,options,labelProperty="label",valueProperty="value",matcher,renderer,onChange,onSelect,onQuery,makeLabel,onCreateOption,usePortal,allowCreate,inputRef,isInvalid,className,isEditable,name,info,error,width,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,autoFocus,multiple=!0,minHeight="12rem",maxHeight="24rem",...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(EMPTY_ARRAY),{list,query,onQueryChange}=useSelect({options,labelProperty,onQuery,onCreateOption});(0,react.useEffect)((()=>{if(!(0,utilities_dist.isArray)(value))return setActualValue([]);const flatList=options.map((o=>o.items??o)).flat(2);setActualValue((value??[]).map((val=>{const ret=null!=matcher?flatList.find((option=>matcher(option,val))):flatList.find((option=>defaultMatcher(option,val,valueProperty)));return ret||(allowCreate?val:null)})).filter(Boolean))}),[value,valueProperty,options,allowCreate]);const handleChange=(0,react.useCallback)(((options=[])=>{Promise.resolve(onSelect?.(options)).then((b=>{!1!==b&&(onChange?.(options.map((value=>getValue(value,valueProperty)))),setActualValue(options),onQueryChange(""))}))}),[onChange,valueProperty,query]),displayLabel=(0,react.useCallback)((option=>null!=makeLabel?makeLabel(option):getLabel(option,labelProperty)),[makeLabel,labelProperty]),handleRemove=(0,react.useCallback)(((index=-1)=>{const newValue=[...actualValue];newValue.splice(index,1),setActualValue(newValue),onChange?.(newValue.map((value=>getValue(value,valueProperty))))}),[actualValue]),handleKeyPress=(0,react.useCallback)((e=>{e.currentTarget.value||"Backspace"!==e.key||handleRemove(),e.currentTarget.value||"Enter"!==e.key||onEnterPressed?.(e),e.currentTarget.value&&"Enter"===e.key&&(e.target.value="")}),[handleRemove,onEnterPressed]);return(0,jsx_runtime.jsx)(combobox.h,{value:actualValue,onChange:handleChange,disabled:isDisabled,name,as:react.Fragment,multiple,nullable:!0,children:(0,jsx_runtime.jsxs)(Container,{isVertical:!0,label,inline,labelWidth,labelAppend,isRequired,info,width,className:"ax-field__list",children:[(0,jsx_runtime.jsxs)(FieldWrapper,{error,className,isInvalid,disabled:isDisabled,onClear:()=>handleChange(),canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap flex-auto items-center order-3",children:[actualValue.map(((option,i)=>(0,jsx_runtime.jsx)(dist.Ym,{className:"ax-select__tag",onRemove:()=>handleRemove(i),children:displayLabel(option)},i))),(0,jsx_runtime.jsx)(combobox.h.Input,{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,size:1,value:query,placeholder,readOnly:!isEditable&&!allowCreate,"data-invalid":isInvalid,className:"ax-field__input rounded-b-none",autoComplete:"off",onKeyDown:handleKeyPress,onChange:e=>onQueryChange(e.target.value),onFocus:e=>e.target.select(),...rest})]}),children]}),(0,jsx_runtime.jsx)(combobox.h.Options,{className:"ax-select__dropdown relative shadow-none rounded-t-none mx-px",static:!0,hold:!0,style:{minHeight,maxHeight},children:(0,jsx_runtime.jsx)(Option_Options,{query,options:list??EMPTY_ARRAY,renderer,allowCreate,labelProperty})})]})})};ListInput.displayName="AxField.List";const List=(0,react.memo)(ListInput);var listbox=__webpack_require__("./node_modules/@headlessui/react/dist/components/listbox/listbox.js");const SelectInput=({label,labelAppend,isRequired,value,placeholder,options,labelProperty="label",valueProperty="value",matcher,renderer,makeLabel,onChange,onSelect,onQuery,onCreateOption,usePortal,inputRef,isInvalid,className,isEditable,name,info,error,width,isDisabled,isReadOnly,allowClear,children,inline,labelWidth,onEnterPressed,autoFocus,...rest})=>{const{t}=(0,es.$G)("form"),[actualValue,setActualValue]=(0,react.useState)(""),{styles,setPopperElement,setReferenceElement}=(0,usePopover.S)({hideArrow:!0,sameWidth:!0,placement:"bottom-start"});(0,react.useEffect)((()=>{let val=options.map((o=>o.items??o)).flat(2).find((option=>null!=matcher?matcher(option,value??""):defaultMatcher(option,value,valueProperty)));value&&!val&&(val=value),setActualValue(val??"")}),[value,valueProperty,options]);const handleChange=(0,react.useCallback)((option=>{Promise.resolve(option&&onSelect?.(option)).then((b=>{!1!==b&&(onChange?.(getValue(option,valueProperty)),setActualValue(option??""))}))}),[onChange,valueProperty]),displayLabel=(0,react.useMemo)((()=>null==makeLabel||(0,utilities_dist.isEmpty)(actualValue)?getLabel(actualValue,labelProperty):makeLabel(actualValue)),[makeLabel,labelProperty,actualValue]),makeOption=(0,react.useCallback)(((option,index)=>(0,jsx_runtime.jsx)(listbox.R.Option,{value:option,children:({active,selected})=>(0,jsx_runtime.jsx)("div",{className:"ax-select__option","data-selected":selected,"data-active":active,children:null!=renderer?renderer(option):getLabel(option,labelProperty)})},index)),[renderer,labelProperty]),optionDropdown=(0,react.useMemo)((()=>(0,jsx_runtime.jsxs)(listbox.R.Options,{ref:setPopperElement,className:"ax-select__dropdown",style:styles.popper,children:[options.map(((option,index)=>option.items?(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"ax-select__group",children:option.label}),option.items.map(makeOption)]},index):makeOption(option,index))),0===options.length&&(0,jsx_runtime.jsx)("div",{className:"ax-select__empty",children:t("select.emptyList")})]})),[options,makeOption,styles]);return(0,jsx_runtime.jsx)(listbox.R,{value:actualValue,onChange:handleChange,disabled:isDisabled,name,as:react.Fragment,children:({open})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,inline,labelWidth,onClear:()=>handleChange(),wrapperRef:setReferenceElement,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)("div",{"data-align":"end",className:"ax-field__addon ax-select__handle pointer-events-none",children:(0,jsx_runtime.jsx)(dist.Ng,{icon:Icons.iconDropdown})}),(0,jsx_runtime.jsx)(listbox.R.Button,{className:"absolute inset-0 opacity-0 ax-select__input",autoFocus}),(0,jsx_runtime.jsxs)("span",{ref:inputRef,className:"ax-field__input truncate",children:[displayLabel,!displayLabel&&(0,jsx_runtime.jsxs)("span",{className:"text-muted",children:[placeholder," "]})]}),children]}),open&&(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-10"}),usePortal&&(0,react_dom.createPortal)(optionDropdown,document.body),!usePortal&&optionDropdown]})})};SelectInput.displayName="AxField.Select";const Select=(0,react.memo)(SelectInput),SuggestInput=({label,labelAppend,isRequired,placeholder,options=[],onSelect,onChange,onQuery,onEnterPressed,usePortal,inputRef,isInvalid,className,value:_value,name,info,error,width,isDisabled,isReadOnly,allowClear,inline,labelWidth,children,defaultItems=[],autoFocus,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(""),[items,setItems]=(0,react.useState)([]),[queryItems,setQueryItems]=(0,react.useState)([]),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]),(0,react.useEffect)((()=>{setItems(options)}),[options]);const{styles,setPopperElement,setReferenceElement}=(0,usePopover.S)({hideArrow:!0,sameWidth:!0,placement:"bottom-start"}),queryCallback=(0,react.useMemo)((()=>(0,utilities_dist.debounce)((query=>{const ret=onQuery?.(query);Promise.resolve(ret).then((resp=>null!=resp&&setQueryItems(resp)))}),100)),[onQuery]),itemRenderer=(0,react.useCallback)((item=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"block",children:item.label??item.value??item}),item.info&&(0,jsx_runtime.jsx)("small",{children:item.info})]})),[]),itemList=(0,react.useMemo)((()=>{const list=[];return actualValue&&list.push(actualValue),list.push(...items.filter((it=>(it.value??it)!==actualValue))),list}),[items,actualValue]),handleQueryChange=(0,react.useCallback)(((newValue="")=>{setActualValue(newValue),queryCallback(newValue)}),[queryCallback]),handleSelectChange=(0,react.useCallback)(((newValue="")=>{Promise.resolve(onSelect?.(newValue)).then((b=>{!1!==b&&(onChange?.(newValue.value??newValue),setActualValue(newValue.value??newValue))}))}),[queryCallback]),optionDropdown=(0,react.useMemo)((()=>(0,jsx_runtime.jsxs)(combobox.h.Options,{ref:setPopperElement,className:"ax-select__dropdown",style:styles.popper,children:[(0,jsx_runtime.jsx)(Option_Options,{options:itemList,renderer:itemRenderer}),queryItems.length>0&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(dist.qm,{size:"xs"}),(0,jsx_runtime.jsx)(Option_Options,{hideEmpty:!0,options:queryItems,renderer:itemRenderer})]}),defaultItems.length>0&&(0,jsx_runtime.jsx)(dist.qm,{size:"xs"}),defaultItems.length>0&&(0,jsx_runtime.jsx)(Option_Options,{hideEmpty:!0,options:defaultItems,renderer:itemRenderer})]})),[styles,itemList,itemRenderer,queryItems,defaultItems]);return(0,jsx_runtime.jsx)(combobox.h,{value:actualValue,onChange:e=>handleSelectChange(e),disabled:isDisabled,name,as:react.Fragment,children:({open})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,inline,labelWidth,onClear:()=>handleSelectChange(""),wrapperRef:setReferenceElement,canClear:!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsx)(combobox.h.Input,{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,size:1,placeholder,"data-invalid":isInvalid,className:"ax-field__input z-20",autoComplete:"off",autoFocus,onChange:e=>handleQueryChange(e.target.value),onKeyDownCapture:e=>["Home","End"].includes(e.key)?e.stopPropagation():!open&&(0,handlers.Bm)(onEnterPressed)(e),onFocus:e=>e.target.select(),...rest}),children]}),open&&(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-10"}),usePortal&&(0,react_dom.createPortal)(optionDropdown,document.body),!usePortal&&optionDropdown]})})};SuggestInput.displayName="AxField.Suggest";const Suggest=(0,react.memo)(SuggestInput),TagInput=({label,labelAppend,isRequired,value,placeholder,options,labelProperty="label",valueProperty="value",matcher,renderer,makeLabel,onChange,onSelect,onQuery,onCreateOption,usePortal,allowCreate,inputRef,isInvalid,className,isEditable,name,info,error,width,isDisabled,isReadOnly,allowClear,inline,labelWidth,children,onEnterPressed,autoFocus,...rest})=>{const[actualValue,setActualValue]=(0,react.useState)(EMPTY_ARRAY),{list,query,onQueryChange}=useSelect({options,labelProperty,onQuery,onCreateOption}),{styles,forceUpdate,setPopperElement,setReferenceElement}=(0,usePopover.S)({hideArrow:!0,sameWidth:!0,placement:"bottom-start"});(0,react.useEffect)((()=>{if(!(0,utilities_dist.isArray)(value))return setActualValue([]);const flatList=options.map((o=>o.items??o)).flat(2);setActualValue((value??[]).map((val=>{const ret=null!=matcher?flatList.find((option=>matcher(option,val))):flatList.find((option=>defaultMatcher(option,val,valueProperty)));return ret||(allowCreate?val:null)})).filter(Boolean))}),[value,valueProperty,options,allowCreate]);const handleChange=(0,react.useCallback)(((options=[])=>{Promise.resolve(onSelect?.(options)).then((b=>{!1!==b&&(onChange?.(options.map((value=>getValue(value,valueProperty)))),setActualValue(options),onQueryChange(""),setTimeout((()=>forceUpdate?.()),100))}))}),[onChange,forceUpdate,valueProperty,query]),displayLabel=(0,react.useCallback)((option=>null!=makeLabel?makeLabel(option):getLabel(option,labelProperty)),[makeLabel,labelProperty]),handleRemove=(0,react.useCallback)(((index=-1)=>{const newValue=[...actualValue];newValue.splice(index,1),setActualValue(newValue),onChange?.(newValue.map((value=>getValue(value,valueProperty)))),setTimeout((()=>forceUpdate?.()),100)}),[actualValue]),handleKeyPress=(0,react.useCallback)((e=>{e.currentTarget.value||"Backspace"!==e.key||handleRemove(),e.currentTarget.value||"Enter"!==e.key||onEnterPressed?.(e),e.currentTarget.value&&"Enter"===e.key&&(e.target.value="")}),[handleRemove,onEnterPressed]),optionDropdown=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(combobox.h.Options,{ref:setPopperElement,onMouseUp:e=>e.currentTarget.parentElement.querySelector(".ax-field__input")?.focus(),className:"ax-select__dropdown",style:styles.popper,children:(0,jsx_runtime.jsx)(Option_Options,{query,options:list,renderer,allowCreate,labelProperty})})),[query,list,styles,renderer,allowCreate,labelProperty]);return(0,jsx_runtime.jsx)(combobox.h,{value:actualValue,onChange:handleChange,disabled:isDisabled,name,as:react.Fragment,multiple:!0,children:({open})=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(FieldWrapper,{info,error,label,width,inline,labelWidth,className,labelAppend,isInvalid,isRequired,disabled:isDisabled,onClear:()=>handleChange(),wrapperRef:setReferenceElement,canClear:allowClear&&!(0,utilities_dist.isEmpty)(actualValue),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap flex-auto items-center order-3 line-clamp-2 overflow-auto",children:[actualValue.map(((option,i)=>(0,jsx_runtime.jsx)(dist.Ym,{className:"ax-select__tag",onRemove:()=>handleRemove(i),children:displayLabel(option)},i))),(0,jsx_runtime.jsx)(combobox.h.Input,{ref:inputRef,"aria-label":label,"aria-disabled":isDisabled,"aria-readonly":isReadOnly,"aria-required":isRequired,"aria-errormessage":error,size:1,value:query,autoFocus,placeholder,readOnly:!isEditable&&!allowCreate,"data-invalid":isInvalid,className:"ax-field__input z-20 flex-auto min-w-fit",autoComplete:"off",onKeyDown:handleKeyPress,onChange:e=>onQueryChange(e.target.value),onFocus:e=>e.target.select(),...rest})]}),children,(0,jsx_runtime.jsx)(combobox.h.Button,{as:"div",className:"ax-field__addon ax-select__handle","data-align":"end",children:(0,jsx_runtime.jsx)(dist.Ng,{icon:Icons.iconDropdown})})]}),open&&(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-10"}),usePortal&&(0,react_dom.createPortal)(optionDropdown,document.body),!usePortal&&optionDropdown]})})};TagInput.displayName="AxField.Tag";const Tag=(0,react.memo)(TagInput),ar_namespaceObject=JSON.parse('{"addArray":"اضافة عنصر","password":{"show":"عرض كلمة المرور","hide":"اخفاء كلمة المرور"},"select":{"emptyList":"لا توجد خيارات متاحة","notFound":"لم يتم العثور على خيارات ل ","createOption":"إنشاء خيار جديد ل "}}'),en_namespaceObject=JSON.parse('{"addArray":"Add Item","password":{"show":"Show password","hide":"Hide password"},"select":{"emptyList":"No options available","notFound":"No options found for ","createOption":"Create new option for "}}');(0,dist.a3)("form",{en:en_namespaceObject,ar:ar_namespaceObject});var yup=__webpack_require__("./node_modules/@hookform/resolvers/yup/dist/yup.mjs");const AxForm=({formRef,schema,children,defaultValues,onSubmit=()=>{},onChange,...rest})=>{const form=(0,index_esm.cI)({shouldFocusError:!0,resolver:schema&&(0,yup.X)(schema),defaultValues}),[,startTransition]=(0,react.useTransition)();(0,react.useEffect)((()=>{const subscription=form.watch((value=>{const handle=onChange;handle&&startTransition((()=>handle?.(value)))}));return()=>subscription.unsubscribe()}),[form.watch]),(0,react.useImperativeHandle)(formRef,(()=>({reset:()=>(form.reset(defaultValues),form.clearErrors()),clear:()=>(form.reset({}),form.clearErrors()),submit:()=>form.handleSubmit(onSubmit),validate:async()=>await form.trigger(),getValues:()=>form.getValues(),setValues:v=>form.reset(v),setValue:(k,v)=>form.setValue(k,v,{shouldDirty:!1,shouldTouch:!1})})),[onSubmit,form,defaultValues]);const onInvalid=(0,react.useCallback)(((_,e)=>{const el=e.target;setTimeout((()=>el.querySelector("input[data-invalid='true'],textarea[data-invalid='true'],.ax-select__input")?.focus()),10)}),[]);return(0,jsx_runtime.jsx)(index_esm.RV,{...form,children:(0,jsx_runtime.jsxs)("form",{onSubmit:form.handleSubmit(onSubmit,onInvalid),"data-loading":form.formState.isSubmitting,className:"ax-form contents",autoComplete:"off",...rest,children:[children,(0,jsx_runtime.jsx)("input",{type:"submit",className:"absolute invisible"})]})})};AxForm.Controller=({name,children})=>(0,jsx_runtime.jsx)(index_esm.Qr,{name,render:({field:{ref,onChange,...field},fieldState:{error},formState:{isSubmitting}})=>(0,react.isValidElement)(children)?(0,react.cloneElement)(react.Children.only(children),{...field,inputRef:el=>{el&&ref(el);try{children.props.inputRef&&"current"in children.props.inputRef&&(children.props.inputRef.current=el),children.props.inputRef?.prototype&&children.props.inputRef(el)}catch(_){}},isReadOnly:isSubmitting||children.props.isReadOnly,isInvalid:!!error?.message||children.props.isInvalid,error:error?.message,onChange:v=>{onChange(v),children.props.onChange?.(v)}}):children({...field,inputRef:el=>{el&&ref(el)},isReadOnly:isSubmitting,isInvalid:!!error?.message,error:error?.message,onChange:v=>{onChange(v)}})});const AxField={Container,Addon,Array:({name,children,addLabel,fixedList,focusName="",onAdd,arrayRef,...rest})=>{const{t}=(0,es.$G)("form"),form=(0,index_esm.Gc)();if(!form?.control)throw new Error("AxField.Array must be contained within a AxForm element");const{fields,append,remove}=(0,index_esm.Dq)({name,control:form.control}),handleAdd=(0,react.useCallback)((item=>{append(item),setTimeout((()=>{form.setFocus(`${name}.${fields.length}${focusName?"."+focusName:""}`)}),50)}),[name,fields,focusName,onAdd]);return(0,react.useImperativeHandle)(arrayRef,(()=>({addItem:handleAdd,removeItem:remove}))),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Container,{...rest,isVertical:!0,children:fields.map(((item,index)=>(0,jsx_runtime.jsxs)(Container,{children:["function"==typeof children?children({index,name:`${name}.${index}`}):react.Children.toArray(children).map((child=>(0,react.cloneElement)(child,{name:`${name}.${index}${child.props.name?"."+child.props.name:""}`}))),!fixedList&&(0,jsx_runtime.jsx)(dist.oG,{icon:Icons.iconDelete,color:"danger",variant:"link",onClick:()=>remove(index)})]},item.id)))}),!fixedList&&onAdd&&(0,jsx_runtime.jsx)("div",{className:"flex justify-end",children:(0,jsx_runtime.jsx)(dist.oG,{icon:Icons.iconAdd,onClick:()=>handleAdd(onAdd()),variant:"outline",children:addLabel??t("addArray")})})]})},Text,Color,ColorPicker,Textarea,Password,Number:Number_Number,Slider,Range,File,Masked,Search,Options,Checkbox,Radio,Switch,Combo,Select,Suggest,Tag,List};AxField.Container.displayName="AxField.Container",AxField.Addon.displayName="AxField.Addon",AxField.Text.displayName="AxField.Text",AxField.Masked.displayName="AxField.Masked",AxField.Textarea.displayName="AxField.Textare",AxField.Password.displayName="AxField.Password",AxField.Number.displayName="AxField.Number",AxField.Slider.displayName="AxField.Slider",AxField.Range.displayName="AxField.Range",AxField.File.displayName="AxField.File",AxField.Search.displayName="AxField.Search",AxField.Options.displayName="AxField.Options",AxField.Checkbox.displayName="AxField.Checkbox",AxField.Radio.displayName="AxField.Radio",AxField.Switch.displayName="AxField.Switch",AxField.Combo.displayName="AxField.Combo",AxField.Select.displayName="AxField.Select",AxField.Suggest.displayName="AxField.Suggest",AxField.Tag.displayName="AxField.Tag",AxField.List.displayName="AxField.List",AxField.Color.displayName="AxField.Color",AxField.ColorPicker.displayName="AxField.ColorPicker"}}]);