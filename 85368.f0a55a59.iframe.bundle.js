"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[85368],{"./node_modules/@arcgis/core/core/MemCachePool.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>c});var _MemCache_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/MemCache.js");class c{constructor(e,t){this._cache=e(t,((e,t)=>this._remove(e,t)))}hitrate(){return this._cache.hitRate}destroy(){this._cache.destroy()}clear(){this._cache.clear()}pop(e){const t=this._cache.peek(e);if(!t)return;const c=t.pop();if(t.length>0){const c=t.reduce(((e,t)=>e+t.usedMemory),0);this._cache.updateSize(e,t,c)}else this._cache.pop(e);return c}put(t,c,s=_MemCache_js__WEBPACK_IMPORTED_MODULE_0__.o1){const r=this._cache.peek(t);if(!r)return void this._cache.put(t,[c],c.usedMemory,s);r.push(c);const h=r.reduce(((e,t)=>e+t.usedMemory),0);this._cache.updateSize(t,r,h)}_remove(e,c){switch(c){case _MemCache_js__WEBPACK_IMPORTED_MODULE_0__.lN.ALL:return e.forEach((e=>e.dispose())),0;case _MemCache_js__WEBPACK_IMPORTED_MODULE_0__.lN.SOME:return e.shift()?.dispose(),e.reduce(((e,t)=>e+t.usedMemory),0)}}}},"./node_modules/@arcgis/core/core/NestedMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>t});class t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}set(t,e,r){const s=this._outer.get(t);s?s.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}}},"./node_modules/@arcgis/core/geometry/support/FloatArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AA:()=>o,XO:()=>a,xx:()=>t});var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/typedArrayUtil.js");function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.c8?t?new Array(n).fill(0):new Array(n):new Float32Array(n)}function a(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.kJ)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.c8?Array.from(t):new Float32Array(t)}function o(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}},"./node_modules/@arcgis/core/geometry/support/buffer/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function e(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}__webpack_require__.d(__webpack_exports__,{n1:()=>e})},"./node_modules/@arcgis/core/support/requestImageUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>t});var _request_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/request.js");async function t(t,r){const{data:a}=await(0,_request_js__WEBPACK_IMPORTED_MODULE_0__.Z)(t,{responseType:"image",...r});return a}},"./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FE:()=>W,Tc:()=>G,Ve:()=>J,Z3:()=>B,kD:()=>X,vT:()=>O,z2:()=>Q});__webpack_require__("./node_modules/@arcgis/core/core/has.js");var S,y,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/renderers/support/lengthUtils.js"),_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/views/3d/support/debugFlags.js"),_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");!function(e){e[e.Undefined=0]="Undefined",e[e.DefinedSize=1]="DefinedSize",e[e.DefinedScale=2]="DefinedScale"}(S||(S={})),function(e){e[e.Undefined=0]="Undefined",e[e.DefinedAngle=1]="DefinedAngle"}(y||(y={}));class x{constructor(e){this.field=e}}class g extends x{constructor(e){super(e),this.minSize=[0,0,0],this.maxSize=[0,0,0],this.offset=[0,0,0],this.factor=[0,0,0],this.type=[S.Undefined,S.Undefined,S.Undefined]}}class b extends x{constructor(e){super(e),this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.values=[0,0,0,0,0,0,0,0]}}class C extends x{constructor(e){super(e),this.values=[0,0,0,0,0,0,0,0],this.opacityValues=[0,0,0,0,0,0,0,0]}}class w{}function U(e){return null!=e}function V(e){return"number"==typeof e}function M(e){return"string"==typeof e}function k(e,t){e&&e.push(t)}function I(e,t,o,i,n){const s=e.minSize,r=e.maxSize;if(e.expression)return k(n,"Could not convert size info: expression not supported"),!1;if(e.useSymbolValue){const e=i.symbolSize[o];return t.minSize[o]=e,t.maxSize[o]=e,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=S.DefinedSize,!0}if(U(e.field))return U(e.stops)?2===e.stops.length&&V(e.stops[0].size)&&V(e.stops[1].size)?(T(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,t,o),t.type[o]=S.DefinedSize,!0):(k(n,"Could not convert size info: stops only supported with 2 elements"),!1):V(s)&&V(r)&&U(e.minDataValue)&&U(e.maxDataValue)?(T(s,r,e.minDataValue,e.maxDataValue,t,o),t.type[o]=S.DefinedSize,!0):"unknown"===e.valueUnit?(k(n,"Could not convert size info: proportional size not supported"),!1):null!=_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__.a[e.valueUnit]?(t.minSize[o]=-1/0,t.maxSize[o]=1/0,t.offset[o]=0,t.factor[o]=1/_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__.a[e.valueUnit],t.type[o]=S.DefinedSize,!0):(k(n,"Could not convert size info: scale-dependent size not supported"),!1);if(!U(e.field)){if(e.stops?.[0]&&V(e.stops[0].size))return t.minSize[o]=e.stops[0].size,t.maxSize[o]=e.stops[0].size,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=S.DefinedSize,!0;if(V(s))return t.minSize[o]=s,t.maxSize[o]=s,t.offset[o]=s,t.factor[o]=0,t.type[o]=S.DefinedSize,!0}return k(n,"Could not convert size info: unsupported variant of sizeInfo"),!1}function T(e,t,o,i,n,s){const r=Math.abs(i-o)>0?(t-e)/(i-o):0;n.minSize[s]=r>0?e:t,n.maxSize[s]=r>0?t:e,n.offset[s]=e-o*r,n.factor[s]=r}function F(e,t,o,i){if(e.normalizationField||e.valueRepresentation)return k(i,"Could not convert size info: unsupported property"),null;if(!function j(e){return null==e||M(e)}(e.field))return k(i,"Could not convert size info: field is not a string"),null;if(t.size){if(e.field)if(t.size.field){if(e.field!==t.size.field)return k(i,"Could not convert size info: multiple fields in use"),null}else t.size.field=e.field}else t.size=new g(e.field);let n;switch(e.axis){case"width":return n=I(e,t.size,0,o,i),n?t:null;case"height":return n=I(e,t.size,2,o,i),n?t:null;case"depth":return n=I(e,t.size,1,o,i),n?t:null;case"width-and-depth":return n=I(e,t.size,0,o,i),n&&I(e,t.size,1,o,i),n?t:null;case null:case void 0:case"all":return n=I(e,t.size,0,o,i),n=n&&I(e,t.size,1,o,i),n=n&&I(e,t.size,2,o,i),n?t:null;default:return k(i,`Could not convert size info: unknown axis "${e.axis}""`),null}}function R(e,t,o){e[4*t]=o.r/255,e[4*t+1]=o.g/255,e[4*t+2]=o.b/255,e[4*t+3]=o.a}function q(e,t,o){const i=2===o&&"arithmetic"===e.rotationType;t.offset[o]=i?90:0,t.factor[o]=i?-1:1,t.type[o]=1}class B{constructor(e,t=[1,1,1],o=[1,1,1],i=1,n=[0,0,0],s=[1,1,1],r=[0,0,0]){this.supports=e,this.modelSize=t,this.symbolSize=o,this.unitInMeters=i,this.anchor=n,this.scale=s,this.rotation=r}}function L(e,t,o){if(!e)return null;const i=e.reduce(((e,i)=>{if(!e)return e;if(i.valueExpression)return k(o,"Could not convert visual variables: arcade expressions not supported"),null;switch(i.type){case"size":return t.supports.size?F(i,e,t,o):e;case"color":return t.supports.color?function E(e,t,o){if(e.normalizationField)return k(o,"Could not convert color info: unsupported property"),null;if(M(e.field)){if(!e.stops)return k(o,"Could not convert color info: missing stops or colors"),null;{if(e.stops.length>8)return k(o,"Could not convert color info: too many color stops"),null;t.color=new b(e.field);const i=e.stops;for(let e=0;e<8;++e){const o=i[Math.min(e,i.length-1)];t.color.values[e]=o.value,R(t.color.colors,e,o.color)}}}else{if(!(e.stops&&e.stops.length>=0))return k(o,"Could not convert color info: no field and no colors/stops"),null;{const o=e.stops&&e.stops.length>=0&&e.stops[0].color;t.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)t.color.values[e]=1/0,R(t.color.colors,e,o)}}return t}(i,e,o):e;case"opacity":return t.supports.opacity?function _(e,t,o){if(e.normalizationField)return k(o,"Could not convert opacity info: unsupported property"),null;if(M(e.field)){if(!e.stops)return k(o,"Could not convert opacity info: missing stops or opacities"),null;{if(e.stops.length>8)return k(o,"Could not convert opacity info: too many opacity stops"),null;t.opacity=new C(e.field);const i=e.stops;for(let e=0;e<8;++e){const o=i[Math.min(e,i.length-1)];t.opacity.values[e]=o.value,t.opacity.opacityValues[e]=o.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return k(o,"Could not convert opacity info: no field and no opacities/stops"),null;{const o=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;t.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)t.opacity.values[e]=1/0,t.opacity.opacityValues[e]=o}}return t}(i,e,o):null;case"rotation":return t.supports.rotation?function $(e,t,o){if(!M(e.field))return k(o,"Could not convert rotation info: field is not a string"),null;if(t.rotation){if(e.field)if(t.rotation.field){if(e.field!==t.rotation.field)return k(o,"Could not convert rotation info: multiple fields in use"),null}else t.rotation.field=e.field}else t.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case"tilt":return q(e,t.rotation,0),t;case"roll":return q(e,t.rotation,1),t;case null:case void 0:case"heading":return q(e,t.rotation,2),t;default:return k(o,`Could not convert rotation info: unknown axis "${e.axis}""`),null}}(i,e,o):e;default:return null}}),new w);return!(e.length>0&&i)||i.size||i.color||i.opacity||i.rotation?i?.size&&!function P(e,t,o){for(let n=0;n<3;++n){let o=t.unitInMeters;e.type[n]===S.DefinedSize&&(o*=t.modelSize[n],e.type[n]=S.DefinedScale),e.minSize[n]=e.minSize[n]/o,e.maxSize[n]=e.maxSize[n]/o,e.offset[n]=e.offset[n]/o,e.factor[n]=e.factor[n]/o}let i;if(e.type[0]!==S.Undefined)i=0;else if(e.type[1]!==S.Undefined)i=1;else{if(e.type[2]===S.Undefined)return k(o,"No size axis contains a valid size or scale"),!1;i=2}for(let n=0;n<3;++n)e.type[n]===S.Undefined&&(e.minSize[n]=e.minSize[i],e.maxSize[n]=e.maxSize[i],e.offset[n]=e.offset[i],e.factor[n]=e.factor[i],e.type[n]=e.type[i]);return!0}(i.size,t,o)?null:i:null}class N{constructor(e,t,o){this.visualVariables=e,this.materialParameters=t,this.requiresShaderTransformation=o}}function O(e,t){if(!e)return null;if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_9__.h.TESTS_DISABLE_FAST_UPDATES)return null;const o=L(e.visualVariables,t);return o?new N(o,K(o,t),!!o.size):null}function G(e,t,o){if(!t||!e)return!1;const i=e.visualVariables,n=L(t.visualVariables,o);return!!n&&!!(H(i.size,n.size,"size")&&H(i.color,n.color,"color")&&H(i.rotation,n.rotation,"rotation")&&H(i.opacity,n.opacity,"opacity"))&&(e.visualVariables=n,e.materialParameters=K(n,o),e.requiresShaderTransformation=!!n.size,!0)}function H(e,t,o){if(!!e!=!!t)return!1;if(e&&e.field!==t?.field)return!1;if(e&&"rotation"===o){const o=e,i=t;for(let e=0;e<3;e++)if(o.type[e]!==i.type[e]||o.offset[e]!==i.offset[e]||o.factor[e]!==i.factor[e])return!1}return!0}class J extends _webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.K{constructor(e){super(),this.vvSize=e?.size??null,this.vvColor=e?.color??null,this.vvOpacity=e?.opacity??null}}function K(e,n){const s=new J(e);return s.vvSize&&(s.vvSymbolAnchor=n.anchor,(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.g)(ee),function A(e,t,o,i=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)()){const n=e||0,s=t||0,r=o||0;return 0!==n&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.o)(i,i,-n/180*Math.PI),0!==s&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.r)(i,i,s/180*Math.PI),0!==r&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.n)(i,i,r/180*Math.PI),i}(n.rotation[2],n.rotation[0],n.rotation[1],ee),s.vvSymbolRotationMatrix=s.vvSymbolRotationMatrix||(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.f)(s.vvSymbolRotationMatrix,ee)),s}function Q(t,o,i){if(!t.vvSize)return i;(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.h)(Y,i);const u=t.vvSymbolRotationMatrix;(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.s)(ee,u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,0,0,0,1),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.m)(Y,Y,ee);for(let n=0;n<3;++n){const i=t.vvSize.offset[n]+o[0]*t.vvSize.factor[n];Z[n]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(i,t.vvSize.minSize[n],t.vvSize.maxSize[n])}return(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.b)(Y,Y,Z),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.w)(Y,Y,t.vvSymbolAnchor),Y}function W(t,o,i){if(!o.vvSize)return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(t,1,1,1),t;for(let n=0;n<3;++n){const s=o.vvSize.offset[n]+i[0]*o.vvSize.factor[n];t[n]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(s,o.vvSize.minSize[n],o.vvSize.maxSize[n])}return t}function X(e,t){const o=null==e?0:t.attributes[e];return"number"==typeof o&&isFinite(o)?o:0}const Y=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),Z=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),ee=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)()},"./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gw:()=>I,U$:()=>H,pV:()=>G});var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js"),_geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/types.js"),_webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");class D{constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const s of e.fields.keys()){const t=e.fields.get(s);this[s]=new t.constructor(this.buffer,t.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const s=this[e];return s&&s.elementCount===t.ElementCount&&s.elementType===t.ElementType?s:null}slice(e,t){return new D(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t=0,s=0,i=e.count){const r=this.stride;if(r%4==0){const n=new Uint32Array(e.buffer,t*r,i*r/4);new Uint32Array(this.buffer,s*r,i*r/4).set(n)}else{const n=new Uint8Array(e.buffer,t*r,i*r);new Uint8Array(this.buffer,s*r,i*r).set(n)}return this}get usedMemory(){return this.byteLength}dispose(){}}class G{constructor(e=null){this._stride=0,this._lastAligned=0,this._fields=new Map,e&&(this._stride=e.stride,e.fields.forEach((e=>this._fields.set(e[0],{...e[1],constructor:N(e[1].constructor)}))))}vec2f(t,s){return this._appendField(t,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Eu,s),this}vec2f64(e,s){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.q6,s),this}vec3f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ct,t),this}vec3f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.fP,t),this}vec4f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ek,t),this}vec4f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Cd,t),this}mat3f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.gK,t),this}mat3f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ey,t),this}mat4f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.bj,t),this}mat4f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.O1,t),this}vec4u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.mc,t),this}f32(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ly,t),this}f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.oS,t),this}u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.D_,t),this}u16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.av,t),this}i8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Hz,t),this}vec2i8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Vs,t),this}vec2i16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.or,t),this}vec2u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.xA,t),this}vec4u16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.v6,t),this}u32(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Nu,t),this}_appendField(e,t,s){if(this._fields.has(e))return void(0,_webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_1__.hu)(!1,`${e} already added to vertex buffer layout`);const i=t.ElementCount*(0,_geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__.n1)(t.ElementType),r=this._stride;this._stride+=i,this._fields.set(e,{size:i,constructor:t,offset:r,optional:s})}createBuffer(e){return new D(this,e)}createView(e){return new D(this,e)}clone(){const e=new G;return e._stride=this._stride,e._fields=new Map,this._fields.forEach(((t,s)=>e._fields.set(s,t))),e.BufferType=this.BufferType,e}get stride(){if(this._lastAligned!==this._fields.size){let e=1;this._fields.forEach((t=>e=Math.max(e,(0,_geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__.n1)(t.constructor.ElementType)))),this._stride=Math.floor((this._stride+e-1)/e)*e,this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}function H(){return new G}class I{constructor(e){this.fields=new Array,e.fields.forEach(((e,t)=>{const s={...e,constructor:K(e.constructor)};this.fields.push([t,s])})),this.stride=e.stride}}const J=[_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ly,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Eu,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ct,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ek,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.gK,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.bj,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.oS,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.q6,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.fP,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Cd,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ey,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.O1,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.D_,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.xA,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ne,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.mc,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.av,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.TS,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.mw,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.v6,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Nu,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.qt,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.G5,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.hu,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Hz,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Vs,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.P_,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.ir,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.o7,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.or,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.n1,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.zO,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.Jj,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.wA,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.PP,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.TN];function K(e){return`${e.ElementType}_${e.ElementCount}`}function N(e){return O.get(e)}const O=new Map;J.forEach((e=>O.set(K(e),e)))},"./node_modules/@arcgis/core/views/3d/support/debugFlags.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>t});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Accessor.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"));let T=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__.Z{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"LABELS_SHOW_BORDER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"TEXT_SHOW_BASELINE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"TEXT_SHOW_BORDER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"SHOW_POI",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)()],T.prototype,"LINE_WIREFRAMES",void 0),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.j)("esri.views.3d.support.DebugFlags")],T);const t=new T},"./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ue:()=>H,gI:()=>ee});__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js");var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/quat.js"),_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/quatf64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js")),_ViewingMode_js__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/support/plane.js"),__webpack_require__("./node_modules/@arcgis/core/views/ViewingMode.js"));(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();function H(e=[0,0,0],t=[-1,-1,-1],n=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.a)()){return{center:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.g)(e),halfSize:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.g)(t),quaternion:(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.b)(n)}}(()=>{const e=new Int8Array(162);let t=0;const n=n=>{for(let a=0;a<n.length;a++)e[t+a]=n[a];t+=6};n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4])})();function ee(e,t,n,i,o){if((0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__.c)(o.quaternion,e.quaternion),i===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_10__.JY.Global){(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__.a)(re,e.quaternion),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.v)(te,e.center,re),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(ne,te),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.x)(ae,ne,e.halfSize),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.u)(ae,ne,ae);const a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(ae);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(ae,ne,e.halfSize);const i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(ae);if(a<n)(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.c)(o.center,e.center),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(te,n,n,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(o.halfSize,e.halfSize,te);else{const r=i>0?1+t/i:1,s=a>0?1+n/a:1,c=(s+r)/2,h=(s-r)/2;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.i)(o.halfSize,ne,h),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(o.halfSize,o.halfSize,e.halfSize,c),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.i)(o.center,ne,c),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(o.center,o.center,e.halfSize,h),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.z)(te,te),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.A)(o.center,o.center,te),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.v)(o.center,o.center,o.quaternion)}}else{const a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(te,0,0,1);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(o.center,e.center,a,(n+t)/2),(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_2__.a)(re,e.quaternion),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.v)(a,a,re),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(a,a),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(o.halfSize,e.halfSize,a,(n-t)/2)}return o}const te=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),ne=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),ae=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),re=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.a)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCache.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{qz:()=>R,qk:()=>g});__webpack_require__("./node_modules/@arcgis/core/core/MemCachePool.js"),__webpack_require__("./node_modules/@arcgis/core/core/PooledArray.js");var R,enums=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js"),RenderbufferDescriptor=(__webpack_require__("./node_modules/@arcgis/core/views/webgl/FramebufferObject.js"),__webpack_require__("./node_modules/@arcgis/core/views/webgl/Renderbuffer.js"),__webpack_require__("./node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js")),TextureDescriptor=(__webpack_require__("./node_modules/@arcgis/core/views/webgl/Texture.js"),__webpack_require__("./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js"));!function(e){e[e.RED=0]="RED",e[e.RG=1]="RG",e[e.RGBA4=2]="RGBA4",e[e.RGBA=3]="RGBA",e[e.RGBA_MIPMAP=4]="RGBA_MIPMAP",e[e.R16F=5]="R16F",e[e.RGBA16F=6]="RGBA16F"}(R||(R={}));const w=new TextureDescriptor.X;w.pixelFormat=enums.VI.RED,w.internalFormat=enums.lP.R8,w.wrapMode=enums.e8.CLAMP_TO_EDGE;const f=new TextureDescriptor.X;f.pixelFormat=enums.VI.RG,f.internalFormat=enums.lP.RG8,f.wrapMode=enums.e8.CLAMP_TO_EDGE;const F=new TextureDescriptor.X;F.internalFormat=enums.lP.RGBA4,F.dataType=enums.Br.UNSIGNED_SHORT_4_4_4_4,F.wrapMode=enums.e8.CLAMP_TO_EDGE;const A=new TextureDescriptor.X;A.wrapMode=enums.e8.CLAMP_TO_EDGE;const M=new TextureDescriptor.X;M.wrapMode=enums.e8.CLAMP_TO_EDGE,M.samplingMode=enums.cw.LINEAR_MIPMAP_LINEAR,M.hasMipmap=!0,M.maxAnisotropy=8;const P=new TextureDescriptor.X;P.pixelFormat=enums.VI.RED,P.dataType=enums.Br.HALF_FLOAT,P.internalFormat=enums.lP.R16F,P.samplingMode=enums.cw.NEAREST;const x=new TextureDescriptor.X;x.dataType=enums.Br.HALF_FLOAT,x.internalFormat=enums.lP.RGBA16F,x.samplingMode=enums.cw.NEAREST;R.RED,R.RG,R.RGBA4,R.RGBA,R.RGBA_MIPMAP,R.R16F,R.RGBA16F;var g;!function(e){e[e.DEPTH_STENCIL_TEXTURE=0]="DEPTH_STENCIL_TEXTURE",e[e.DEPTH_STENCIL_BUFFER=1]="DEPTH_STENCIL_BUFFER",e[e.DEPTH24_BUFFER=2]="DEPTH24_BUFFER",e[e.DEPTH16_BUFFER=3]="DEPTH16_BUFFER"}(g||(g={}));const B=new TextureDescriptor.X;B.pixelFormat=enums.VI.DEPTH_STENCIL,B.dataType=enums.Br.UNSIGNED_INT_24_8,B.samplingMode=enums.cw.NEAREST,B.wrapMode=enums.e8.CLAMP_TO_EDGE;g.DEPTH_STENCIL_TEXTURE,g.DEPTH_STENCIL_BUFFER,new RenderbufferDescriptor.Y(enums.Tg.DEPTH24_STENCIL8,4),g.DEPTH24_BUFFER,new RenderbufferDescriptor.Y(enums.Tg.DEPTH_COMPONENT24,4),g.DEPTH16_BUFFER,new RenderbufferDescriptor.Y(enums.Tg.DEPTH_COMPONENT16,4)},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lm:()=>t,Zu:()=>i,bA:()=>n,qj:()=>d});var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js"),_attributes_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js"),_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function t(e){e.varyings.add("linearDepth","float")}function i(e){e.vertex.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.A("nearFar",((e,r)=>r.camera.nearFar)))}function n(e){e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float calculateLinearDepth(vec2 nearFar,float z) {
return (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);
}`)}function d(a,d){const{vertex:s}=a;switch(d.output){case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.Color:if(d.receiveShadows)return t(a),void s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.Depth:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.Shadow:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.ShadowHighlight:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.ShadowExcludeHighlight:return a.include(_attributes_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_1__.up,d),t(a),i(a),n(a),void s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void forwardLinearDepth() {
linearDepth = calculateLinearDepth(nearFar, vPosition_view.z);
}`)}s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void forwardLinearDepth() {}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>o});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function o(o,t=!0){o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.T.POSITION,"vec2"),t&&o.varyings.add("uv","vec2"),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`
    void main(void) {
      gl_Position = vec4(position, 0.0, 1.0);
      ${t?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`uv = position * 0.5 + vec2(0.5);`:""}
    }
  `)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var o;__webpack_require__.d(__webpack_exports__,{H:()=>o}),function(o){o[o.Color=0]="Color",o[o.Depth=1]="Depth",o[o.Normal=2]="Normal",o[o.Shadow=3]="Shadow",o[o.ShadowHighlight=4]="ShadowHighlight",o[o.ShadowExcludeHighlight=5]="ShadowExcludeHighlight",o[o.Highlight=6]="Highlight",o[o.Alpha=7]="Alpha",o[o.ObjectAndLayerIdColor=8]="ObjectAndLayerIdColor",o[o.CompositeColor=9]="CompositeColor",o[o.COUNT=10]="COUNT"}(o||(o={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f5:()=>P});var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"));function P(e,s){h(e,s,new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.B("slicePlaneOrigin",((e,i)=>g(s,e,i))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.B("slicePlaneBasis1",((e,i)=>I(s,e,i,i.slicePlane?.basis1))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.B("slicePlaneBasis2",((e,i)=>I(s,e,i,i.slicePlane?.basis2))))}function h(e,s,...i){if(!s.hasSlicePlane){const i=_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`#define rejectBySlice(_pos_) false
#define discardBySlice(_pos_) {}
#define highlightSlice(_color_, _pos_) (_color_)`;return s.hasSliceInVertexProgram&&e.vertex.code.add(i),void e.fragment.code.add(i)}s.hasSliceInVertexProgram&&e.vertex.uniforms.add(...i),e.fragment.uniforms.add(...i);const a=_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`struct SliceFactors {
float front;
float side0;
float side1;
float side2;
float side3;
};
SliceFactors calculateSliceFactors(vec3 pos) {
vec3 rel = pos - slicePlaneOrigin;
vec3 slicePlaneNormal = -cross(slicePlaneBasis1, slicePlaneBasis2);
float slicePlaneW = -dot(slicePlaneNormal, slicePlaneOrigin);
float basis1Len2 = dot(slicePlaneBasis1, slicePlaneBasis1);
float basis2Len2 = dot(slicePlaneBasis2, slicePlaneBasis2);
float basis1Dot = dot(slicePlaneBasis1, rel);
float basis2Dot = dot(slicePlaneBasis2, rel);
return SliceFactors(
dot(slicePlaneNormal, pos) + slicePlaneW,
-basis1Dot - basis1Len2,
basis1Dot - basis1Len2,
-basis2Dot - basis2Len2,
basis2Dot - basis2Len2
);
}
bool sliceByFactors(SliceFactors factors) {
return factors.front < 0.0
&& factors.side0 < 0.0
&& factors.side1 < 0.0
&& factors.side2 < 0.0
&& factors.side3 < 0.0;
}
bool sliceEnabled() {
return dot(slicePlaneBasis1, slicePlaneBasis1) != 0.0;
}
bool sliceByPlane(vec3 pos) {
return sliceEnabled() && sliceByFactors(calculateSliceFactors(pos));
}
#define rejectBySlice(_pos_) sliceByPlane(_pos_)
#define discardBySlice(_pos_) { if (sliceByPlane(_pos_)) discard; }`,l=_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`vec4 applySliceHighlight(vec4 color, vec3 pos) {
SliceFactors factors = calculateSliceFactors(pos);
const float HIGHLIGHT_WIDTH = 1.0;
const vec4 HIGHLIGHT_COLOR = vec4(0.0, 0.0, 0.0, 0.3);
factors.front /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.front);
factors.side0 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side0);
factors.side1 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side1);
factors.side2 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side2);
factors.side3 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side3);
if (sliceByFactors(factors)) {
return color;
}
float highlightFactor = (1.0 - step(0.5, factors.front))
* (1.0 - step(0.5, factors.side0))
* (1.0 - step(0.5, factors.side1))
* (1.0 - step(0.5, factors.side2))
* (1.0 - step(0.5, factors.side3));
return mix(color, vec4(HIGHLIGHT_COLOR.rgb, color.a), highlightFactor * HIGHLIGHT_COLOR.a);
}`,c=s.hasSliceHighlight?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`
        ${l}
        #define highlightSlice(_color_, _pos_) (sliceEnabled() ? applySliceHighlight(_color_, _pos_) : (_color_))
      `:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`#define highlightSlice(_color_, _pos_) (_color_)`;s.hasSliceInVertexProgram&&e.vertex.code.add(a),e.fragment.code.add(a),e.fragment.code.add(c)}function p(e,s,i){return e.instancedDoublePrecision?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(b,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]):s.slicePlaneLocalOrigin}function m(e,s){return null!=e?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(v,s.origin,e):s.origin}function H(s,i,a){return s.hasSliceTranslatedView?null!=i?(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.w)(S,a.camera.viewMatrix,i):a.camera.viewMatrix:null}function g(e,s,a){if(null==a.slicePlane)return _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Z;const l=p(e,s,a),c=m(l,a.slicePlane),r=H(e,l,a);return null!=r?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(v,c,r):c}function I(e,s,c,r){if(null==r||null==c.slicePlane)return _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Z;const t=p(e,s,c),n=m(t,c.slicePlane),f=H(e,t,c);return null!=f?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(B,r,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(v,n,f),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(B,B,f),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(B,B,v)):r}const b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),S=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>o});var _ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function o(o){(0,_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.bA)(o),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {
vec4 eye = view * vec4(pos, 1.0);
depth = calculateLinearDepth(nearFar,eye.z);
return proj * eye;
}`),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {
return proj * (view * vec4(pos, 1.0));
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PO:()=>h,fQ:()=>N});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js"),_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js"),_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"),_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js"),_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js"),_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js"),_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js");class h extends _shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.m{constructor(){super(...arguments),this.instancedDoublePrecision=!1,this.hasModelTransformation=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.o)()],h.prototype,"instancedDoublePrecision",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.o)()],h.prototype,"hasModelTransformation",void 0);const w=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.a)();function N(e,r){const i=r.hasModelTransformation,c=r.instancedDoublePrecision;i&&(e.vertex.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.g("model",(e=>e.modelTransformation??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.I))),e.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_11__.c("normalLocalOriginFromModel",(e=>((0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.n)(w,e.modelTransformation??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.I),w))))),r.instanced&&c&&(e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.T.INSTANCEMODELORIGINHI,"vec3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.T.INSTANCEMODELORIGINLO,"vec3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.T.INSTANCEMODEL,"mat3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__.T.INSTANCEMODELNORMAL,"mat3"));const v=e.vertex;c&&(v.include(_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_7__.$,r),v.uniforms.add(new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.B("viewOriginHi",((e,o)=>(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__.U8)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(T,o.camera.viewInverseTransposeMatrix[3],o.camera.viewInverseTransposeMatrix[7],o.camera.viewInverseTransposeMatrix[11]),T))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.B("viewOriginLo",((e,o)=>(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__.GB)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(T,o.camera.viewInverseTransposeMatrix[3],o.camera.viewInverseTransposeMatrix[7],o.camera.viewInverseTransposeMatrix[11]),T))))),v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.H`
    vec3 getVertexInLocalOriginSpace() {
      return ${i?c?"(model * vec4(instanceModel * localPosition().xyz, 1.0)).xyz":"(model * localPosition()).xyz":c?"instanceModel * localPosition().xyz":"localPosition().xyz"};
    }

    vec3 subtractOrigin(vec3 _pos) {
      ${c?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.H`
          // Negated inputs are intentionally the first two arguments. The other way around the obfuscation in dpAdd() stopped
          // working for macOS 14+ and iOS 17+.
          // Issue: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/56280
          vec3 originDelta = dpAdd(-instanceModelOriginHi, -instanceModelOriginLo, viewOriginHi, viewOriginLo);
          return _pos - originDelta;`:"return vpos;"}
    }
    `),v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.H`
    vec3 dpNormal(vec4 _normal) {
      return normalize(${i?c?"normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz)":"normalLocalOriginFromModel * _normal.xyz":c?"instanceModelNormal * _normal.xyz":"_normal.xyz"});
    }
    `),r.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__.H.Normal&&((0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__._8)(v),v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.H`
    vec3 dpNormalView(vec4 _normal) {
      return normalize((viewNormal * ${i?c?"vec4(normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz), 1.0)":"vec4(normalLocalOriginFromModel * _normal.xyz, 1.0)":c?"vec4(instanceModelNormal * _normal.xyz, 1.0)":"_normal"}).xyz);
    }
    `)),r.hasVertexTangents&&v.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.H`
    vec4 dpTransformVertexTangent(vec4 _tangent) {
      ${i?c?"return vec4(normalLocalOriginFromModel * (instanceModelNormal * _tangent.xyz), _tangent.w);":"return vec4(normalLocalOriginFromModel * _tangent.xyz, _tangent.w);":c?"return vec4(instanceModelNormal * _tangent.xyz, _tangent.w);":"return _tangent;"}
    }`)}const T=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>t,r:()=>a});var a,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/compilerUtils.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function t(t,s){switch(s.normalType){case a.Compressed:t.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.NORMALCOMPRESSED,"vec2"),t.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec3 normalModel() {
float z = 1.0 - abs(normalCompressed.x) - abs(normalCompressed.y);
return vec3(normalCompressed + sign(normalCompressed) * min(z, 0.0), z);
}`);break;case a.Attribute:t.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.NORMAL,"vec3"),t.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec3 normalModel() {
return normal;
}`);break;case a.ScreenDerivative:t.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.Bg)(s.normalType);case a.COUNT:case a.Ground:}}!function(e){e[e.Attribute=0]="Attribute",e[e.Compressed=1]="Compressed",e[e.Ground=2]="Ground",e[e.ScreenDerivative=3]="ScreenDerivative",e[e.COUNT=4]="COUNT"}(a||(a={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>d});var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function d(d,t){const a=t.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.ObjectAndLayerIdColor,n=t.objectAndLayerIdColorInstanced;a&&(d.varyings.add("objectAndLayerIdColorVarying","vec4"),n?d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.INSTANCEOBJECTANDLAYERIDCOLOR,"vec4"):d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.OBJECTANDLAYERIDCOLOR,"vec4")),d.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`
     void forwardObjectAndLayerIdColor() {
      ${a?n?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`objectAndLayerIdColorVarying = instanceObjectAndLayerIdColor * 0.003921568627451;`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`objectAndLayerIdColorVarying = objectAndLayerIdColor * 0.003921568627451;`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H``} }`),d.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`
      void outputObjectAndLayerIdColor() {
        ${a?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`fragColor = objectAndLayerIdColorVarying;`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H``} }`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>o});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function o(o){o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.T.POSITION,"vec3"),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`vec3 positionModel() { return position; }`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>o,N:()=>d});var d,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/compilerUtils.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function o(o,v){switch(v.textureCoordinateType){case d.Default:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.UV0,"vec2"),o.varyings.add("vuv0","vec2"),void o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`void forwardTextureCoordinates() {
vuv0 = uv0;
}`);case d.Compressed:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.UV0,"vec2"),o.varyings.add("vuv0","vec2"),void o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec2 getUV0() {
return uv0 / 16384.0;
}
void forwardTextureCoordinates() {
vuv0 = getUV0();
}`);case d.Atlas:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.UV0,"vec2"),o.varyings.add("vuv0","vec2"),o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.T.UVREGION,"vec4"),o.varyings.add("vuvRegion","vec4"),void o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`void forwardTextureCoordinates() {
vuv0 = uv0;
vuvRegion = uvRegion;
}`);default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.Bg)(v.textureCoordinateType);case d.None:return void o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`void forwardTextureCoordinates() {}`);case d.COUNT:return}}!function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Atlas=2]="Atlas",e[e.Compressed=3]="Compressed",e[e.COUNT=4]="COUNT"}(d||(d={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>e});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function e(e,d){d.hasVertexColors?(e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.T.COLOR,"vec4"),e.varyings.add("vColor","vec4"),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`void forwardVertexColor() { vColor = color; }`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }`)):e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`void forwardVertexColor() {}
void forwardNormalizedVertexColor() {}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bb:()=>c,Pf:()=>v,d4:()=>f});var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/compilerUtils.js"),_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js"),_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3DrawUniform.js"),_shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js");function c(o,a){switch(a.normalType){case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.r.Attribute:case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.r.Compressed:o.include(_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.O,a),o.varyings.add("vNormalWorld","vec3"),o.varyings.add("vNormalView","vec3"),o.vertex.uniforms.add(new _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_6__.j("transformNormalGlobalFromModel",(r=>r.transformNormalGlobalFromModel)),new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.c("transformNormalViewFromGlobal",(r=>r.transformNormalViewFromGlobal))),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`void forwardNormal() {
vNormalWorld = transformNormalGlobalFromModel * normalModel();
vNormalView = transformNormalViewFromGlobal * vNormalWorld;
}`);break;case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.r.Ground:o.include(_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__.up,a),o.varyings.add("vNormalWorld","vec3"),o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`
        void forwardNormal() {
          vNormalWorld = ${a.spherical?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`normalize(vPositionWorldCameraRelative);`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`vec3(0.0, 0.0, 1.0);`}
        }
        `);break;case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.r.ScreenDerivative:o.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`void forwardNormal() {}`);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.Bg)(a.normalType);case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.r.COUNT:}}class f extends _VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__.su{constructor(){super(...arguments),this.transformNormalViewFromGlobal=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()}}class v extends _VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__.OU{constructor(){super(...arguments),this.transformNormalGlobalFromModel=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),this.toMapSpace=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OU:()=>W,su:()=>F,up:()=>v});var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js"),_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js"),_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js"),_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3DrawUniform.js"),_shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js"),_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");function v(r,o){r.include(_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__.f);const e=r.vertex;e.include(_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_4__.$,o),r.varyings.add("vPositionWorldCameraRelative","vec3"),r.varyings.add("vPosition_view","vec3"),e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.J("transformWorldFromViewTH",(r=>r.transformWorldFromViewTH)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.J("transformWorldFromViewTL",(r=>r.transformWorldFromViewTL)),new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__.c("transformViewFromCameraRelativeRS",(r=>r.transformViewFromCameraRelativeRS)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.g("transformProjFromView",(r=>r.transformProjFromView)),new _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_8__.j("transformWorldFromModelRS",(r=>r.transformWorldFromModelRS)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__.B("transformWorldFromModelTH",(r=>r.transformWorldFromModelTH)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__.B("transformWorldFromModelTL",(r=>r.transformWorldFromModelTL))),e.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 positionWorldCameraRelative() {
vec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();
vec3 transform_CameraRelativeFromModel = dpAdd(
transformWorldFromModelTL,
transformWorldFromModelTH,
-transformWorldFromViewTL,
-transformWorldFromViewTH
);
return transform_CameraRelativeFromModel + rotatedModelPosition;
}`),e.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`
    void forwardPosition(float fOffset) {
      vPositionWorldCameraRelative = positionWorldCameraRelative();
      if (fOffset != 0.0) {
        vPositionWorldCameraRelative += fOffset * ${o.spherical?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`normalize(transformWorldFromViewTL + vPositionWorldCameraRelative)`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3(0.0, 0.0, 1.0)`};
      }

      vPosition_view = transformViewFromCameraRelativeRS * vPositionWorldCameraRelative;
      gl_Position = transformProjFromView * vec4(vPosition_view, 1.0);
    }
  `),r.fragment.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.J("transformWorldFromViewTL",(r=>r.transformWorldFromViewTL))),e.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`),r.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`)}class F extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.K{constructor(){super(...arguments),this.transformWorldFromViewTH=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformWorldFromViewTL=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformViewFromCameraRelativeRS=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.a)(),this.transformProjFromView=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()}}class W extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.K{constructor(){super(...arguments),this.transformWorldFromModelRS=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.a)(),this.transformWorldFromModelTH=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformWorldFromModelTL=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>s});var compilerUtils=__webpack_require__("./node_modules/@arcgis/core/core/compilerUtils.js"),TextureCoordinateAttribute_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js"),interfaces=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function e(e){e.fragment.code.add(interfaces.H`vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {
vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;
vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;
float maxdUV = 0.125;
vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
return textureGrad(tex, uvAtlas, dUVdx, dUVdy);
}`)}function s(s,a){switch(s.include(TextureCoordinateAttribute_glsl.D,a),a.textureCoordinateType){case TextureCoordinateAttribute_glsl.N.Default:case TextureCoordinateAttribute_glsl.N.Compressed:return void s.fragment.code.add(interfaces.H`vec4 textureLookup(sampler2D tex, vec2 uv) {
return texture(tex, uv);
}`);case TextureCoordinateAttribute_glsl.N.Atlas:return s.include(e),void s.fragment.code.add(interfaces.H`vec4 textureLookup(sampler2D tex, vec2 uv) {
return textureAtlasLookup(tex, uv, vuvRegion);
}`);default:(0,compilerUtils.Bg)(a.textureCoordinateType);case TextureCoordinateAttribute_glsl.N.None:case TextureCoordinateAttribute_glsl.N.COUNT:return}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>a,V:()=>f});var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js"),_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"),_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function a(e,r){const c=e.vertex;r.hasVerticalOffset?(f(c),r.hasScreenSizePerspective&&(e.include(_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__.cK),(0,_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__.m8)(c),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__.hY)(e.vertex,r)),c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`
      vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {
        float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);
        ${r.spherical?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`vec3 worldNormal = normalize(worldPos + localOrigin);`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}
        ${r.hasScreenSizePerspective?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`
            float cosAngle = dot(worldNormal, normalize(worldPos - cameraPosition));
            float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`
            float verticalOffsetScreenHeight = verticalOffset.x;`}
        // Screen sized offset in world space, used for example for line callouts
        float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);
        return worldNormal * worldOffset;
      }

      vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {
        return worldPos + calculateVerticalOffset(worldPos, localOrigin);
      }
    `)):c.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.H`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}const i=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();function f(r){r.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.N("verticalOffset",((r,t)=>{const{minWorldLength:l,maxWorldLength:o,screenLength:c}=r.verticalOffset,s=Math.tan(.5*t.camera.fovY)/(.5*t.camera.fullViewport[3]),a=t.camera.pixelRatio||1;return(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__.s)(i,c*a,s,l,o)})))}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>l});var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js"),_util_RgbaFloat16Encoding_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js"),_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function l(l,r){switch(r.output){case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.Shadow:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.ShadowHighlight:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.ShadowExcludeHighlight:l.fragment.include(_util_RgbaFloat16Encoding_glsl_js__WEBPACK_IMPORTED_MODULE_1__.f),l.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float _calculateFragDepth(const in float depth) {
const float SLOPE_SCALE = 2.0;
const float BIAS = 20.0 * .000015259;
float m = max(abs(dFdx(depth)), abs(dFdy(depth)));
return depth + SLOPE_SCALE * m + BIAS;
}
void outputDepth(float _linearDepth) {
fragColor = floatToRgba4(_calculateFragDepth(_linearDepth));
}`);break;case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.H.Depth:l.fragment.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_2__.n),l.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void outputDepth(float _linearDepth) {
fragColor = float2rgba(_linearDepth);
}`)}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Wj:()=>d,bA:()=>a,ck:()=>r});var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");const d=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1,1,0,1),r=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1,0,1,1);function a(e){e.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.A("depthTexture",((e,o)=>o.mainDepth))),e.fragment.constants.add("occludedHighlightFlag","vec4",d).add("unoccludedHighlightFlag","vec4",r),e.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`void outputHighlight() {
float sceneDepth = float(texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x);
if (gl_FragCoord.z > sceneDepth + 5e-7) {
fragColor = occludedHighlightFlag;
} else {
fragColor = unoccludedHighlightFlag;
}
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>a});var _util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function a(a){a.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__.n),a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`float linearDepthFromFloat(float depth, vec2 nearFar) {
return -(depth * (nearFar[1] - nearFar[0]) + nearFar[0]);
}
float linearDepthFromRGBA(vec4 depth, vec2 nearFar) {
return linearDepthFromFloat(rgba2float(depth), nearFar);
}
float linearDepthFromTexture(sampler2D depthTex, vec2 uv, vec2 nearFar) {
ivec2 iuv = ivec2(uv * vec2(textureSize(depthTex, 0)));
return linearDepthFromRGBA(texelFetch(depthTex, iuv, 0), nearFar);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>m});var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"),_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function m(n,g){const m=n.fragment,o=void 0!==g.lightingSphericalHarmonicsOrder?g.lightingSphericalHarmonicsOrder:2;0===o?(m.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.J("lightingAmbientSH0",((n,t)=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0])))),m.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec3 ambientLight = 0.282095 * lightingAmbientSH0;
return ambientLight * (1.0 - ambientOcclusion);
}`)):1===o?(m.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_R",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[0],n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_G",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[0],n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_B",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[0],n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3])))),m.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec4 sh0 = vec4(
0.282095,
0.488603 * normal.x,
0.488603 * normal.z,
0.488603 * normal.y
);
vec3 ambientLight = vec3(
dot(lightingAmbientSH_R, sh0),
dot(lightingAmbientSH_G, sh0),
dot(lightingAmbientSH_B, sh0)
);
return ambientLight * (1.0 - ambientOcclusion);
}`)):2===o&&(m.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.J("lightingAmbientSH0",((n,t)=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_R1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3],n.lighting.sh.r[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_G1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3],n.lighting.sh.g[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_B1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3],n.lighting.sh.b[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_R2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[5],n.lighting.sh.r[6],n.lighting.sh.r[7],n.lighting.sh.r[8]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_G2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[5],n.lighting.sh.g[6],n.lighting.sh.g[7],n.lighting.sh.g[8]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.N("lightingAmbientSH_B2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[5],n.lighting.sh.b[6],n.lighting.sh.b[7],n.lighting.sh.b[8])))),m.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec3 ambientLight = 0.282095 * lightingAmbientSH0;
vec4 sh1 = vec4(
0.488603 * normal.x,
0.488603 * normal.z,
0.488603 * normal.y,
1.092548 * normal.x * normal.y
);
vec4 sh2 = vec4(
1.092548 * normal.y * normal.z,
0.315392 * (3.0 * normal.z * normal.z - 1.0),
1.092548 * normal.x * normal.z,
0.546274 * (normal.x * normal.x - normal.y * normal.y)
);
ambientLight += vec3(
dot(lightingAmbientSH_R1, sh1),
dot(lightingAmbientSH_G1, sh1),
dot(lightingAmbientSH_B1, sh1)
);
ambientLight += vec3(
dot(lightingAmbientSH_R2, sh2),
dot(lightingAmbientSH_G2, sh2),
dot(lightingAmbientSH_B2, sh2)
);
return ambientLight * (1.0 - ambientOcclusion);
}`),g.pbrMode!==_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__.f7.Normal&&g.pbrMode!==_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__.f7.Schematic||m.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.H`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);
vec3 calculateAmbientRadiance(float ambientOcclusion)
{
vec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;
return ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;
}`))}const a=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),r=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F1:()=>a,Pe:()=>t,kR:()=>o});var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function t(n){n.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("mainLightDirection",((i,n)=>n.lighting.mainLight.direction)))}function a(n){n.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("mainLightIntensity",((i,n)=>n.lighting.mainLight.intensity)))}function o(i){t(i.fragment),a(i.fragment),i.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.H`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {
float dotVal = clamp(dot(normal_global, mainLightDirection), 0.0, 1.0);
return mainLightIntensity * ((1.0 - shadowing) * dotVal);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>n,l:()=>o});var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js"),_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");function o(o,n){if(!n.multipassEnabled)return;o.fragment.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.S),o.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.A("terrainDepthTexture",((e,r)=>r.multipassTerrain.linearDepth?.colorTexture))),o.fragment.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.A("nearFar",((e,r)=>r.camera.nearFar)));const s=n.occlusionPass;o.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.H`
   ${s?"bool":"void"} terrainDepthTest(float fragmentDepth) {
      vec4 data = texelFetch(terrainDepthTexture, ivec2(gl_FragCoord.xy), 0);
      float linearDepth = linearDepthFromRGBA(data, nearFar);
      ${s?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.H`return fragmentDepth < linearDepth && data != vec4(0.0, 0.0, 0.0, 1.0);`:_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.H`
          if(fragmentDepth ${n.cullAboveGround?">":"<="} linearDepth){
            discard;
          }`}
    }`)}class n{constructor(){this.cullAboveGround=!1}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>n,g:()=>r});var interfaces=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function t(t){const a=t.fragment.code;a.add(interfaces.H`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)
{
return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;
}`),a.add(interfaces.H`float integratedRadiance(float cosTheta2, float roughness)
{
return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);
}`),a.add(interfaces.H`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)
{
float cosTheta2 = 1.0 - RdotNG * RdotNG;
float intRadTheta = integratedRadiance(cosTheta2, roughness);
float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;
float sky = 2.0 - ground;
return (ground * ambientGround + sky * ambientSky) * 0.5;
}`)}var PhysicallyBasedRenderingParameters_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"),PiUtils_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js");function n(n,r){const l=n.fragment.code;n.include(PiUtils_glsl.e),r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.Normal&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.Schematic&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.Terrain&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.TerrainWithWater||(l.add(interfaces.H`float normalDistribution(float NdotH, float roughness)
{
float a = NdotH * roughness;
float b = roughness / (1.0 - NdotH * NdotH + a * a);
return b * b * INV_PI;
}`),l.add(interfaces.H`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);
const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);
const vec2 c2 = vec2(-1.04, 1.04);
vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {
vec4 r = roughness * c0 + c1;
float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;
return c2 * a004 + r.zw;
}`)),r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.Normal&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl.f7.Schematic||(n.include(t),l.add(interfaces.H`struct PBRShadingInfo
{
float NdotL;
float NdotV;
float NdotH;
float VdotH;
float LdotH;
float NdotNG;
float RdotNG;
float NdotAmbDir;
float NdotH_Horizon;
vec3 skyRadianceToSurface;
vec3 groundRadianceToSurface;
vec3 skyIrradianceToSurface;
vec3 groundIrradianceToSurface;
float averageAmbientRadiance;
float ssao;
vec3 albedoLinear;
vec3 f0;
vec3 f90;
vec3 diffuseColor;
float metalness;
float roughness;
};`),l.add(interfaces.H`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {
vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);
vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);
vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;
vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);
vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;
vec3 specularComponent = specularColor * indirectSpecular;
return (diffuseComponent + specularComponent);
}`),l.add(interfaces.H`float gamutMapChanel(float x, vec2 p){
return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );
}`),l.add(interfaces.H`vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){
vec3 outColor;
vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));
outColor.x = gamutMapChanel(inColor.x, p) ;
outColor.y = gamutMapChanel(inColor.y, p) ;
outColor.z = gamutMapChanel(inColor.z, p) ;
return outColor;
}`))}function r(e,o){const n=e.fragment.code;e.include(PiUtils_glsl.e),n.add(interfaces.H`
  struct PBRShadingWater
  {
      float NdotL;   // cos angle between normal and light direction
      float NdotV;   // cos angle between normal and view direction
      float NdotH;   // cos angle between normal and half vector
      float VdotH;   // cos angle between view direction and half vector
      float LdotH;   // cos angle between light direction and half vector
      float VdotN;   // cos angle between view direction and normal vector
  };

  float dtrExponent = ${o.useCustomDTRExponentForWater?"2.2":"2.0"};
  `),n.add(interfaces.H`vec3 fresnelReflection(float angle, vec3 f0, float f90) {
return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);
}`),n.add(interfaces.H`float normalDistributionWater(float NdotH, float roughness)
{
float r2 = roughness * roughness;
float NdotH2 = NdotH * NdotH;
float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;
return r2 / denom;
}`),n.add(interfaces.H`float geometricOcclusionKelemen(float LoH)
{
return 0.25 / (LoH * LoH);
}`),n.add(interfaces.H`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)
{
vec3  F = fresnelReflection(props.VdotH, F0, F0Max);
float dSun = normalDistributionWater(props.NdotH, roughness);
float V = geometricOcclusionKelemen(props.LdotH);
float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);
float strengthSunHaze  = 1.2;
float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;
return ((dSun + dSunHaze) * V) * F;
}
vec3 tonemapACES(const vec3 x) {
return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f7:()=>c,jV:()=>l});var c,_attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js"),_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js"),_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js"),_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");!function(e){e[e.Disabled=0]="Disabled",e[e.Normal=1]="Normal",e[e.Schematic=2]="Schematic",e[e.Water=3]="Water",e[e.WaterOnIntegratedMesh=4]="WaterOnIntegratedMesh",e[e.Terrain=5]="Terrain",e[e.TerrainWithWater=6]="TerrainWithWater",e[e.COUNT=7]="COUNT"}(c||(c={}));function l(n,u){const l=n.fragment,m=u.hasMetallicRoughnessTexture||u.hasEmissionTexture||u.hasOcclusionTexture;if(u.pbrMode===c.Normal&&m&&n.include(_attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_0__.i,u),u.pbrMode!==c.Schematic)if(u.pbrMode!==c.Disabled){if(u.pbrMode===c.Normal){l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec3 mrr;
vec3 emission;
float occlusion;`);const e=u.pbrTextureBindType;u.hasMetallicRoughnessTexture&&(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__.P.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.A("texMetallicRoughness",(e=>e.textureMetallicRoughness)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.R("texMetallicRoughness",(e=>e.textureMetallicRoughness))),l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void applyMetallnessAndRoughness(vec2 uv) {
vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;
mrr[0] *= metallicRoughness.b;
mrr[1] *= metallicRoughness.g;
}`)),u.hasEmissionTexture&&(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__.P.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.A("texEmission",(e=>e.textureEmissive)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.R("texEmission",(e=>e.textureEmissive))),l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void applyEmission(vec2 uv) {
emission *= textureLookup(texEmission, uv).rgb;
}`)),u.hasOcclusionTexture?(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__.P.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.A("texOcclusion",(e=>e.textureOcclusion)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__.R("texOcclusion",(e=>e.textureOcclusion))),l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`void applyOcclusion(vec2 uv) {
occlusion *= textureLookup(texOcclusion, uv).r;
}
float getBakedOcclusion() {
return occlusion;
}`)):l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float getBakedOcclusion() { return 1.0; }`),e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__.P.Pass?l.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.J("emissionFactor",(e=>e.emissiveFactor)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.J("mrrFactors",(e=>e.mrrFactors))):l.uniforms.add(new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__.B("emissionFactor",(e=>e.emissiveFactor)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__.B("mrrFactors",(e=>e.mrrFactors))),l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`
    void applyPBRFactors() {
      mrr = mrrFactors;
      emission = emissionFactor;
      occlusion = 1.0;

      ${u.hasMetallicRoughnessTexture?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`applyMetallnessAndRoughness(${u.hasMetallicRoughnessTextureTransform?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`metallicRoughnessUV`:"vuv0"});`:""}

      ${u.hasEmissionTexture?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`applyEmission(${u.hasEmissiveTextureTransform?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`emissiveUV`:"vuv0"});`:""}

      ${u.hasOcclusionTexture?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`applyOcclusion(${u.hasOcclusionTextureTransform?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`occlusionUV`:"vuv0"});`:""}
    }
  `)}}else l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float getBakedOcclusion() { return 1.0; }`);else l.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec3 mrr = vec3(0.0, 0.6, 0.2);
vec3 emission = vec3(0.0);
float occlusion = 1.0;
void applyPBRFactors() {}
float getBakedOcclusion() { return 1.0; }`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>t});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function t(t){t.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`const float PI = 3.141592653589793;`),t.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`const float PI = 3.141592653589793;
const float LIGHT_NORMALIZATION = 1.0 / PI;
const float INV_PI = 0.3183098861837907;
const float HALF_PI = 1.570796326794897;`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XE:()=>m,hb:()=>x});__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js");var RgbaFloat16Encoding_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js"),Float4PassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js"),IntegerPassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js"),interfaces=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),Uniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),BindType=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class o extends Uniform.x{constructor(r,o,s){super(r,"mat4",BindType.P.Draw,((e,s,t,i)=>e.setUniformMatrix4fv(r,o(s,t,i))),s)}}class Matrix4sPassUniform_e extends Uniform.x{constructor(r,e,o){super(r,"mat4",BindType.P.Pass,((s,o,t)=>s.setUniformMatrix4fv(r,e(o,t))),o)}}var Texture2DPassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");function x(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new Matrix4sPassUniform_e("shadowMapMatrix",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),u(e))}function m(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new o("shadowMapMatrix",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),u(e))}function u(e){const s=e.fragment;s.include(RgbaFloat16Encoding_glsl.f),s.uniforms.add(new Texture2DPassUniform.A("shadowMapTex",((e,s)=>s.shadowMap.depthTexture)),new IntegerPassUniform._("numCascades",((e,s)=>s.shadowMap.numCascades)),new Float4PassUniform.N("cascadeDistances",((e,s)=>s.shadowMap.cascadeDistances))),s.code.add(interfaces.H`int chooseCascade(float depth, out mat4 mat) {
vec4 distance = cascadeDistances;
int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;
mat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];
return i;
}
vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {
vec4 lv = mat * vec4(_vpos, 1.0);
lv.xy /= lv.w;
return 0.5 * lv.xyz + vec3(0.5);
}
vec2 cascadeCoordinates(int i, ivec2 textureSize, vec3 lvpos) {
float xScale = float(textureSize.y) / float(textureSize.x);
return vec2((float(i) + lvpos.x) * xScale, lvpos.y);
}
float readShadowMapDepth(ivec2 uv, sampler2D _depthTex) {
return rgba4ToFloat(texelFetch(_depthTex, uv, 0));
}
float posIsInShadow(ivec2 uv, vec3 lvpos, sampler2D _depthTex) {
return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;
}
float filterShadow(vec2 uv, vec3 lvpos, ivec2 texSize, sampler2D _depthTex) {
vec2 st = fract(uv * vec2(texSize) + vec2(0.5));
ivec2 base = ivec2(uv * vec2(texSize) - vec2(0.5));
float s00 = posIsInShadow(ivec2(base.x, base.y), lvpos, _depthTex);
float s10 = posIsInShadow(ivec2(base.x + 1, base.y), lvpos, _depthTex);
float s11 = posIsInShadow(ivec2(base.x + 1, base.y + 1), lvpos, _depthTex);
float s01 = posIsInShadow(ivec2(base.x, base.y + 1), lvpos, _depthTex);
return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);
}
float readShadowMap(const in vec3 _vpos, float _linearDepth) {
mat4 mat;
int i = chooseCascade(_linearDepth, mat);
if (i >= numCascades) { return 0.0; }
vec3 lvpos = lightSpacePosition(_vpos, mat);
if (lvpos.z >= 1.0) { return 0.0; }
if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }
ivec2 size = textureSize(shadowMapTex, 0);
vec2 uv = cascadeCoordinates(i, size, lvpos);
return filterShadow(uv, lvpos, size, shadowMapTex);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>l});var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4sPassUniform.js"),_shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js"),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");function l(l,n){const{vertex:s,attributes:u}=l;n.hasVvInstancing&&(n.vvSize||n.vvColor)&&u.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.T.INSTANCEFEATUREATTRIBUTE,"vec4"),n.vvSize?(s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("vvSizeMinSize",(e=>e.vvSize.minSize))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("vvSizeMaxSize",(e=>e.vvSize.maxSize))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("vvSizeOffset",(e=>e.vvSize.offset))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("vvSizeFactor",(e=>e.vvSize.factor))),s.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.c("vvSymbolRotationMatrix",(e=>e.vvSymbolRotationMatrix))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.J("vvSymbolAnchor",(e=>e.vvSymbolAnchor))),s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec3 vvScale(vec4 _featureAttribute) {
return clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);
}
vec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {
return vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);
}`),s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`
      const float eps = 1.192092896e-07;
      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {
        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);
        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);
      }

      ${n.hasVvInstancing?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`
      vec4 vvLocalNormal(vec3 _normal) {
        return vvTransformNormal(_normal, instanceFeatureAttribute);
      }

      vec4 localPosition() {
        return vvTransformPosition(position, instanceFeatureAttribute);
      }`:""}
    `)):s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec4 localPosition() { return vec4(position, 1.0); }
vec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),n.vvColor?(s.constants.add("vvColorNumber","int",_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__.x),s.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.O("vvColorValues",(e=>e.vvColor.values),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__.x),new _shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.b("vvColorColors",(e=>e.vvColor.colors),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__.x)),s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`
      vec4 interpolateVVColor(float value) {
        if (value <= vvColorValues[0]) {
          return vvColorColors[0];
        }

        for (int i = 1; i < vvColorNumber; ++i) {
          if (vvColorValues[i] >= value) {
            float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);
            return mix(vvColorColors[i-1], vvColorColors[i], f);
          }
        }
        return vvColorColors[vvColorNumber - 1];
      }

      vec4 vvGetColor(vec4 featureAttribute) {
        return interpolateVVColor(featureAttribute.y);
      }

      ${n.hasVvInstancing?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`
            vec4 vvColor() {
              return vvGetColor(instanceFeatureAttribute);
            }`:"vec4 vvColor() { return vec4(1.0); }"}
    `)):s.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec4 vvColor() { return vec4(1.0); }`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>o,b:()=>t});const o=.1,t=.001},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GZ:()=>n});var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec2.js"),_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec2f64.js"),_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js"),_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function n(r){r.fragment.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.N("projInfo",((r,o)=>function f(r){const o=r.camera.projectionMatrix;return 0===o[11]?(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(m,2/(r.camera.fullWidth*o[0]),2/(r.camera.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(m,-2/(r.camera.fullWidth*o[0]),-2/(r.camera.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}(o)))),r.fragment.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.A("zScale",((r,o)=>function i(o){return 0===o.camera.projectionMatrix[11]?(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(d,0,1):(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(d,1,0)}(o)))),r.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.H`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}const m=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();const d=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>e});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function e(e){e.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`vec4 premultiplyAlpha(vec4 v) {
return vec4(v.rgb * v.a, v.a);
}
vec3 rgb2hsv(vec3 c) {
vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);
vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);
float d = q.x - min(q.w, q.y);
float e = 1.0e-10;
return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);
}
vec3 hsv2rgb(vec3 c) {
vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}
float rgb2v(vec3 c) {
return max(c.x, max(c.y, c.z));
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>c});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function c({code:c},i){i.doublePrecisionRequiresObfuscation?c.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):c.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>a});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function a(a){a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`const float MAX_RGBA4_FLOAT =
15.0 / 16.0 +
15.0 / 16.0 / 16.0 +
15.0 / 16.0 / 16.0 / 16.0 +
15.0 / 16.0 / 16.0 / 16.0 / 16.0;
const vec4 FIXED_POINT_FACTORS_RGBA4 = vec4(1.0, 16.0, 16.0 * 16.0, 16.0 * 16.0 * 16.0);
vec4 floatToRgba4(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA4_FLOAT);
vec4 fixedPointU4 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS_RGBA4) * 16.0);
const float toU4AsFloat = 1.0 / 15.0;
return fixedPointU4 * toU4AsFloat;
}
const vec4 RGBA4_2_FLOAT_FACTORS = vec4(
15.0 / (16.0),
15.0 / (16.0 * 16.0),
15.0 / (16.0 * 16.0 * 16.0),
15.0 / (16.0 * 16.0 * 16.0 * 16.0)
);
float rgba4ToFloat(vec4 rgba) {
return dot(rgba, RGBA4_2_FLOAT_FACTORS);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>a});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function a(a){a.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}
const vec4 RGBA_2_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgba2float(vec4 rgba) {
return dot(rgba, RGBA_2_FLOAT_FACTORS);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cK:()=>s,m8:()=>o,ww:()=>t});var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function s(e){e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {
return absCosAngle * absCosAngle * absCosAngle;
}`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec3 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec3 params) {
return vec3(
min(params.x / (distanceToCamera - params.y), 1.0),
screenSizePerspectiveViewAngleDependentFactor(absCosAngle),
params.z
);
}`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec3 factor) {
return mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);
}`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec3 params) {
return applyScreenSizePerspectiveScaleFactorFloat(
size,
screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)
);
}`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec3 factor) {
return mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);
}`),e.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.H`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec3 params) {
return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));
}`)}function t(e){e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.J("screenSizePerspective",(e=>i(e.screenSizePerspective))))}function o(e){e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.J("screenSizePerspectiveAlignment",(e=>i(e.screenSizePerspectiveAlignment||e.screenSizePerspective))))}function i(a){return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(n,a.parameters.divisor,a.parameters.offset,a.minScaleFactor)}const n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hY:()=>f,ZI:()=>u,Sv:()=>d,_8:()=>p});var mat4=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),mat4f64=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),vec3=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),vec3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),Float3DrawUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js"),Float3PassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js"),FloatPassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js"),Uniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),BindType=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class Matrix4DrawUniform_o extends Uniform.x{constructor(r,o){super(r,"mat4",BindType.P.Draw,((e,s,t)=>e.setUniformMatrix4fv(r,o(s,t))))}}var Matrix4PassUniform=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");function f(r,a){a.instancedDoublePrecision?r.constants.add("cameraPosition","vec3",vec3f64.Z):r.uniforms.add(new Float3DrawUniform.B("cameraPosition",((r,a)=>(0,vec3.s)(w,a.camera.viewInverseTransposeMatrix[3]-r.origin[0],a.camera.viewInverseTransposeMatrix[7]-r.origin[1],a.camera.viewInverseTransposeMatrix[11]-r.origin[2]))))}function d(a,i){if(!i.instancedDoublePrecision)return void a.uniforms.add(new Matrix4PassUniform.g("proj",((r,a)=>a.camera.projectionMatrix)),new Matrix4DrawUniform_o("view",((a,e)=>(0,mat4.w)(v,e.camera.viewMatrix,a.origin))),new Float3DrawUniform.B("localOrigin",(r=>r.origin)));const o=r=>(0,vec3.s)(w,r.camera.viewInverseTransposeMatrix[3],r.camera.viewInverseTransposeMatrix[7],r.camera.viewInverseTransposeMatrix[11]);a.uniforms.add(new Matrix4PassUniform.g("proj",((r,a)=>a.camera.projectionMatrix)),new Matrix4PassUniform.g("view",((a,e)=>(0,mat4.w)(v,e.camera.viewMatrix,o(e)))),new Float3PassUniform.J("localOrigin",((r,a)=>o(a))))}const v=(0,mat4f64.a)(),w=(0,vec3f64.c)();function p(r){r.uniforms.add(new Matrix4PassUniform.g("viewNormal",((r,a)=>a.camera.viewInverseTransposeMatrix)))}function u(r){r.uniforms.add(new FloatPassUniform.p("pixelRatio",((r,a)=>a.camera.pixelRatio/a.overlayStretch)))}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>s});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(o,s){super(o,"bool",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((r,e,t)=>r.setUniform1b(o,s(e,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"vec2",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniform2fv(r,e(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>o});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,o){super(r,"vec3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Draw,((e,s,t,i)=>e.setUniform3fv(r,o(s,t,i))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"vec3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniform3fv(r,e(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"vec4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniform4fv(r,e(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4sPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e,o){super(r,"vec4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniform4fv(r,e(o,t))),o)}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>o});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,o){super(r,"float",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,e,t)=>s.setUniform1f(r,o(e,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>o});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,o,e){super(r,"float",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,e,t)=>s.setUniform1fv(r,o(e,t))),e)}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"int",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,i)=>s.setUniform1i(r,e(o,i))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3DrawUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>o});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,o){super(r,"mat3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Draw,((e,s,t)=>e.setUniformMatrix3fv(r,o(s,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"mat3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniformMatrix3fv(r,e(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>e});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,e){super(r,"mat4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((s,o,t)=>s.setUniformMatrix4fv(r,e(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{kG:()=>o});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js"),_lib_Util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");const s=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__.Z.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder");class i{constructor(){this._includedModules=new Map}include(e,t){if(this._includedModules.has(e)){const r=this._includedModules.get(e);if(r!==t){s.error("Trying to include shader module multiple times with different sets of options.");const t=new Set;for(const n of Object.keys(r))r[n]!==e[n]&&t.add(n);for(const n of Object.keys(e))r[n]!==e[n]&&t.add(n);t.forEach((t=>console.error(`  ${t}: current ${r[t]} new ${e[t]}`)))}}else this._includedModules.set(e,t),e(this.builder,t)}}class o extends i{constructor(){super(...arguments),this.vertex=new u,this.fragment=new u,this.attributes=new h,this.varyings=new m,this.extensions=new l,this.constants=new _,this.outputs=new d}get fragmentUniforms(){return this.fragment.uniforms.entries}get builder(){return this}generate(e){const t=this.extensions.generateSource(e),r=this.attributes.generateSource(e),n=this.varyings.generateSource(e),s="vertex"===e?this.vertex:this.fragment,i=s.uniforms.generateSource(),o=s.code.generateSource(),a="vertex"===e?g:f,c=this.constants.generateSource().concat(s.constants.generateSource()),u=this.outputs.generateSource(e);return`#version 300 es\n${t.join("\n")}\n\n${a}\n\n${c.join("\n")}\n\n${i.join("\n")}\n\n${r.join("\n")}\n\n${n.join("\n")}\n\n${u.join("\n")}\n\n${o.join("\n")}`}generateBindPass(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__.P.Pass];n&&t.set(e.name,n)})),this.fragment.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__.P.Pass];n&&t.set(e.name,n)}));const n=Array.from(t.values()),s=n.length;return(t,r)=>{for(let i=0;i<s;++i)n[i](e,t,r)}}generateBindDraw(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__.P.Draw];n&&t.set(e.name,n)})),this.fragment.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__.P.Draw];n&&t.set(e.name,n)}));const n=Array.from(t.values()),s=n.length;return(t,r,i)=>{for(let o=0;o<s;++o)n[o](e,t,r,i)}}}class a{constructor(){this._entries=new Map}add(...e){for(const t of e)this._add(t)}get(e){return this._entries.get(e)}_add(t){if(null!=t){if(this._entries.has(t.name)&&!this._entries.get(t.name).equals(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.Z(`Duplicate uniform name ${t.name} for different uniform type`);this._entries.set(t.name,t)}else s.error(`Trying to add null Uniform from ${(new Error).stack}.`)}generateSource(){return Array.from(this._entries.values()).map((e=>null!=e.arraySize?`uniform ${e.type} ${e.name}[${e.arraySize}];`:`uniform ${e.type} ${e.name};`))}get entries(){return Array.from(this._entries.values())}}class c{constructor(){this._entries=new Array}add(e){this._entries.push(e)}generateSource(){return this._entries}}class u extends i{constructor(){super(...arguments),this.uniforms=new a,this.code=new c,this.constants=new _}get builder(){return this}}class h{constructor(){this._entries=new Array}add(e,t){this._entries.push([e,t])}generateSource(e){return"fragment"===e?[]:this._entries.map((e=>`in ${e[1]} ${e[0]};`))}}class m{constructor(){this._entries=new Map}add(e,t){this._entries.has(e)&&(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_3__.hu)(this._entries.get(e)===t),this._entries.set(e,t)}generateSource(e){const t=new Array;return this._entries.forEach(((r,n)=>t.push("vertex"===e?`out ${r} ${n};`:`in ${r} ${n};`))),t}}class l{constructor(){this._entries=new Set}add(e){this._entries.add(e)}generateSource(e){const t="vertex"===e?l.ALLOWLIST_VERTEX:l.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((e=>t.includes(e))).map((e=>`#extension ${e} : enable`))}}l.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],l.ALLOWLIST_VERTEX=[];class d{constructor(){this._entries=new Map}add(e,t,r=0){const s=this._entries.get(r);s?(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_3__.hu)(s.name===e&&s.type===t,`Fragment shader output location ${r} occupied`):this._entries.set(r,{name:e,type:t})}generateSource(e){if("vertex"===e)return[];0===this._entries.size&&this._entries.set(0,{name:d.DEFAULT_NAME,type:d.DEFAULT_TYPE});const t=new Array;return this._entries.forEach(((e,r)=>t.push(`layout(location = ${r}) out ${e.type} ${e.name};`))),t}}d.DEFAULT_TYPE="vec4",d.DEFAULT_NAME="fragColor";class _{constructor(){this._entries=new Set}add(e,t,r){let n="ERROR_CONSTRUCTOR_STRING";switch(t){case"float":n=_._numberToFloatStr(r);break;case"int":n=_._numberToIntStr(r);break;case"bool":n=r.toString();break;case"vec2":n=`vec2(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])})`;break;case"vec3":n=`vec3(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])},                            ${_._numberToFloatStr(r[2])})`;break;case"vec4":n=`vec4(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])},                            ${_._numberToFloatStr(r[2])},                            ${_._numberToFloatStr(r[3])})`;break;case"ivec2":n=`ivec2(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])})`;break;case"ivec3":n=`ivec3(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])},                             ${_._numberToIntStr(r[2])})`;break;case"ivec4":n=`ivec4(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])},                             ${_._numberToIntStr(r[2])},                             ${_._numberToIntStr(r[3])})`;break;case"mat2":case"mat3":case"mat4":n=`${t}(${Array.prototype.map.call(r,(e=>_._numberToFloatStr(e))).join(", ")})`}return this._entries.add(`const ${t} ${e} = ${n};`),this}static _numberToIntStr(e){return e.toFixed(0)}static _numberToFloatStr(e){return Number.isInteger(e)?e.toFixed(1):e.toString()}generateSource(){return Array.from(this._entries)}}const f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump sampler2D;\n#endif",g="precision highp float;\nprecision highp sampler2D;"},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>s});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,s){super(r,"sampler2D",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Draw,((e,o,t)=>e.bindTexture(r,s(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>s});var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js"),_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.x{constructor(r,s){super(r,"sampler2D",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.P.Pass,((e,o,t)=>e.bindTexture(r,s(o,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>a});var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");class a{constructor(a,i,e,r,t=null){if(this.name=a,this.type=i,this.arraySize=t,this.bind={[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Pass]:null,[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Draw]:null},r)switch(e){case _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Pass:this.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Pass]=r;break;case _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Draw:this.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__.P.Draw]=r}}equals(s){return this.type===s.type&&this.name===s.name&&this.arraySize===s.arraySize}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>o,K:()=>n});const n=class t{};function o(t,...n){let o="";for(let r=0;r<n.length;r++)o+=t[r]+n[r];return o+=t[t.length-1],o}!function(t){t.int=function n(t){return Math.round(t).toString()},t.float=function o(t){return t.toPrecision(8)}}(o||(o={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var a;__webpack_require__.d(__webpack_exports__,{P:()=>a}),function(a){a[a.Pass=0]="Pass",a[a.Draw=1]="Draw"}(a||(a={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>t});class t{constructor(t,o){this._module=t,this._loadModule=o}get(){return this._module}async reload(){return this._module=await this._loadModule(),this._module}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>r});var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js");class r{constructor(i,t,r){this.release=r,this.initializeConfiguration(i,t),this._configuration=t.snapshot(),this._program=this.initializeProgram(i),this._pipeline=this.initializePipeline(i.rctx.capabilities)}destroy(){this._program=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.M2)(this._program),this._pipeline=this._configuration=null}reload(t){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.M2)(this._program),this._program=this.initializeProgram(t),this._pipeline=this.initializePipeline(t.rctx.capabilities)}get program(){return this._program}get compiled(){return this.program.compiled}get key(){return this._configuration.key}get configuration(){return this._configuration}ensureAttributeLocations(i){this.program.assertCompatibleVertexAttributeLocations(i)}get primitiveType(){return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.MX.TRIANGLES}getPipeline(i,t,r){return this._pipeline}initializeConfiguration(i,t){}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>t,o:()=>r});var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");class t extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.K{constructor(){super(),this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits?this._parameterBits.map((()=>0)):[],this._parameterNames||(this._parameterNames=[])}get key(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}snapshot(){const e=this._parameterNames,t={key:this.key};for(const r of e)t[r]=this[r];return t}}function r(e={}){return(t,r)=>{if(t._parameterNames=t._parameterNames??[],t._parameterNames.push(r),null!=e.constValue)Object.defineProperty(t,r,{get:()=>e.constValue});else{const s=t._parameterNames.length-1,a=e.count||2,i=Math.ceil(Math.log2(a)),o=t._parameterBits??[0];let h=0;for(;o[h]+i>16;)h++,h>=o.length&&o.push(0);t._parameterBits=o;const n=o[h],m=(1<<i)-1<<n;o[h]+=i,Object.defineProperty(t,r,{get(){return this[s]},set(e){if(this[s]!==e&&(this[s]=e,this._keyDirty=!0,this._parameterBits[h]=this._parameterBits[h]&~m|+e<<n&m,"number"!=typeof e&&"boolean"!=typeof e))throw new Error("Configuration value for "+r+" must be boolean or number, got "+typeof e)}})}}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{He:()=>c,jt:()=>s,of:()=>t,tY:()=>u,vA:()=>d,vO:()=>m});var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Accessor.js"),_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");const s={required:[]},t={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.H.Depth]},d=(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.H.CompositeColor,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.H.Highlight,{required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.H.Depth,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.H.Normal]});class i extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__.Z{consumes(){return s}get usedMemory(){return 0}get isDecoration(){return!1}get running(){return!1}}class u extends i{}class c extends i{}class m extends i{}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>E});var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");const E=new Map([[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.POSITION,0],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.NORMAL,1],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.NORMALCOMPRESSED,1],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.UV0,2],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.COLOR,3],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.COLORFEATUREATTRIBUTE,3],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.SIZE,4],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.TANGENT,4],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.AUXPOS1,5],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.SYMBOLCOLOR,5],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.AUXPOS2,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.FEATUREATTRIBUTE,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEFEATUREATTRIBUTE,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCECOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.OBJECTANDLAYERIDCOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEOBJECTANDLAYERIDCOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEMODEL,8],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEMODELNORMAL,12],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEMODELORIGINHI,11],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.INSTANCEMODELORIGINLO,15]])},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>t});var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");class t{constructor(e){this._material=e.material,this._techniqueRepository=e.techniqueRep,this._output=e.output}dispose(){this._techniqueRepository.release(this._technique)}get technique(){return this._technique}get _stippleTextureRepository(){return this._techniqueRepository.constructionContext.stippleTextureRepository}get _markerTextureRepository(){return this._techniqueRepository.constructionContext.markerTextureRepository}ensureTechnique(e,t){return this._technique=this._techniqueRepository.releaseAndAcquire(e,this._material.getConfiguration(this._output,t),this._technique),this._technique}ensureResources(t){return _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.Rw.LOADED}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>l,F:()=>r});var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"),_GLMaterial_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");class r extends _GLMaterial_js__WEBPACK_IMPORTED_MODULE_3__.Z{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textureRepository=t.textureRepository,this._textureId=t.textureId,this._acquire(t.textureId,(t=>this._texture=t)),this._acquire(t.normalTextureId,(t=>this._textureNormal=t)),this._acquire(t.emissiveTextureId,(t=>this._textureEmissive=t)),this._acquire(t.occlusionTextureId,(t=>this._textureOcclusion=t)),this._acquire(t.metallicRoughnessTextureId,(t=>this._textureMetallicRoughness=t))}dispose(){this._texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._texture),this._textureNormal=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._textureNormal),this._textureEmissive=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._textureEmissive),this._textureOcclusion=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._textureOcclusion),this._textureMetallicRoughness=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.Rw.LOADED:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.Rw.LOADING}get textureBindParameters(){return new l(null!=this._texture?this._texture.glTexture:null,null!=this._textureNormal?this._textureNormal.glTexture:null,null!=this._textureEmissive?this._textureEmissive.glTexture:null,null!=this._textureOcclusion?this._textureOcclusion.glTexture:null,null!=this._textureMetallicRoughness?this._textureMetallicRoughness.glTexture:null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(this._texture),this._textureId=e,this._acquire(this._textureId,(t=>this._texture=t)))}_acquire(s,i){if(null==s)return void i(null);const u=this._textureRepository.acquire(s);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.y8)(u))return++this._numLoading,void u.then((e=>{if(this._disposed)return(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.RY)(e),void i(null);i(e)})).finally((()=>--this._numLoading));i(u)}}class l extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.K{constructor(t=null,e=null,s=null,i=null,u=null){super(),this.texture=t,this.textureNormal=e,this.textureEmissive=s,this.textureOcclusion=i,this.textureMetallicRoughness=u}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F5:()=>c,Mt:()=>u,yD:()=>d});var d,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"),_ContentObject_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js"),_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js"),_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js"),_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");class c extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_6__.c{constructor(t,r){super(),this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_3__.U.Material,this.supportsEdges=!1,this._visible=!0,this._renderPriority=0,this._vertexAttributeLocations=_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.i,this._pp0=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(0,0,1),this._pp1=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(0,0,0),this._parameters=(0,_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__.Uf)(t,r),this.validateParameters(this._parameters)}get parameters(){return this._parameters}update(e){return!1}setParameters(e,t=!0){(0,_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__.LO)(this._parameters,e)&&(this.validateParameters(this._parameters),t&&this.parametersChanged())}validateParameters(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.parametersChanged())}shouldRender(e){return this.isVisible()&&this.isVisibleForOutput(e.output)&&(!this.parameters.isDecoration||e.bindParameters.decorations===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.Iq.ON)&&0!=(this.parameters.renderOccluded&e.renderOccludedMask)}isVisibleForOutput(e){return!0}get renderPriority(){return this._renderPriority}set renderPriority(e){e!==this._renderPriority&&(this._renderPriority=e,this.parametersChanged())}get vertexAttributeLocations(){return this._vertexAttributeLocations}isVisible(){return this._visible}parametersChanged(){this.repository?.materialChanged(this)}intersectDraped(e,t,r,s,i,a){return this._pp0[0]=this._pp1[0]=s[0],this._pp0[1]=this._pp1[1]=s[1],this.intersect(e,t,r,this._pp0,this._pp1,i)}}!function(e){e[e.None=0]="None",e[e.Occlude=1]="Occlude",e[e.Transparent=2]="Transparent",e[e.OccludeAndTransparent=4]="OccludeAndTransparent",e[e.OccludeAndTransparentStencil=8]="OccludeAndTransparentStencil",e[e.Opaque=16]="Opaque"}(d||(d={}));class u extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.K{constructor(){super(...arguments),this.renderOccluded=d.Occlude,this.isDecoration=!1}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bh:()=>l,E0:()=>_,IB:()=>s,K5:()=>E,j7:()=>A,je:()=>a,ve:()=>S,wu:()=>c});var _TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js"),_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js"),_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/renderState.js");const c=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__.wK)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE_MINUS_SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE_MINUS_SRC_ALPHA),N=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__.if)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE),s=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__.if)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ZERO,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.zi.ONE_MINUS_SRC_ALPHA);function A(r){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__.A.FrontFace?null:r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__.A.Alpha?s:N}function E(r){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__.A.FrontFace?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__.LZ:null}const S=5e5,_={factor:-1,units:-2};function a(n){return n?_:null}function l(r,e=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.LESS){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__.A.NONE||r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__.A.FrontFace?e:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.LEQUAL}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>r});var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/PooledArray.js"),_webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");class r{constructor(r,i,s){this._context=r,this._locations=s,this._textures=new Map,this._freeTextureUnits=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__.Z({deallocator:null}),this._glProgram=r.programCache.acquire(i.generate("vertex"),i.generate("fragment"),s),this._glProgram.stop=()=>{throw new Error("Wrapped _glProgram used directly")},this.bindPass=i.generateBindPass(this),this.bindDraw=i.generateBindDraw(this),this._fragmentUniforms=(0,_webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_1__.hZ)()?i.fragmentUniforms:null}dispose(){this._glProgram.dispose()}get glName(){return this._glProgram.glName}get compiled(){return this._glProgram.compiled}setUniform1b(t,e){this._glProgram.setUniform1i(t,e?1:0)}setUniform1i(t,e){this._glProgram.setUniform1i(t,e)}setUniform1f(t,e){this._glProgram.setUniform1f(t,e)}setUniform2fv(t,e){this._glProgram.setUniform2fv(t,e)}setUniform3fv(t,e){this._glProgram.setUniform3fv(t,e)}setUniform4fv(t,e){this._glProgram.setUniform4fv(t,e)}setUniformMatrix3fv(t,e){this._glProgram.setUniformMatrix3fv(t,e)}setUniformMatrix4fv(t,e){this._glProgram.setUniformMatrix4fv(t,e)}setUniform1fv(t,e){this._glProgram.setUniform1fv(t,e)}setUniform1iv(t,e){this._glProgram.setUniform1iv(t,e)}setUniform2iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform3iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform4iv(t,e){this._glProgram.setUniform4iv(t,e)}assertCompatibleVertexAttributeLocations(t){t.locations!==this._locations&&console.error("VertexAttributeLocations are incompatible")}stop(){this._textures.clear(),this._freeTextureUnits.clear()}bindTexture(t,e){if(null==e?.glName){const e=this._textures.get(t);return e&&(this._context.bindTexture(null,e.unit),this._freeTextureUnit(e),this._textures.delete(t)),null}let r=this._textures.get(t);return null==r?(r=this._allocTextureUnit(e),this._textures.set(t,r)):r.texture=e,this._context.useProgram(this),this.setUniform1i(t,r.unit),this._context.bindTexture(e,r.unit),r.unit}rebindTextures(){this._context.useProgram(this),this._textures.forEach(((t,e)=>{this._context.bindTexture(t.texture,t.unit),this.setUniform1i(e,t.unit)})),null!=this._fragmentUniforms&&this._fragmentUniforms.forEach((t=>{"sampler2D"!==t.type&&"samplerCube"!==t.type||this._textures.has(t.name)||console.error(`Texture sampler ${t.name} has no bound texture`)}))}_allocTextureUnit(t){return{texture:t,unit:0===this._freeTextureUnits.length?this._textures.size:this._freeTextureUnits.pop()}}_freeTextureUnit(t){this._freeTextureUnits.push(t.unit)}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var A;__webpack_require__.d(__webpack_exports__,{r:()=>A}),function(A){A[A.INTEGRATED_MESH=0]="INTEGRATED_MESH",A[A.OPAQUE_TERRAIN=1]="OPAQUE_TERRAIN",A[A.OPAQUE_MATERIAL=2]="OPAQUE_MATERIAL",A[A.TRANSPARENT_MATERIAL=3]="TRANSPARENT_MATERIAL",A[A.TRANSPARENT_TERRAIN=4]="TRANSPARENT_TERRAIN",A[A.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=5]="TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL",A[A.OCCLUDED_TERRAIN=6]="OCCLUDED_TERRAIN",A[A.OCCLUDER_MATERIAL=7]="OCCLUDER_MATERIAL",A[A.TRANSPARENT_OCCLUDER_MATERIAL=8]="TRANSPARENT_OCCLUDER_MATERIAL",A[A.OCCLUSION_PIXELS=9]="OCCLUSION_PIXELS",A[A.ANTIALIASING=10]="ANTIALIASING",A[A.COMPOSITE=11]="COMPOSITE",A[A.BLIT=12]="BLIT",A[A.SSAO=13]="SSAO",A[A.HIGHLIGHT=14]="HIGHLIGHT",A[A.SHADOW_HIGHLIGHT=15]="SHADOW_HIGHLIGHT",A[A.ENVIRONMENT_OPAQUE=16]="ENVIRONMENT_OPAQUE",A[A.ENVIRONMENT_TRANSPARENT=17]="ENVIRONMENT_TRANSPARENT",A[A.LASERLINES=18]="LASERLINES",A[A.LASERLINES_CONTRAST_CONTROL=19]="LASERLINES_CONTRAST_CONTROL",A[A.HUD_MATERIAL=20]="HUD_MATERIAL",A[A.LABEL_MATERIAL=21]="LABEL_MATERIAL",A[A.LINE_CALLOUTS=22]="LINE_CALLOUTS",A[A.LINE_CALLOUTS_HUD_DEPTH=23]="LINE_CALLOUTS_HUD_DEPTH",A[A.DRAPED_MATERIAL=24]="DRAPED_MATERIAL",A[A.DRAPED_WATER=25]="DRAPED_WATER",A[A.VOXEL=26]="VOXEL",A[A.MAX_SLOTS=27]="MAX_SLOTS"}(A||(A={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{JN:()=>i,P7:()=>l,RY:()=>f,YD:()=>m,eD:()=>o,ii:()=>P,s3:()=>e,zV:()=>s});var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"),_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js");const i={func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.LESS},s={func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.ALWAYS},e={mask:255},l={mask:0},f={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.ALWAYS,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.ZERO}},o={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.ALWAYS,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.REPLACE}},P={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.EQUAL,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP}},m={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.wb.NOTEQUAL,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.hU.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.xS.KEEP}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>N});__webpack_require__("./node_modules/@arcgis/core/core/has.js");var core_Error=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),Evented=__webpack_require__("./node_modules/@arcgis/core/core/Evented.js"),maybe=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),promiseUtils=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),typedArrayUtil=__webpack_require__("./node_modules/@arcgis/core/core/typedArrayUtil.js"),urlUtils=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),requestImageUtils=__webpack_require__("./node_modules/@arcgis/core/support/requestImageUtils.js"),requestUtils=__webpack_require__("./node_modules/@arcgis/core/support/requestUtils.js"),basicInterfaces=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"),assets=__webpack_require__("./node_modules/@arcgis/core/assets.js");let s;var TextureFormat_;!function(_){_[_.ETC1_RGB=0]="ETC1_RGB",_[_.ETC2_RGBA=1]="ETC2_RGBA",_[_.BC1_RGB=2]="BC1_RGB",_[_.BC3_RGBA=3]="BC3_RGBA",_[_.BC4_R=4]="BC4_R",_[_.BC5_RG=5]="BC5_RG",_[_.BC7_M6_RGB=6]="BC7_M6_RGB",_[_.BC7_M5_RGBA=7]="BC7_M5_RGBA",_[_.PVRTC1_4_RGB=8]="PVRTC1_4_RGB",_[_.PVRTC1_4_RGBA=9]="PVRTC1_4_RGBA",_[_.ASTC_4x4_RGBA=10]="ASTC_4x4_RGBA",_[_.ATC_RGB=11]="ATC_RGB",_[_.ATC_RGBA=12]="ATC_RGBA",_[_.FXT1_RGB=17]="FXT1_RGB",_[_.PVRTC2_4_RGB=18]="PVRTC2_4_RGB",_[_.PVRTC2_4_RGBA=19]="PVRTC2_4_RGBA",_[_.ETC2_EAC_R11=20]="ETC2_EAC_R11",_[_.ETC2_EAC_RG11=21]="ETC2_EAC_RG11",_[_.RGBA32=13]="RGBA32",_[_.RGB565=14]="RGB565",_[_.BGR565=15]="BGR565",_[_.RGBA4444=16]="RGBA4444"}(TextureFormat_||(TextureFormat_={}));var enums=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js"),Texture=__webpack_require__("./node_modules/@arcgis/core/views/webgl/Texture.js"),Util=__webpack_require__("./node_modules/@arcgis/core/views/webgl/Util.js");let l=null,o=null;async function g(){return null==o&&(o=function t(){if(null==s){const t=t=>(0,assets.V)(`esri/libs/basisu/${t}`);s=__webpack_require__.e(33886).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/chunks/basis_transcoder.js")).then((e=>e.b)).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return s}(),l=await o),o}function m(e,t,s,r,i){const l=(0,Util.RG)(t?enums.q_.COMPRESSED_RGBA8_ETC2_EAC:enums.q_.COMPRESSED_RGB8_ETC2),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(s*r*l*o)}function E(e){return e.getNumImages()>=1&&!e.isUASTC()}function T(e){return e.getFaces()>=1&&e.isETC1S()}function p(e,a,l,o,g,u,c,m){const{compressedTextureETC:E,compressedTextureS3TC:T}=e.capabilities,[h,_]=E?o?[TextureFormat_.ETC2_RGBA,enums.q_.COMPRESSED_RGBA8_ETC2_EAC]:[TextureFormat_.ETC1_RGB,enums.q_.COMPRESSED_RGB8_ETC2]:T?o?[TextureFormat_.BC3_RGBA,enums.q_.COMPRESSED_RGBA_S3TC_DXT5_EXT]:[TextureFormat_.BC1_RGB,enums.q_.COMPRESSED_RGB_S3TC_DXT1_EXT]:[TextureFormat_.RGBA32,enums.VI.RGBA],p=a.hasMipmap?l:Math.min(1,l),A=[];for(let t=0;t<p;t++)A.push(new Uint8Array(c(t,h))),m(t,h,A[t]);return a.internalFormat=_,a.hasMipmap=A.length>1,a.samplingMode=a.hasMipmap?enums.cw.LINEAR_MIPMAP_LINEAR:enums.cw.LINEAR,a.width=g,a.height=u,new Texture.x(e,a,{type:"compressed",levels:A})}var ContentObject=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js"),ContentObjectType=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");const DDSUtil_o=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js").Z.getLogger("esri.views.3d.webgl-engine.lib.DDSUtil"),a=542327876,i=131072,DDSUtil_l=4;function DDSUtil_s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}const DDSUtil_c=DDSUtil_s("DXT1"),DDSUtil_h=DDSUtil_s("DXT3"),DDSUtil_m=DDSUtil_s("DXT5"),d=31,DDSUtil_p=0,DDSUtil_g=1,D=2,C=3,f=4,w=7,DDSUtil_T=20,DDSUtil_=21;function S(e,t){const n=new Int32Array(e,0,d);if(n[DDSUtil_p]!==a)return DDSUtil_o.error("Invalid magic number in DDS header"),null;if(!(n[DDSUtil_T]&DDSUtil_l))return DDSUtil_o.error("Unsupported format, must contain a FourCC code"),null;const s=n[DDSUtil_];let E,S;switch(s){case DDSUtil_c:E=8,S=enums.q_.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case DDSUtil_h:E=16,S=enums.q_.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case DDSUtil_m:E=16,S=enums.q_.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return DDSUtil_o.error("Unsupported FourCC code:",function DDSUtil_u(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}(s)),null}let A=1,M=n[f],x=n[C];0==(3&M)&&0==(3&x)||(DDSUtil_o.warn("Rounding up compressed texture size to nearest multiple of 4."),M=M+3&-4,x=x+3&-4);const R=M,X=x;let b,I;n[D]&i&&!1!==t&&(A=Math.max(1,n[w]));let v=n[DDSUtil_g]+4;const F=[];for(let r=0;r<A;++r)I=(M+3>>2)*(x+3>>2)*E,b=new Uint8Array(e,v,I),F.push(b),v+=I,M=Math.max(1,M>>1),x=Math.max(1,x>>1);return{textureData:{type:"compressed",levels:F},internalFormat:S,width:R,height:X}}var V,textureUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js"),lib_Util=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js"),TextureDescriptor=__webpack_require__("./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");class N extends ContentObject.c{get parameters(){return this._parameters}constructor(e,r){super(),this._data=e,this.type=ContentObjectType.U.Texture,this._glTexture=null,this._loadingPromise=null,this._loadingController=null,this.events=new Evented.Z,this._parameters={...M,...r},this._startPreload(e)}dispose(){this.unload(),this._data=this.frameUpdate=void 0}_startPreload(e){null!=e&&(e instanceof HTMLVideoElement?(this.frameUpdate=t=>this._frameUpdate(e,t),this._startPreloadVideoElement(e)):e instanceof HTMLImageElement&&this._startPreloadImageElement(e))}_startPreloadVideoElement(e){if(!((0,urlUtils.jc)(e.src)||"auto"===e.preload&&e.crossOrigin)){e.preload="auto",e.crossOrigin="anonymous";const t=!e.paused;if(e.src=e.src,t&&e.autoplay){const t=()=>{e.removeEventListener("canplay",t),e.play()};e.addEventListener("canplay",t)}}}_startPreloadImageElement(e){(0,urlUtils.HK)(e.src)||(0,urlUtils.jc)(e.src)||e.crossOrigin||(e.crossOrigin="anonymous",e.src=e.src)}_createDescriptor(e){const t=new TextureDescriptor.X;return t.wrapMode=this._parameters.wrap??enums.e8.REPEAT,t.flipped=!this._parameters.noUnpackFlip,t.samplingMode=this._parameters.mipmap?enums.cw.LINEAR_MIPMAP_LINEAR:enums.cw.LINEAR,t.hasMipmap=!!this._parameters.mipmap,t.preMultiplyAlpha=!!this._parameters.preMultiplyAlpha,t.maxAnisotropy=this._parameters.maxAnisotropy??(this._parameters.mipmap?e.parameters.maxMaxAnisotropy:1),t}get glTexture(){return this._glTexture}get memoryEstimate(){return this._glTexture?.gpuMemoryUsage||function Texture_C(e,t){if(null==e)return 0;if((0,typedArrayUtil.eP)(e)||(0,typedArrayUtil.lq)(e))return t.encoding===basicInterfaces.Ti.KTX2_ENCODING?function c(e,t){if(null==l)return e.byteLength;const n=new l.KTX2File(new Uint8Array(e)),s=T(n)?m(n.getLevels(),n.getHasAlpha(),n.getWidth(),n.getHeight(),t):0;return n.close(),n.delete(),s}(e,!!t.mipmap):t.encoding===basicInterfaces.Ti.BASIS_ENCODING?function u(e,t){if(null==l)return e.byteLength;const n=new l.BasisFile(new Uint8Array(e)),s=E(n)?m(n.getNumLevels(0),n.getHasAlpha(),n.getImageWidth(0,0),n.getImageHeight(0,0),t):0;return n.close(),n.delete(),s}(e,!!t.mipmap):e.byteLength;const{width:r,height:s}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?R(e):t;return(t.mipmap?4/3:1)*r*s*(t.components||4)||0}(this._data,this._parameters)}load(e){if(this._glTexture)return this._glTexture;if(this._loadingPromise)return this._loadingPromise;const t=this._data;return null==t?(this._glTexture=new Texture.x(e,this._createDescriptor(e),null),this._glTexture):(this._parameters.reloadable||(this._data=void 0),"string"==typeof t?this._loadFromURL(e,t):t instanceof Image?this._loadFromImageElement(e,t):t instanceof HTMLVideoElement?this._loadFromVideoElement(e,t):t instanceof ImageData||t instanceof HTMLCanvasElement?this._loadFromImage(e,t):((0,typedArrayUtil.eP)(t)||(0,typedArrayUtil.lq)(t))&&this._parameters.encoding===basicInterfaces.Ti.DDS_ENCODING?this._loadFromDDSData(e,t):((0,typedArrayUtil.eP)(t)||(0,typedArrayUtil.lq)(t))&&this._parameters.encoding===basicInterfaces.Ti.KTX2_ENCODING?this._loadFromKTX2(e,t):((0,typedArrayUtil.eP)(t)||(0,typedArrayUtil.lq)(t))&&this._parameters.encoding===basicInterfaces.Ti.BASIS_ENCODING?this._loadFromBasis(e,t):(0,typedArrayUtil.lq)(t)?this._loadFromPixelData(e,t):(0,typedArrayUtil.eP)(t)?this._loadFromPixelData(e,new Uint8Array(t)):null)}_frameUpdate(e,t){return null==this._glTexture||e.readyState<V.HAVE_CURRENT_DATA||t===e.currentTime?t:(this._glTexture.setData(e),this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this._parameters.updateCallback&&this._parameters.updateCallback(),e.currentTime)}_loadFromDDSData(e,t){return this._glTexture=function DDSUtil_E(e,r,o){const a=S(o,r.hasMipmap??!1);if(null==a)throw new Error("DDS texture data is null");const{textureData:i,internalFormat:l,width:s,height:u}=a;return r.samplingMode=i.levels.length>1?enums.cw.LINEAR_MIPMAP_LINEAR:enums.cw.LINEAR,r.hasMipmap=i.levels.length>1,r.internalFormat=l,r.width=s,r.height=u,new Texture.x(e,r,i)}(e,this._createDescriptor(e),t),this._glTexture}_loadFromKTX2(e,t){return this._loadAsync((()=>async function _(e,t,n){null==l&&(l=await g());const s=new l.KTX2File(new Uint8Array(n));if(!T(s))return null;s.startTranscoding();const r=p(e,t,s.getLevels(),s.getHasAlpha(),s.getWidth(),s.getHeight(),((e,t)=>s.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>s.transcodeImage(n,e,0,0,t,0,-1,-1)));return s.close(),s.delete(),r}(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromBasis(e,t){return this._loadAsync((()=>async function h(e,t,n){null==l&&(l=await g());const s=new l.BasisFile(new Uint8Array(n));if(!E(s))return null;s.startTranscoding();const r=p(e,t,s.getNumLevels(0),s.getHasAlpha(),s.getImageWidth(0,0),s.getImageHeight(0,0),((e,t)=>s.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>s.transcodeImage(n,0,e,t,0,0)));return s.close(),s.delete(),r}(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromPixelData(e,t){(0,lib_Util.hu)(this._parameters.width>0&&this._parameters.height>0);const r=this._createDescriptor(e);return r.pixelFormat=1===this._parameters.components?enums.VI.LUMINANCE:3===this._parameters.components?enums.VI.RGB:enums.VI.RGBA,r.width=this._parameters.width??0,r.height=this._parameters.height??0,this._glTexture=new Texture.x(e,r,t),this._glTexture}_loadFromURL(e,t){return this._loadAsync((async r=>{const s=await(0,requestImageUtils.t)(t,{signal:r});return(0,promiseUtils.k_)(r),this._loadFromImage(e,s)}))}_loadFromImageElement(e,t){return t.complete?this._loadFromImage(e,t):this._loadAsync((async r=>{const s=await(0,requestUtils.fY)(t,t.src,!1,r);return(0,promiseUtils.k_)(r),this._loadFromImage(e,s)}))}_loadFromVideoElement(e,t){return t.readyState>=V.HAVE_CURRENT_DATA?this._loadFromImage(e,t):this._loadFromVideoElementAsync(e,t)}_loadFromVideoElementAsync(t,r){return this._loadAsync((a=>new Promise(((n,l)=>{const m=()=>{r.removeEventListener("loadeddata",h),r.removeEventListener("error",_),(0,maybe.hw)(p)},h=()=>{r.readyState>=V.HAVE_CURRENT_DATA&&(m(),n(this._loadFromImage(t,r)))},_=t=>{m(),l(t||new core_Error.Z("Failed to load video"))};r.addEventListener("loadeddata",h),r.addEventListener("error",_);const p=(0,promiseUtils.fu)(a,(()=>_((0,promiseUtils.zE)())))}))))}_loadFromImage(e,t){let r=t;if(!(r instanceof HTMLVideoElement)){const{maxTextureSize:t}=e.parameters;r=this._parameters.downsampleUncompressed?(0,textureUtils.n9)(r,t):(0,textureUtils.qB)(r,t)}const s=R(r);this._parameters.width=s.width,this._parameters.height=s.height;const a=this._createDescriptor(e);return a.pixelFormat=3===this._parameters.components?enums.VI.RGB:enums.VI.RGBA,a.width=s.width,a.height=s.height,this._glTexture=new Texture.x(e,a,r),this._glTexture}_loadAsync(e){const t=new AbortController;this._loadingController=t;const r=e(t.signal);this._loadingPromise=r;const s=()=>{this._loadingController===t&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null)};return r.then(s,s),r}unload(){if(this._glTexture=(0,maybe.M2)(this._glTexture),null!=this._loadingController){const e=this._loadingController;this._loadingController=null,this._loadingPromise=null,e.abort()}this.events.emit("unloaded")}}function R(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(V||(V={}));const M={wrap:{s:enums.e8.REPEAT,t:enums.e8.REPEAT},mipmap:!0,noUnpackFlip:!1,preMultiplyAlpha:!1,downsampleUncompressed:!1}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var o;__webpack_require__.d(__webpack_exports__,{A:()=>o}),function(o){o[o.Color=0]="Color",o[o.Alpha=1]="Alpha",o[o.FrontFace=2]="FrontFace",o[o.NONE=3]="NONE",o[o.COUNT=4]="COUNT"}(o||(o={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PV:()=>u,TU:()=>f,bA:()=>m,sX:()=>s});var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js");__webpack_require__("./node_modules/@arcgis/core/views/ViewingMode.js");function l(e,t,a){const r=a.parameters;return F.scale=Math.min(r.divisor/(t-r.offset),1),F.factor=function c(e){return Math.abs(e*e*e)}(e),F}function s(t,a){return(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.t7)(t*Math.max(a.scale,a.minScaleFactor),t,a.factor)}function u(e,t,a,r){r.scale=function o(e,t,a){const r=l(e,t,a);return r.minScaleFactor=0,s(1,r)}(e,t,a),r.factor=0,r.minScaleFactor=a.minScaleFactor}function f(e,t,a=[0,0]){const r=Math.min(Math.max(t.scale,t.minScaleFactor),1);return a[0]=e[0]*r,a[1]=e[1]*r,a}function m(e,t,a,r){return s(e,l(t,a,r))}(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.Vl)(10),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.Vl)(12),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.Vl)(70),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.Vl)(40);const F={scale:0,factor:0,minScaleFactor:0}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n9:()=>i,nq:()=>n,qB:()=>h});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js");const e=16;function n(t){return Math.ceil(t/e)*e}function i(t,e){let o=t.width*t.height;if(o<4096)return t instanceof ImageData?a(t):t;let c=t.width,u=t.height;do{c=Math.ceil(c/2),u=Math.ceil(u/2),o=c*u}while(o>1048576||null!=e&&(c>e||u>e));return r(t,c,u)}function h(t,e){const n=Math.max(t.width,t.height);if(n<=e)return t;const i=e/n;return r(t,Math.round(t.width*i),Math.round(t.height*i))}function r(t,e,n){if(t instanceof ImageData)return r(a(t),e,n);const i=document.createElement("canvas");return i.width=e,i.height=n,i.getContext("2d").drawImage(t,0,0,i.width,i.height),i}function a(e){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.Z("Failed to create 2d context from HTMLCanvasElement");return i.putImageData(e,0,0),n}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W9:()=>I,yn:()=>y});var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/sphere.js"),_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/ViewingMode.js"),_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");class y{constructor(){this._transform=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),this._transformInverse=new x({value:this._transform},_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.i,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformInverseTranspose=new x(this._transformInverse,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.t,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformTranspose=new x({value:this._transform},_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.t,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformInverseRotation=new x({value:this._transform},_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.e,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.h)(this._transform,t)}multiplyTransform(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.m)(this._transform,this._transform,t)}set(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.h)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this._invalidateLazyTransforms()}}class x{constructor(t,s,r){this._original=t,this._update=s,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const j=new class L{constructor(t=0){this.offset=t,this.sphere=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()}applyToVertex(t,s,r){const e=this.objectTransform.transform,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.e)(o,o,e),n=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(i);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(i,i,i,n);const f=this.objectTransform.inverse;return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.tmpVertex,i,f),this.tmpVertex}applyToMinMax(t,s){const r=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,t,t,r);const e=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(s);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(s,s,s,e)}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t),r=this.offset/s;return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this.sphere,t,t,r),this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}};function I(t){return null!=t?(j.offset=t,j):null}new class V{constructor(t=0){this.componentLocalOriginLength=0,this._tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),this._mbs=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this._obb=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.Ue)(),this._totalOffset=0,this._offset=0,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t)}applyToVertex(t,s,r){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(q,t,s,r+this.componentLocalOriginLength),i=this._totalOffset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(o);return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this._tmpVertex,e,o,i),this._tmpVertex}applyToAabb(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t[0],t[1],t[2]+this.componentLocalOriginLength),r=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(q,t[3],t[4],t[5]+this.componentLocalOriginLength),e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.z)(B,s),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.z)(D,r),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(G,s),n=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(S,r),f=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.x)(C,i,n);f[0]=e[0]*o[0]<0?0:f[0],f[1]=e[1]*o[1]<0?0:f[1],f[2]=e[2]*o[2]<0?0:f[2];const l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(f);if(l<this._totalOffset)return t[0]-=s[0]<0?this._totalOffset:0,t[1]-=s[1]<0?this._totalOffset:0,t[2]-=s[2]<0?this._totalOffset:0,t[3]+=r[0]>0?this._totalOffset:0,t[4]+=r[1]>0?this._totalOffset:0,t[5]+=r[2]>0?this._totalOffset:0,t;const u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.D)(C,i,n),v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(u),O=this._totalOffset/v,g=this._totalOffset/l;return t[0]+=s[0]*(s[0]>0?O:g),t[1]+=s[1]*(s[1]>0?O:g),t[2]+=s[2]*(s[2]>0?O:g),t[3]+=r[0]*(r[0]<0?O:g),t[4]+=r[1]*(r[1]<0?O:g),t[5]+=r[2]*(r[2]<0?O:g),t}applyToMbs(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t),r=this._totalOffset/s;return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this._mbs,t,t,r),this._mbs[3]=t[3]+t[3]*this._totalOffset/s,this._mbs}applyToObb(t){return(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.gI)(t,this._totalOffset,this._totalOffset,_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__.JY.Global,this._obb),this._obb}};new class d{constructor(t=0){this.offset=t,this.tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()}applyToVertex(t,s,r){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(q,e,this.localOrigin),i=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(o);return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this.tmpVertex,e,o,i),this.tmpVertex}applyToAabb(t){const s=B,r=D,e=G;for(let a=0;a<3;++a)s[a]=t[0+a]+this.localOrigin[a],r[a]=t[3+a]+this.localOrigin[a],e[a]=s[a];const o=this.applyToVertex(s[0],s[1],s[2]);for(let a=0;a<3;++a)t[a]=o[a],t[a+3]=o[a];const i=s=>{const r=this.applyToVertex(s[0],s[1],s[2]);for(let e=0;e<3;++e)t[e]=Math.min(t[e],r[e]),t[e+3]=Math.max(t[e+3],r[e])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)e[t]=0==(a&1<<t)?s[t]:r[t];i(e)}let n=0;for(let a=0;a<3;++a)s[a]*r[a]<0&&(n|=1<<a);if(0!==n&&7!==n)for(let a=0;a<8;++a)if(0==(n&a)){for(let t=0;t<3;++t)e[t]=0!=(n&1<<t)?0:0!=(a&1<<t)?s[t]:r[t];i(e)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}};const R=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),q=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),D=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),G=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),S=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AM:()=>c,Eg:()=>n,Mi:()=>i,Ur:()=>r});var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js");class i{constructor(s=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)()){this.intensity=s}}class c{constructor(i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),c=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.57735,.57735,.57735)){this.intensity=i,this.direction=c}}class n{constructor(i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),c=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.57735,.57735,.57735),n=!0,r=1,h=1){this.intensity=i,this.direction=c,this.castShadows=n,this.specularStrength=r,this.environmentStrength=h}}class r{constructor(){this.r=[0],this.g=[0],this.b=[0]}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>_,V:()=>SceneLighting_l});var mathUtils=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),vec3=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),vec3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),Lightsources=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js");function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function LongVectorMath_e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function LongVectorMath_l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}function u(t){return(t+1)*(t+1)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=function l(n){return(0,mathUtils.uZ)(Math.floor(Math.sqrt(n)-1),0,2)}(o.r.length);for(const e of t)(0,vec3.E)(P,e.direction),m(P,r,v),n(v,k),LongVectorMath_e(v,e.intensity[0],I),LongVectorMath_l(o.r,I),LongVectorMath_e(v,e.intensity[1],I),LongVectorMath_l(o.g,I),LongVectorMath_e(v,e.intensity[2],I),LongVectorMath_l(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}const S=[],d=[],j=[],v=[0],I=[0],P=(0,vec3f64.c)(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];class g{constructor(){this.color=(0,vec3f64.c)(),this.intensity=1}}class SceneLighting_m{constructor(){this.direction=(0,vec3f64.c)(),this.ambient=new g,this.diffuse=new g}}const SceneLighting_l=.4;class _{constructor(){this._shOrder=2,this._legacy=new SceneLighting_m,this.globalFactor=.5,this.noonFactor=.5,this._sphericalHarmonics=new Lightsources.Ur,this._mainLight=new Lightsources.Eg((0,vec3f64.c)(),(0,vec3f64.f)(1,0,0),!1)}get legacy(){return this._legacy}get sh(){return this._sphericalHarmonics}get mainLight(){return this._mainLight}set(i){(function M(t,n,e,s){p(n,s),(0,vec3.s)(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof Lightsources.Eg&&!i?((0,vec3.c)(e.direction,o.direction),(0,vec3.c)(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof Lightsources.Eg||o instanceof Lightsources.AM?u.push(o):o instanceof Lightsources.Mi?l.push(o):o instanceof Lightsources.Ur&&m.push(o);y(u,s),b(l,s);for(const o of m)LongVectorMath_l(s.r,o.r),LongVectorMath_l(s.g,o.g),LongVectorMath_l(s.b,o.b)})(i,this._shOrder,this._mainLight,this._sphericalHarmonics),(0,vec3.c)(this._legacy.direction,this._mainLight.direction);const r=1/Math.PI;this._legacy.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*r,this._legacy.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*r,this._legacy.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*r,(0,vec3.i)(this._legacy.diffuse.color,this._mainLight.intensity,r),(0,vec3.c)(SceneLighting_p,this._legacy.diffuse.color),(0,vec3.i)(SceneLighting_p,SceneLighting_p,SceneLighting_l*this.globalFactor),(0,vec3.g)(this._legacy.ambient.color,this._legacy.ambient.color,SceneLighting_p)}copyFrom(i){this._sphericalHarmonics.r=Array.from(i.sh.r),this._sphericalHarmonics.g=Array.from(i.sh.g),this._sphericalHarmonics.b=Array.from(i.sh.b),(0,vec3.c)(this._mainLight.direction,i.mainLight.direction),(0,vec3.c)(this._mainLight.intensity,i.mainLight.intensity),this._mainLight.castShadows=i.mainLight.castShadows,this._mainLight.specularStrength=i.mainLight.specularStrength,this._mainLight.environmentStrength=i.mainLight.environmentStrength,this.globalFactor=i.globalFactor,this.noonFactor=i.noonFactor}lerpLighting(s,h,n){if((0,vec3.p)(this._mainLight.intensity,s.mainLight.intensity,h.mainLight.intensity,n),this._mainLight.environmentStrength=(0,mathUtils.t7)(s.mainLight.environmentStrength,h.mainLight.environmentStrength,n),this._mainLight.specularStrength=(0,mathUtils.t7)(s.mainLight.specularStrength,h.mainLight.specularStrength,n),(0,vec3.c)(this._mainLight.direction,h.mainLight.direction),this._mainLight.castShadows=h.mainLight.castShadows,this.globalFactor=(0,mathUtils.t7)(s.globalFactor,h.globalFactor,n),this.noonFactor=(0,mathUtils.t7)(s.noonFactor,h.noonFactor,n),s.sh.r.length===h.sh.r.length)for(let t=0;t<h.sh.r.length;t++)this._sphericalHarmonics.r[t]=(0,mathUtils.t7)(s.sh.r[t],h.sh.r[t],n),this._sphericalHarmonics.g[t]=(0,mathUtils.t7)(s.sh.g[t],h.sh.g[t],n),this._sphericalHarmonics.b[t]=(0,mathUtils.t7)(s.sh.b[t],h.sh.b[t],n);else for(let i=0;i<h.sh.r.length;i++)this._sphericalHarmonics.r[i]=h.sh.r[i],this._sphericalHarmonics.g[i]=h.sh.g[i],this._sphericalHarmonics.b[i]=h.sh.b[i]}}const SceneLighting_p=(0,vec3f64.c)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>r});var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js"),_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");class r{constructor(t){this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.T.POSITION).indices.length}write(t,r,i,o,s){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_1__.NK)(i,this.vertexBufferLayout,t,r,o,s)}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>t});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js"),_core_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js"),_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");class t extends _core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_1__.PO{}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.o)({constValue:!0})],t.prototype,"hasSliceHighlight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.o)({constValue:!1})],t.prototype,"hasSliceInVertexProgram",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.o)({constValue:_core_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__.P.Pass})],t.prototype,"pbrTextureBindType",void 0)},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>t,x:()=>e});var _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js"),_lib_Material_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");class t extends _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_0__.Ve{constructor(){super(...arguments),this.renderOccluded=_lib_Material_js__WEBPACK_IMPORTED_MODULE_1__.yD.Occlude,this.isDecoration=!1}}const e=8},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bw:()=>h,CN:()=>M,FZ:()=>E,Hx:()=>L,LO:()=>O,Tw:()=>I,Uf:()=>N});var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js"),_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js"),_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js"),_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");const p=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.Ue)();function h(t,n,e,o,i,r){if(t.visible)if(t.boundingInfo){(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__.hu)(t.type===_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__.U.Mesh);const s=n.tolerance;d(t.boundingInfo,e,o,s,i,r)}else{const n=t.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.T.POSITION),s=n.indices;M(e,o,0,s.length/3,s,n,void 0,i,r)}}const b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function d(t,n,e,o,i,r){if(null==t)return;const s=function T(t,n,o){return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(o,1/(n[0]-t[0]),1/(n[1]-t[1]),1/(n[2]-t[2]))}(n,e,b);if((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.op)(p,t.bbMin),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.Tn)(p,t.bbMax),null!=i&&i.applyToAabb(p),I(p,n,s,o)){const{primitiveIndices:s,position:c}=t,l=s?s.length:c.indices.length/3;if(l>P){const s=t.getChildren();if(void 0!==s){for(const t of s)d(t,n,e,o,i,r);return}}M(n,e,0,l,c.indices,c,s,i,r)}}const x=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function M(t,n,e,o,i,r,s,c,l){if(s)return function g(t,n,e,o,i,r,s,c,l){const{data:f,stride:u}=r,a=t[0],m=t[1],p=t[2],h=n[0]-a,b=n[1]-m,d=n[2]-p;for(let M=e;M<o;++M){const t=s[M];let n=3*t,e=u*i[n++],o=f[e++],r=f[e++],g=f[e];e=u*i[n++];let y=f[e++],j=f[e++],T=f[e];e=u*i[n];let I=f[e++],V=f[e++],L=f[e];null!=c&&([o,r,g]=c.applyToVertex(o,r,g,M),[y,j,T]=c.applyToVertex(y,j,T,M),[I,V,L]=c.applyToVertex(I,V,L,M));const N=y-o,O=j-r,A=T-g,E=I-o,P=V-r,S=L-g,U=b*S-P*d,W=d*E-S*h,k=h*P-E*b,B=N*U+O*W+A*k;if(Math.abs(B)<=Number.EPSILON)continue;const C=a-o,z=m-r,H=p-g,R=C*U+z*W+H*k;if(B>0){if(R<0||R>B)continue}else if(R>0||R<B)continue;const Y=z*A-O*H,q=H*N-A*C,w=C*O-N*z,D=h*Y+b*q+d*w;if(B>0){if(D<0||R+D>B)continue}else if(D>0||R+D<B)continue;const F=(E*Y+P*q+S*w)/B;F>=0&&l(F,v(N,O,A,E,P,S,x),t,!1)}}(t,n,e,o,i,r,s,c,l);const{data:f,stride:u}=r,a=t[0],m=t[1],p=t[2],h=n[0]-a,b=n[1]-m,d=n[2]-p;for(let M=e,g=3*e;M<o;++M){let t=u*i[g++],n=f[t++],e=f[t++],o=f[t];t=u*i[g++];let r=f[t++],s=f[t++],y=f[t];t=u*i[g++];let j=f[t++],T=f[t++],I=f[t];null!=c&&([n,e,o]=c.applyToVertex(n,e,o,M),[r,s,y]=c.applyToVertex(r,s,y,M),[j,T,I]=c.applyToVertex(j,T,I,M));const V=r-n,L=s-e,N=y-o,O=j-n,A=T-e,E=I-o,P=b*E-A*d,S=d*O-E*h,U=h*A-O*b,W=V*P+L*S+N*U;if(Math.abs(W)<=Number.EPSILON)continue;const k=a-n,B=m-e,C=p-o,z=k*P+B*S+C*U;if(W>0){if(z<0||z>W)continue}else if(z>0||z<W)continue;const H=B*N-L*C,R=C*V-N*k,Y=k*L-V*B,q=h*H+b*R+d*Y;if(W>0){if(q<0||z+q>W)continue}else if(q>0||z+q<W)continue;const w=(O*H+A*R+E*Y)/W;w>=0&&l(w,v(V,L,N,O,A,E,x),M,!1)}}const y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),j=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function v(t,n,r,s,c,l,f){return(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(y,t,n,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(j,s,c,l),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(f,y,j),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(f,f),f}function I(t,n,e,o){return function V(t,n,e,o,i){const r=(t[0]-o-n[0])*e[0],s=(t[3]+o-n[0])*e[0];let c=Math.min(r,s),l=Math.max(r,s);const f=(t[1]-o-n[1])*e[1],u=(t[4]+o-n[1])*e[1];if(l=Math.min(l,Math.max(f,u)),l<0)return!1;if(c=Math.max(c,Math.min(f,u)),c>l)return!1;const a=(t[2]-o-n[2])*e[2],m=(t[5]+o-n[2])*e[2];return l=Math.min(l,Math.max(a,m)),!(l<0)&&(c=Math.max(c,Math.min(a,m)),!(c>l)&&c<i)}(t,n,e,o,1/0)}function L(t,e,o,i,r){let s=(o.screenLength||0)*t.pixelRatio;null!=r&&(s=(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.bA)(s,i,e,r));const c=s*Math.tan(.5*t.fovY)/(.5*t.fullHeight);return(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(c*e,o.minWorldLength||0,null!=o.maxWorldLength?o.maxWorldLength:1/0)}function N(t,n){const e=n?N(n):{};for(const o in t){let n=t[o];n?.forEach&&(n=A(n)),null==n&&o in e||(e[o]=n)}return e}function O(n,e){let o=!1;for(const i in e){const r=e[i];void 0!==r&&(Array.isArray(r)?null===n[i]?(n[i]=r.slice(),o=!0):(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.Vx)(n[i],r)&&(o=!0):n[i]!==r&&(o=!0,n[i]=r))}return o}function A(t){const n=[];return t.forEach((t=>n.push(t))),n}const E={multiply:1,ignore:2,replace:3,tint:4},P=1e3},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NK:()=>E,SW:()=>p,Vs:()=>S,XW:()=>d,h:()=>y,ho:()=>b,i9:()=>A,s5:()=>O,xP:()=>R});var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js"),_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");function d(e,t,f,o=1){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===o)for(let l=0;l<c;++l)s[f]=r[i[l]],f+=n;else for(let l=0;l<c;++l){const e=r[i[l]];for(let t=0;t<o;t++)s[f]=e,f+=n}}function u(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length;f*=s;for(let c=0;c<n;++c){const e=2*r[c];i[f]=o[e],i[f+1]=o[e+1],f+=s}}function a(e,t,f,o){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,null==o||1===o)for(let l=0;l<c;++l){const e=3*i[l];s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],f+=n}else for(let l=0;l<c;++l){const e=3*i[l];for(let t=0;t<o;++t)s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],f+=n}}function p(e,t,f,o=1){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===o)for(let l=0;l<c;++l){const e=4*i[l];s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],s[f+3]=r[e+3],f+=n}else for(let l=0;l<c;++l){const e=4*i[l];for(let t=0;t<o;++t)s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],s[f+3]=r[e+3],f+=n}}function y(e,t,f){const o=e.typedBuffer,r=e.typedBufferStride;t*=r;for(let i=0;i<f;++i)o[t]=0,o[t+1]=0,o[t+2]=0,o[t+3]=0,t+=r}function b(t,f,o,r,i=1){if(!f)return void a(t,o,r,i);const{data:s,indices:n}=t,c=o.typedBuffer,l=o.typedBufferStride,d=n.length,u=f[0],p=f[1],y=f[2],B=f[4],g=f[5],b=f[6],O=f[8],h=f[9],S=f[10],N=f[12],R=f[13],E=f[14];r*=l;let A=0,L=0,z=0;const F=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(f)?e=>{A=s[e]+N,L=s[e+1]+R,z=s[e+2]+E}:e=>{const t=s[e],f=s[e+1],o=s[e+2];A=u*t+B*f+O*o+N,L=p*t+g*f+h*o+R,z=y*t+b*f+S*o+E};if(1===i)for(let e=0;e<d;++e)F(3*n[e]),c[r]=A,c[r+1]=L,c[r+2]=z,r+=l;else for(let e=0;e<d;++e){F(3*n[e]);for(let e=0;e<i;++e)c[r]=A,c[r+1]=L,c[r+2]=z,r+=l}}function O(f,o,r,i,s=1){if(!o)return void a(f,r,i,s);const{data:n,indices:c}=f,l=o,d=r.typedBuffer,u=r.typedBufferStride,p=c.length,y=l[0],B=l[1],g=l[2],b=l[4],O=l[5],h=l[6],S=l[8],N=l[9],R=l[10],E=!(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.z)(l),A=1e-6,L=1-A;i*=u;let z=0,F=0,I=0;const T=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(l)?e=>{z=n[e],F=n[e+1],I=n[e+2]}:e=>{const t=n[e],f=n[e+1],o=n[e+2];z=y*t+b*f+S*o,F=B*t+O*f+N*o,I=g*t+h*f+R*o};if(1===s)if(E)for(let e=0;e<p;++e){T(3*c[e]);const t=z*z+F*F+I*I;if(t<L&&t>A){const e=1/Math.sqrt(t);d[i]=z*e,d[i+1]=F*e,d[i+2]=I*e}else d[i]=z,d[i+1]=F,d[i+2]=I;i+=u}else for(let e=0;e<p;++e)T(3*c[e]),d[i]=z,d[i+1]=F,d[i+2]=I,i+=u;else for(let e=0;e<p;++e){if(T(3*c[e]),E){const e=z*z+F*F+I*I;if(e<L&&e>A){const t=1/Math.sqrt(e);z*=t,F*=t,I*=t}}for(let e=0;e<s;++e)d[i]=z,d[i+1]=F,d[i+2]=I,i+=u}}function S(e,t,f,o,r=1){const{data:i,indices:s}=e,n=f.typedBuffer,c=f.typedBufferStride,l=s.length;if(o*=c,t!==i.length||4!==t)if(1!==r)if(4!==t)for(let d=0;d<l;++d){const e=3*s[d];for(let t=0;t<r;++t)n[o]=i[e],n[o+1]=i[e+1],n[o+2]=i[e+2],n[o+3]=255,o+=c}else for(let d=0;d<l;++d){const e=4*s[d];for(let t=0;t<r;++t)n[o]=i[e],n[o+1]=i[e+1],n[o+2]=i[e+2],n[o+3]=i[e+3],o+=c}else{if(4===t){for(let e=0;e<l;++e){const t=4*s[e];n[o]=i[t],n[o+1]=i[t+1],n[o+2]=i[t+2],n[o+3]=i[t+3],o+=c}return}for(let e=0;e<l;++e){const t=3*s[e];n[o]=i[t],n[o+1]=i[t+1],n[o+2]=i[t+2],n[o+3]=255,o+=c}}else{n[o]=i[0],n[o+1]=i[1],n[o+2]=i[2],n[o+3]=i[3];const e=new Uint32Array(f.typedBuffer.buffer,f.start),t=c/4,s=e[o/=4];o+=t;const d=l*r;for(let f=1;f<d;++f)e[o]=s,o+=t}}function R(e,t,f,o,r=1){const i=t.typedBuffer,s=t.typedBufferStride;if(o*=s,1===r)for(let n=0;n<f;++n)i[o]=e[0],i[o+1]=e[1],i[o+2]=e[2],i[o+3]=e[3],o+=s;else for(let n=0;n<f;++n)for(let t=0;t<r;++t)i[o]=e[0],i[o+1]=e[1],i[o+2]=e[2],i[o+3]=e[3],o+=s}function E(e,t,o,r,i,s){for(const n of t.fields.keys()){const t=e.attributes.get(n),c=t?.indices;if(t&&c)A(n,t,o,r,i,s);else if(n===_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.OBJECTANDLAYERIDCOLOR&&null!=e.objectAndLayerIdColor){const t=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.POSITION)?.indices;if(t){const o=t.length,r=i.getField(n,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.mc);R(e.objectAndLayerIdColor,r,o,s)}}}}function A(e,t,d,a,y,B){switch(e){case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.POSITION:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(3===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.ct);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&b(t,d,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.NORMAL:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(3===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.ct);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&O(t,a,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.NORMALCOMPRESSED:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(2===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.or);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&u(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.UV0:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(2===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.Eu);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&u(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.COLOR:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.SYMBOLCOLOR:{const o=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.mc);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!o,`No buffer view for ${e}`),(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(3===t.size||4===t.size),!o||3!==t.size&&4!==t.size||S(t,t.size,o,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.COLORFEATUREATTRIBUTE:{const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.ly);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(1===t.size),f&&1===t.size&&function N(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length,c=o[0];f*=s;for(let l=0;l<n;++l)i[f]=c,f+=s}(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.TANGENT:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(4===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.ek);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&function h(e,f,o,r,i=1){if(!f)return void p(e,o,r,i);const{data:s,indices:n}=e,c=f,l=o.typedBuffer,d=o.typedBufferStride,u=n.length,a=c[0],y=c[1],B=c[2],g=c[4],b=c[5],O=c[6],h=c[8],S=c[9],N=c[10],R=!(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.z)(c),E=1e-6,A=1-E;if(r*=d,1===i)for(let t=0;t<u;++t){const e=4*n[t],f=s[e],o=s[e+1],i=s[e+2],c=s[e+3];let u=a*f+g*o+h*i,p=y*f+b*o+S*i,L=B*f+O*o+N*i;if(R){const e=u*u+p*p+L*L;if(e<A&&e>E){const t=1/Math.sqrt(e);u*=t,p*=t,L*=t}}l[r]=u,l[r+1]=p,l[r+2]=L,l[r+3]=c,r+=d}else for(let t=0;t<u;++t){const e=4*n[t],f=s[e],o=s[e+1],c=s[e+2],u=s[e+3];let p=a*f+g*o+h*c,L=y*f+b*o+S*c,z=B*f+O*o+N*c;if(R){const e=p*p+L*L+z*z;if(e<A&&e>E){const t=1/Math.sqrt(e);p*=t,L*=t,z*=t}}for(let t=0;t<i;++t)l[r]=p,l[r+1]=L,l[r+2]=z,l[r+3]=u,r+=d}}(t,a,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.PROFILERIGHT:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.PROFILEUP:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.PROFILEVERTEXANDNORMAL:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.T.FEATUREVALUE:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(4===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.ek);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__.hu)(!!f,`No buffer view for ${e}`),f&&p(t,f,B)}}}},"./node_modules/@arcgis/core/views/webgl/renderState.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BK:()=>_,LZ:()=>o,if:()=>s,jp:()=>G,sg:()=>a,sm:()=>S,wK:()=>l,zp:()=>h});var _3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"),_enums_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js");function s(t,e,i=_enums_js__WEBPACK_IMPORTED_MODULE_1__.db.ADD,s=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:s[0],g:s[1],b:s[2],a:s[3]}}}function l(t,e,i,s,l=_enums_js__WEBPACK_IMPORTED_MODULE_1__.db.ADD,r=_enums_js__WEBPACK_IMPORTED_MODULE_1__.db.ADD,a=[0,0,0,0]){return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:s,opRgb:l,opAlpha:r,color:{r:a[0],g:a[1],b:a[2],a:a[3]}}}const r={face:_enums_js__WEBPACK_IMPORTED_MODULE_1__.LR.BACK,mode:_enums_js__WEBPACK_IMPORTED_MODULE_1__.Wf.CCW},a={face:_enums_js__WEBPACK_IMPORTED_MODULE_1__.LR.FRONT,mode:_enums_js__WEBPACK_IMPORTED_MODULE_1__.Wf.CCW},h=e=>e===_3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.Vr.Back?r:e===_3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.Vr.Front?a:null,o={zNear:0,zFar:1},_={r:!0,g:!0,b:!0,a:!0};function c(t){return w.intern(t)}function d(t){return D.intern(t)}function u(t){return O.intern(t)}function f(t){return m.intern(t)}function p(t){return R.intern(t)}function g(t){return P.intern(t)}function v(t){return F.intern(t)}function I(t){return K.intern(t)}function W(t){return x.intern(t)}function S(t){return q.intern(t)}class b{constructor(t,e){this._makeKey=t,this._makeRef=e,this._interns=new Map}intern(t){if(!t)return null;const e=this._makeKey(t),i=this._interns;return i.has(e)||i.set(e,this._makeRef(t)),i.get(e)??null}}function T(t){return"["+t.join(",")+"]"}const w=new b(B,(t=>({__tag:"Blending",...t})));function B(t){return t?T([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const D=new b(y,(t=>({__tag:"Culling",...t})));function y(t){return t?T([t.face,t.mode]):null}const O=new b(C,(t=>({__tag:"PolygonOffset",...t})));function C(t){return t?T([t.factor,t.units]):null}const m=new b(A,(t=>({__tag:"DepthTest",...t})));function A(t){return t?T([t.func]):null}const R=new b(k,(t=>({__tag:"StencilTest",...t})));function k(t){return t?T([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const P=new b(z,(t=>({__tag:"DepthWrite",...t})));function z(t){return t?T([t.zNear,t.zFar]):null}const F=new b(j,(t=>({__tag:"ColorWrite",...t})));function j(t){return t?T([t.r,t.g,t.b,t.a]):null}const K=new b(N,(t=>({__tag:"StencilWrite",...t})));function N(t){return t?T([t.mask]):null}const x=new b(M,(t=>({__tag:"DrawBuffers",...t})));function M(t){return t?T(t.buffers):null}const q=new b((function E(t){return t?T([B(t.blending),y(t.culling),C(t.polygonOffset),A(t.depthTest),k(t.stencilTest),z(t.depthWrite),j(t.colorWrite),N(t.stencilWrite),M(t.drawBuffers)]):null}),(t=>({blending:c(t.blending),culling:d(t.culling),polygonOffset:u(t.polygonOffset),depthTest:f(t.depthTest),stencilTest:p(t.stencilTest),depthWrite:g(t.depthWrite),colorWrite:v(t.colorWrite),stencilWrite:I(t.stencilWrite),drawBuffers:W(t.drawBuffers)})));class G{constructor(t){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._drawBuffersInvalid=!0,this._stateSetters=t}setPipeline(t){(this._pipelineInvalid||t!==this._pipeline)&&(this._setBlending(t.blending),this._setCulling(t.culling),this._setPolygonOffset(t.polygonOffset),this._setDepthTest(t.depthTest),this._setStencilTest(t.stencilTest),this._setDepthWrite(t.depthWrite),this._setColorWrite(t.colorWrite),this._setStencilWrite(t.stencilWrite),this._setDrawBuffers(t.drawBuffers),this._pipeline=t),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDrawBuffers(){this._drawBuffersInvalid=!0,this._pipelineInvalid=!0}_setBlending(t){this._blending=this._setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}_setCulling(t){this._culling=this._setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}_setPolygonOffset(t){this._polygonOffset=this._setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}_setDepthTest(t){this._depthTest=this._setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}_setStencilTest(t){this._stencilTest=this._setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}_setDepthWrite(t){this._depthWrite=this._setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}_setColorWrite(t){this._colorWrite=this._setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}_setStencilWrite(t){this._stencilWrite=this._setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}_setDrawBuffers(t){this._drawBuffers=this._setSubState(t,this._drawBuffers,this._drawBuffersInvalid,this._stateSetters.setDrawBuffers),this._drawBuffersInvalid=!1}_setSubState(t,e,i,n){return(i||t!==e)&&(n(t),this._pipelineInvalid=!0),t}}}}]);
//# sourceMappingURL=85368.f0a55a59.iframe.bundle.js.map