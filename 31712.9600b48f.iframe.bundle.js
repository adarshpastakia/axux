"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[31712,1734],{"./node_modules/@arcgis/core/core/floatRGBA.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>o,v:()=>r});var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js");function o(o,r,e=0){const i=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.uZ)(o,0,f);for(let t=0;t<4;t++)r[e+t]=Math.floor(256*l(i*n[t]))}function r(t,o=0){let r=0;for(let n=0;n<4;n++)r+=t[o+n]*e[n];return r}const n=[1,256,65536,16777216],e=[1/256,1/65536,1/16777216,1/4294967296],f=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}},"./node_modules/@arcgis/core/core/fontUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BN:()=>u,Yc:()=>f,em:()=>t,hZ:()=>i,mx:()=>c});var _config_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/config.js");const t="arial-unicode-ms",n="woff2",r=new Map,s=new Set;class o{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(t){const c=f(t),a=r.get(c);if(a)return a.promise;const i=new FontFace(t.family,`url('${_config_js__WEBPACK_IMPORTED_MODULE_0__.default.fontsUrl}/woff2/${c}.${n}') format('${n}')`,{style:t.style,weight:t.weight}),u=document.fonts;if(u.has(i)&&"loading"===i.status)return i.loaded;const l=i.load().then((()=>(u.add(i),i)));return r.set(c,new o(i,l)),s.add(i),l}function i(e){return s.has(e)}function u(e){if(!e)return t;const n=e.toLowerCase().split(" ").join("-");switch(n){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return n}}function f(e){const t=function l(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function d(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return u(e.family)+(t.length>0?t:"-regular")}},"./node_modules/@arcgis/core/geometry/GeometryCursor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>a});var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/lang.js"),_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js"),_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/jsonUtils.js"),_layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");class a{static fromOptimized(t,e,s=!1,i=!1){return(new p).initialize(t,e,s,i,1)}static fromJSON(t,e=!1,s=!1){const[i,h]=u(t);return(new d).initialize(i,h,e,s,1)}static fromOptimizedCIM(t,e,s=!1,i=!1){return(new m).initialize(t,e,s,i,1)}static fromJSONCIM(t,e=!1,s=!1){const[i,h]=u(t);return(new y).initialize(i,h,e,s,1)}static fromFeatureSetReader(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimized(e,s):null}static fromFeatureSetReaderCIM(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimizedCIM(e,s):null}static createEmptyOptimized(t,e=!1,s=!1){return(new p).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__.Z,t,e,s,1)}static createEmptyJSON(t,e=!1,s=!1){return(new d).initialize([],t,e,s,1)}static createEmptyOptimizedCIM(t,e=!1,s=!1){return(new m).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__.Z,t,e,s,1)}static createEmptyJSONCIM(t,e=!1,s=!1){return(new y).initialize([],t,e,s,1)}asJSON(){const t=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__.M)(this);return"esriGeometryEnvelope"===this.geometryType?{xmin:t[0][0][0],ymin:t[0][0][1],xmax:t[0][2][0],ymax:t[0][2][1]}:"esriGeometryMultipoint"===this.geometryType?{points:t.flat()}:"esriGeometryPoint"===this.geometryType?{x:t[0][0][0],y:t[0][0][1]}:"esriGeometryPolygon"===this.geometryType?{rings:t}:{paths:t}}getCurrentRingArea(){if(!this||this.pathSize<3)return 0;let t,e,s=0;if(this.seekPathStart(),!this.nextPoint())return 0;t=this.x,e=this.y;const i=t,h=e;for(;this.nextPoint();)s+=(t-this.x)*(e+this.y),t=this.x,e=this.y;return s+=(t-i)*(e+h),-.5*s}invertY(){this.yFactor*=-1}}class p extends a{constructor(){super(...arguments),this._end=-1}initialize(t,e,s,i,h){return this.hasZ=s,this.hasM=i,this.geometryType=e,this._stride=2+Number(s)+Number(i),this._geometry=t,this._pathIndex=-1,this._pathOffset=0,this._pointOffset=-this._stride,this._end=-1,this.yFactor=h,this}reset(){this.initialize(this._geometry,this.geometryType,this.hasZ,this.hasM,this.yFactor)}seekPath(t){if(t>=0&&t<this.totalSize){if(this._pathIndex<t)for(;this._pathIndex<t&&this.nextPath(););else if(this._pathIndex>t)for(;this._pathIndex>t&&this.prevPath(););return!0}return!1}seekPathStart(){this._pointOffset=this._pathOffset-this._stride}seekPathEnd(){this._pointOffset=this._end}seekInPath(t){const e=this._pathOffset+t*this._stride;return e>=0&&e<this._end&&(this._pointOffset=e,!0)}nextPoint(){return(this._pointOffset+=this._stride)<this._end}prevPoint(){return(this._pointOffset-=this._stride)>=this._pathOffset}nextPath(){if(this._pathIndex>=0){const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex];this._pathOffset+=this._stride*t}this._pointOffset=this._pathOffset-this._stride;const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex+1];return this._end=this._pointOffset+this._stride+this._stride*t,++this._pathIndex<this.totalSize}prevPath(){this._end=this._pathOffset;const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex-1];return this._pathOffset-=this._stride*t,this._pointOffset=this._pathOffset-this._stride,--this._pathIndex>=0}pathLength(){const t=this._end,e=this._stride,s=this._geometry.coords;let i=0;for(let h=this._pathOffset+e;h<t;h+=e){const t=s[h-e],r=s[h-e+1],n=s[h]-t,o=s[h+1]-r;i+=Math.sqrt(n*n+o*o)}return i}startPath(){this._geometry.lengths.push(0)}pushPath(t){this.startPath(),this.pushPoints(t)}pushPoint(t){for(let e=0;e<this._stride;++e)this._geometry.coords.push(t[e]);this._geometry.lengths[this.totalSize-1]++}pushXY(t,e){this._geometry.coords.push(t,e),this._geometry.lengths[this.totalSize-1]++}pushPoints(t){for(const e of t)for(let t=0;t<this._stride;++t)this._geometry.coords.push(e[t]);this._geometry.lengths[this.totalSize-1]+=t.length}pushCursor(t){const e=t.asOptimized();this._geometry.coords.push(...e.coords),this._geometry.lengths.push(...e.lengths)}asOptimized(){const t=this._geometry.clone();if(1!==this.yFactor)for(let e=1;e<t.coords.length;e+=this._stride)t.coords[e]*=this.yFactor;return"esriGeometryPoint"===this.geometryType&&(t.lengths.length=0),t}isClosed(){const t=this._geometry.coords,e=this._pathOffset,s=this._end-this._stride;for(let i=0;i<this._stride;i++)if(t[e+i]!==t[s+i])return!1;return!0}clone(){return(new p).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._geometry.coords.length/this._stride}get pathSize(){const{lengths:t}=this._geometry;return this._pathIndex<0||this._pathIndex>t.length-1?0:t[this._pathIndex]}get totalSize(){return this._geometry.lengths.length}get x(){return this._geometry.coords[this._pointOffset]}set x(t){this._geometry.coords[this._pointOffset]=t}get y(){return this.yFactor*this._geometry.coords[this._pointOffset+1]}set y(t){this._geometry.coords[this._pointOffset+1]=this.yFactor*t}get z(){return this._geometry.coords[this._pointOffset+2]}set z(t){this._geometry.coords[this._pointOffset+2]=t}get m(){const t=this.hasZ?3:2;return this._geometry.coords[this._pointOffset+t]}set m(t){this._geometry.coords[this._pointOffset+3]=t}get pathIndex(){return this._pathIndex}get _coordIndex(){return this._pointOffset/this._stride}}function _(t){const e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e}function u(t){return(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.oU)(t)?[t.rings,"esriGeometryPolygon"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.l9)(t)?[t.paths,"esriGeometryPolyline"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.aW)(t)?[[t.points],"esriGeometryMultipoint"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.YX)(t)?[[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]],"esriGeometryEnvelope"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.wp)(t)?[[[_(t)]],"esriGeometryPoint"]:[[],"esriGeometryPolyline"]}class d extends a{initialize(t,e,s,i,h){return this._paths=t,this.geometryType=e,this.hasZ=s,this.hasM=i,this._pathIndex=this._pointIndex=-1,this.yFactor=h,this._mIndex=this.hasZ?3:2,this}reset(){this._pathIndex=this._pointIndex=-1}seekPath(t){return t>=0&&t<this.totalSize&&(this._pathIndex=t,this._pointIndex=-1,this._currentPath=this._paths[t],!0)}seekPathStart(){this._pointIndex=-1}seekPathEnd(){this._pointIndex=this._currentPath.length}seekInPath(t){return t>=0&&t<this._currentPath.length&&(this._pointIndex=t,this._currentPoint=this._currentPath[this._pointIndex],!0)}nextPoint(){return this._currentPoint=this._currentPath[++this._pointIndex],this._pointIndex<this._currentPath.length}prevPoint(){return this._currentPoint=this._currentPath[--this._pointIndex],this._pointIndex>=0}nextPath(){return this._pointIndex=-1,this._currentPath=this._paths[++this._pathIndex],this._pathIndex<this.totalSize}prevPath(){return this._pointIndex=-1,this._currentPath=this._paths[--this._pathIndex],this._pathIndex>=0}pathLength(){const t=this._currentPath.length,e=this._currentPath;let s=0;for(let i=1;i<t;i++){const t=e[i-1],h=e[i],r=t[0],n=t[1],o=h[0]-r,a=h[1]-n;s+=Math.sqrt(o*o+a*a)}return s}startPath(){this._paths.push([])}pushPath(t){this._paths.push(t)}pushPoint(t){this._paths[this.totalSize-1].push(t)}pushXY(t,e){this._paths[this.totalSize-1].push([t,e])}pushPoints(t){this._paths[this.totalSize-1].push(...t)}pushCursor(t){const s=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__.M)(t);for(const e of s)this.pushPath(e)}asOptimized(){const t=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__.Z;if("esriGeometryPoint"===this.geometryType)t.coords.push(...this._paths[0][0]),t.lengths.length=0;else for(const e of this._paths){for(const s of e)t.coords.push(s[0]),t.coords.push(s[1]*this.yFactor),this.hasZ&&t.coords.push(s[2]),this.hasM&&t.coords.push(s[this._mIndex]);t.lengths.push(e.length)}return t}isClosed(){const t=this._currentPath[0],e=this._currentPath[this._currentPath.length-1];for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}clone(){return(new d).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.d9)(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._paths.map((t=>t.length)).reduce(((t,e)=>t+e))}get pathSize(){return this._pathIndex<0||this._pathIndex>this.totalSize-1?-1:this._paths[this._pathIndex].length}get totalSize(){return this._paths.length}get x(){return this._currentPoint[0]}set x(t){this._currentPoint[0]=t}get y(){return this.yFactor*this._currentPoint[1]}set y(t){this._currentPoint[1]=this.yFactor*t}get z(){return this._currentPoint[2]}set z(t){this._currentPoint[2]=t}get m(){return this._currentPoint[this._mIndex]}set m(t){this._currentPoint[this._mIndex]=t}get pathIndex(){return this._pathIndex}}class m extends p{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h),this._controlPoints||(this._controlPoints=this._controlPoints=new Array(this.totalSize).fill(void 0).map((t=>new Set))),this}startPath(){super.startPath(),this._controlPoints.push(new Set)}clone(){const t=(new m).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor);return t._controlPoints=this._controlPoints,t}setControlPoint(){this._controlPoints[this.pathIndex].add(this._coordIndex)}getControlPoint(){return this._controlPoints[this.pathIndex].has(this._coordIndex)}setControlPointAt(t){this._controlPoints[this.pathIndex].add(t)}getControlPointAt(t){return this._controlPoints[this.pathIndex].has(t)}}class y extends d{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h)}clone(){return(new y).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.d9)(this._paths),this.geometryType,this.hasZ,this.hasM,1)}setControlPoint(){this._paths[this.pathIndex][this._pointIndex][4]=1}getControlPoint(){return 1===this._paths[this.pathIndex][this._pointIndex][4]}setControlPointAt(t){this._paths[this.pathIndex][t][4]=1}getControlPointAt(t){return 1===this._paths[this.pathIndex][t][4]}}},"./node_modules/@arcgis/core/geometry/support/labelPoint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>l});var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js"),_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/boundsUtils.js"),_centroid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/centroid.js"),_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/coordsUtils.js"),_intersectsBase_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/intersectsBase.js");const N=222045e-19;function l(t){if(0===t.totalSize)return null;const a=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__.Cs)(t);if(!a)return null;const o=4*(Math.abs(a[0])+Math.abs(a[2])+Math.abs(a[1])+Math.abs(a[3])+1)*N;let s=0,c=0;t.reset();for(let e=0;t.nextPath();e++){const n=t.getCurrentRingArea();n>c&&(c=n,s=e)}if(t.seekPath(s),0===t.pathSize)return null;t.seekPathStart();const l=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__.qu)(t);if(Math.abs(c)<=2*o*o)return[(l[0]+l[2])/2,(l[1]+l[3])/2];t.seekPathStart();const x=(0,_centroid_js__WEBPACK_IMPORTED_MODULE_2__.Zc)(t,(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.Ue)());if(null===x)return null;if(t.totalPoints<4)return x;const m=[[NaN,NaN],[NaN,NaN],[NaN,NaN],[NaN,NaN]],d=[NaN,NaN,NaN,NaN],P=[NaN,NaN,NaN,NaN];let y=!1,M=f(x,t,!0);0===M.distance&&(y=!0,m[0][0]=x[0],m[0][1]=x[1],M=f(x,t,!1)),d[0]=M.distance,P[0]=0;const b=[NaN,NaN];let S=!1,k=.25,z=-1,g=NaN;do{if(g=NaN,m[1]=h(t,w(l[0],l[2],k),o,a),isNaN(m[1][0])||isNaN(m[1][1])||(M=f(m[1],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[1],t))S=!0,d[1]=g,P[1]=p(m[1],x);else if(!isNaN(g)&&g>z&&(z=g,b[0]=m[1][0],b[1]=m[1][1]),k-=.01,k<.1){if(!(z>=0))break;S=!0,d[1]=z,m[1][0]=b[0],m[1][1]=b[1],P[1]=p(m[1],x)}}while(!S);S=!1,k=.5,z=-1;let q=.01,j=1;do{if(g=NaN,m[2]=h(t,w(l[0],l[2],k),o,a),isNaN(m[2][0])||isNaN(m[2][1])||(M=f(m[2],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[2],t))S=!0,d[2]=g,P[2]=p(m[2],x);else if(!isNaN(g)&&g>z)z=g,b[0]=m[2][0],b[1]=m[2][1];else if(g>z&&(z=g,b[0]=m[2][0],b[1]=m[2][1]),k=.5+q*j,q+=.01,j*=-1,k<.3||k>.7){if(!(z>=0))break;S=!0,d[2]=z,m[2][0]=b[0],m[2][1]=b[1],P[2]=p(m[2],x)}}while(!S);S=!1,k=.75,z=-1;do{if(g=NaN,m[3]=h(t,w(l[0],l[2],k),o,a),isNaN(m[3][0])||isNaN(m[3][1])||(M=f(m[3],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[3],t))S=!0,d[3]=g,P[3]=p(m[3],x);else if(g>z&&(z=g,b[0]=m[3][0],b[1]=m[3][1]),k+=.01,k>.9){if(!(z>=0))break;S=!0,d[3]=z,m[3][0]=b[0],m[3][1]=b[1],P[3]=p(m[3],x)}}while(!S);const T=[0,1,2,3],D=y?0:1;let R;for(let e=D;e<4;e++)for(let t=D;t<3;t++){const e=P[t],n=P[t+1];C(e,n)>0&&(R=T[t],T[t]=T[t+1],T[t+1]=R,P[t]=n,P[t+1]=e)}let B=D,Q=0,U=0;for(let e=D;e<4;e++){switch(e){case 0:U=2*d[T[e]];break;case 1:U=1.66666666*d[T[e]];break;case 2:U=1.33333333*d[T[e]];break;case 3:U=d[T[e]]}U>Q&&(Q=U,B=T[e])}return m[B]}function u(t,e){let n,i,r,a,o=0;for(e.reset();e.nextPath()&&e.nextPoint();)for(n=e.x,i=e.y;e.nextPoint();n=r,i=a)r=e.x,a=e.y,i>t[1]!=a>t[1]&&((r-n)*(t[1]-i)-(a-i)*(t[0]-n)>0?o++:o--);return 0!==o}function f(t,e,n){if(n&&u(t,e))return{coord:t,distance:0};let i=1/0,r=0,a=0,s=[0,0],c=[0,0];const N=[0,0];for(e.reset();e.nextPath()&&e.nextPoint();)if(!(e.pathSize<2))for(s[0]=e.x,s[1]=e.y;e.nextPoint();s=c){c=[e.x,e.y],(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__.r8)(N,t,s,c);const n=p(t,N);n<i&&(i=n,r=N[0],a=N[1])}return{coord:[r,a],distance:Math.sqrt(i)}}function h(t,n,i,r){const a=[n,0];let o=1/0,s=1/0,N=!1,l=!1;const u=[[n,r[1]-1],[n,r[3]+1]],f=[0,0],h=[0,0],m=[0,0],d=[[0,0],[0,0]],P=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.Ue)();for(t.reset();t.nextPath()&&t.nextPoint();)if(!(t.pathSize<2))for(d[0][0]=t.x,d[0][1]=t.y;t.nextPoint();d[0][0]=d[1][0],d[0][1]=d[1][1]){if(d[1][0]=t.x,d[1][1]=t.y,null===x(P,d))continue;if(h[0]=u[0][0],h[1]=u[0][1],m[0]=u[1][0],m[1]=u[1][1],0===M(P,h,m))continue;if(!(0,_intersectsBase_js__WEBPACK_IMPORTED_MODULE_4__.UT)(u[0],u[1],d[0],d[1],f))continue;const e=f[1];o>s?e<o&&(o=e,N=!0):e<s&&(s=e,l=!0)}return N&&l?a[1]=(o+s)/2:a[0]=a[1]=NaN,a}function x(t,n){if(n.length<2)return null;t||(t=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.Ue)());const[i,r]=n[0],[a,o]=n[1];return t[0]=Math.min(i,a),t[1]=Math.min(r,o),t[2]=Math.max(i,a),t[3]=Math.max(r,o),t}const m=1,d=4,P=3,y=12;function M(t,e,n){let i=b(e,t),r=b(n,t);const a=t[0],o=t[1],s=t[2],c=t[3];if(i&r)return 0;if(!(i|r))return 4;const N=(i?1:0)|(r?2:0);do{const N=n[0]-e[0],l=n[1]-e[1];if(N>l)i&P?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):r&P?(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)):i?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t));else if(i&y?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):r&y?(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t)):i?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)),i&r)return 0}while(i|r);return N}function b(t,e){return(t[0]<e[0]?1:0)|(t[0]>e[2]?1:0)<<1|(t[1]<e[1]?1:0)<<2|(t[1]>e[3]?1:0)<<3}function w(t,e,n){return t+(e-t)*n}function p(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function C(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;const n=isNaN(t),i=isNaN(e);return n<i?-1:n>i?1:0}},"./node_modules/@arcgis/core/geometry/support/quantizationUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G6:()=>v,Ie:()=>q,J9:()=>U,RF:()=>L,U1:()=>k,vY:()=>m,ym:()=>d});var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/jsonUtils.js");const i=(n,t,e)=>[t,e],o=(n,t,e)=>[t,e,n[2]],a=(n,t,e)=>[t,e,n[2],n[3]];function m(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:null!=n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function s({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function f({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function x(n,t,e){const r=[];let u,l,i,o;for(let a=0;a<e.length;a++){const m=e[a];a>0?(i=s(n,m[0]),o=f(n,m[1]),i===u&&o===l||(r.push(t(m,i-u,o-l)),u=i,l=o)):(u=s(n,m[0]),l=f(n,m[1]),r.push(t(m,u,l)))}return r.length>0?r:null}function p({scale:n,translate:t},e){return e*n[0]+t[0]}function y({scale:n,translate:t},e){return t[1]-e*n[1]}function z(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,l]=n.scale;let i=p(n,e[0][0]),o=y(n,e[0][1]);r[0]=t(e[0],i,o);for(let a=1;a<e.length;a++){const n=e[a];i+=n[0]*u,o-=n[1]*l,r[a]=t(n,i,o)}return r}function T(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=z(n,t,e[u]);return r}function G(n,t,e,r,u){return t.points=function I(n,t,e,r){return x(n,e?r?a:o:r?o:i,t)}(n,e.points,r,u)??[],t}function L(n,t,e,r,u){return t.x=s(n,e.x),t.y=f(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function O(n,t,e,r,u){const l=function g(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=3&&u.push(e)}return u.length?u:null}(n,e.rings,r,u);return l?(t.rings=l,t):null}function S(n,t,e,r,u){const l=function N(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=2&&u.push(e)}return u.length?u:null}(n,e.paths,r,u);return l?(t.paths=l,t):null}function d(l,i){return l&&i?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.wp)(i)?L(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.l9)(i)?S(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.oU)(i)?O(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.aW)(i)?G(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.YX)(i)?function w(n,t,e,r,u){return t.xmin=s(n,e.xmin),t.ymin=f(n,e.ymin),t.xmax=s(n,e.xmax),t.ymax=f(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}(l,{},i,!1,!1):null:null}function U(n,t,e,r,u){return null!=e&&(t.points=function E(n,t,e,r){return z(n,e?r?a:o:r?o:i,t)}(n,e.points,r,u)),t}function k(n,t,e,r,u){return null==e||(t.x=p(n,e.x),t.y=y(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m))),t}function q(n,t,e,r,u){return null!=e&&(t.rings=function b(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}(n,e.rings,r,u)),t}function v(n,t,e,r,u){return null!=e&&(t.paths=function P(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}(n,e.paths,r,u)),t}},"./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>t});class t{constructor(t=[],e=[],s=!1){this.lengths=t??[],this.coords=e??[],this.hasIndeterminateRingOrder=s}static fromRect(e){const[s,h,n,r]=e,i=n-s,o=r-h;return new t([5],[s,h,i,0,0,o,-i,0,0,-o])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let s=0;s<this.lengths.length;s++){const h=this.lengths[s];for(let s=0;s<h;s++)t(this.coords[2*(s+e)],this.coords[2*(s+e)+1]);e+=h}}clone(e){return e?(e.set(this.coords),new t(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},"./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>i});var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/fontUtils.js"),_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/imageUtils.js");class i{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,i){const h=this._resourceMap.get(e);if(h)return{width:h.width,height:h.height};let r=this._inFlightResourceMap.get(e);return r?r.then((e=>({width:e.width,height:e.height}))):(r=(0,_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_1__.n$)(e,i),this._inFlightResourceMap.set(e,r),r.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(t){return(0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__.mx)(t)}}},"./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CIMSymbolRasterizer:()=>M});var _Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/Color.js"),_request_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/core/screenUtils.js"),_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js"),_CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js"),_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js"),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"),_Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/Rasterizer.js"),_TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js"),_utils_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/utils.js"),_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js"),_support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/Symbol3DAnchorPosition2D.js");const C=e=>e?.scaleFactor?e.scaleFactor:1;class M{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._lazyImageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__.Z,this._cimResourceManager=new _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__.Z,this._rasterizer=new _Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__.Z(this._cimResourceManager)}get _imageDataCanvas(){return this._lazyImageDataCanvas??=document.createElement("canvas"),this._lazyImageDataCanvas}get _imageDataContext(){return this._imageDataCanvas.getContext("2d",{willReadFrequently:!0})}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,a,i,r,o,s,m,g){if(!e)return null;const{data:f}=e;if(!f||"CIMSymbolReference"!==f.type||!f.symbol)return null;const{symbol:d}=f;o||(o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.JW)(d));const y=await _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.E0.resolveSymbolOverrides(f,t,this._spatialReference,r,o,s,m),p=this._imageDataCanvas,w=this._cimResourceManager,C=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchResources(y,w,C),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchFonts(y,w,C),C.length>0&&await Promise.all(C);const{width:M,height:b}=a,I=function z(e,t,a,i){const r=1,o=-t/2+r,s=t/2-r,n=a/2-r,l=-a/2+r;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[o,0],[0,0],[s,0]]]};default:return"legend"===i?{rings:[[[o,n],[s,0],[s,l],[o,l],[o,n]]]}:{rings:[[[o,n],[s,n],[s,l],[o,l],[o,n]]]}}}(o,M,b,i),x=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.getEnvelope(y,I,w);if(!x)return null;const R=1.3333333333333333*(window.devicePixelRatio||1);let v=1,D=0,P=0;switch(d.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;x.width>M&&(e=M/x.width);let t=1;x.height>b&&(t=b/x.height),"preview"===i&&(x.width<M&&(e=M/x.width),x.height<b&&(t=b/x.height)),v=Math.min(e,t),D=x.x+x.width/2,P=x.y+x.height/2}break;case"CIMLineSymbol":{(g||x.height>b)&&(v=b/x.height),P=x.y+x.height/2;const e=x.x*v+M/2,t=(x.x+x.width)*v+M/2,{paths:a}=I;a[0][0][0]-=e/v,a[0][2][0]-=(t-M)/v}break;case"CIMPolygonSymbol":{D=x.x+x.width/2,P=x.y+x.height/2;const e=x.x*v+M/2,t=(x.x+x.width)*v+M/2,a=x.y*v+b/2,i=(x.y+x.height)*v+b/2,{rings:r}=I;e<0&&(r[0][0][0]-=e,r[0][3][0]-=e,r[0][4][0]-=e),a<0&&(r[0][0][1]+=a,r[0][1][1]+=a,r[0][4][1]+=a),t>M&&(r[0][1][0]-=t-M,r[0][2][0]-=t-M),i>b&&(r[0][2][1]+=i-b,r[0][3][1]+=i-b)}}p.width=M*R,p.height=b*R;p.width+=2,p.height+=2;const k=this._imageDataContext,A=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__.zA.createIdentity();return A.translate(-D,-P),A.scale(v*R,-v*R),A.translate(M*R/2+1,b*R/2+1),k.clearRect(0,0,p.width,p.height),new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__.cD(k,w,A,!0).drawSymbol(y,I),k.getImageData(0,0,p.width,p.height)}async analyzeCIMSymbol3D(e,t,i,o,s){const n=[],l=t?{geometryType:o,spatialReference:this._spatialReference,fields:t}:null,c=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__.B$.fetchFonts(e.data.symbol,this._cimResourceManager,c),await Promise.all(c);const m=new _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__._(this._cimResourceManager,l);let g;await m.analyzeSymbolReference(e.data,this._avoidSDF,n),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.k_)(s);for(const a of n)"CIMPictureMarker"!==a.cim.type&&"CIMPictureFill"!==a.cim.type&&"CIMPictureStroke"!==a.cim.type||(g||(g=[]),g.push(this._fetchPictureMarkerResource(a,s))),i&&"text"===a.type&&"string"==typeof a.text&&a.text.includes("[")&&(a.text=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.Qs)(i,a.text,a.cim.textCase));return g&&await Promise.all(g),n}rasterizeCIMSymbol3D(e,t,a,i,r,o){const s=[];for(const n of e){i&&"function"==typeof i.scaleFactor&&(i.scaleFactor=i.scaleFactor(t,r,o));const e=this._getRasterizedResource(n,t,a,i,r,o);if(!e)continue;let l=0,c=e.anchorX||0,h=e.anchorY||0,m=!1,g=0,u=0;if("esriGeometryPoint"===a){const e=C(i);if(g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.offsetX,t,r,o)*e||0,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.offsetY,t,r,o)*e||0,"marker"===n.type)l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.rotation,t,r,o)||0,m=n.rotateClockwise??!1;else if("text"===n.type){if(l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n.angle,t,r,o)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case"left":c=-.5;break;case"right":c=.5;break;default:c=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case"top":h=.5;break;case"bottom":h=-.5;break;case"baseline":h=-.25;break;default:h=0}}}null!=e&&s.push({angle:l,rotateClockWise:m,anchorX:c,anchorY:h,offsetX:g,offsetY:u,rasterizedResource:e})}return this.getSymbolImage(s)}getSymbolImage(e){const t=document.createElement("canvas"),a=t.getContext("2d");let r=0,o=0,s=0,n=0;const l=[];for(let g=0;g<e.length;g++){const t=e[g],c=t.rasterizedResource;if(!c)continue;const h=c.size,m=t.offsetX,u=t.offsetY,f=t.anchorX,d=t.anchorY,y=t.rotateClockWise||!1;let p=t.angle,w=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(m)-h[0]*(.5+f),C=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(u)-h[1]*(.5+d),_=w+h[0],M=C+h[1];if(p){y&&(p=-p);const e=Math.sin(p*Math.PI/180),t=Math.cos(p*Math.PI/180),a=w*t-C*e,i=w*e+C*t,r=w*t-M*e,o=w*e+M*t,s=_*t-M*e,n=_*e+M*t,l=_*t-C*e,c=_*e+C*t;w=Math.min(a,r,s,l),C=Math.min(i,o,n,c),_=Math.max(a,r,s,l),M=Math.max(i,o,n,c)}r=w<r?w:r,o=C<o?C:o,s=_>s?_:s,n=M>n?M:n;const z=a.createImageData(c.size[0],c.size[1]);z.data.set(new Uint8ClampedArray(c.image.buffer));const b={offsetX:m,offsetY:u,rotateClockwise:y,angle:p,rasterizedImage:z,anchorX:f,anchorY:d};l.push(b)}t.width=s-r,t.height=n-o;const c=-r,h=n;for(let g=0;g<l.length;g++){const e=l[g],t=this._imageDataToCanvas(e.rasterizedImage),r=e.rasterizedImage.width,o=e.rasterizedImage.height,s=c-r*(.5+e.anchorX),n=h-o*(.5-e.anchorY);if(e.angle){const r=(360-e.angle)*Math.PI/180;a.save(),a.translate((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(e.offsetX),-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(e.offsetY)),a.translate(c,h),a.rotate(r),a.translate(-c,-h),a.drawImage(t,s,n),a.restore()}else a.drawImage(t,s+(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(e.offsetX),n-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(e.offsetY))}const m=new _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__.e({x:c/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?a.getImageData(0,0,t.width,t.height):a.createImageData(1,1),anchorPosition:m}}async _fetchPictureMarkerResource(e,a){const i=e.materialHash;if(!this._pictureMarkerCache.get(i)){const r=(await(0,_request_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e.cim.url,{responseType:"image",signal:a?.signal})).data;this._pictureMarkerCache.set(i,r)}}_imageDataToCanvas(e){const t=this._imageDataCanvas,a=this._imageDataContext;return t.width=e.width,t.height=e.height,a.putImageData(e,0,0),t}_imageTo32Array(t,a,i,r){const o=this._imageDataCanvas,s=this._imageDataContext;if(o.width=a,o.height=i,s.drawImage(t,0,0,a,i),r){s.save();const o=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z(r);s.fillStyle=o.toHex(),s.globalCompositeOperation="multiply",s.fillRect(0,0,a,i),s.globalCompositeOperation="destination-atop",s.drawImage(t,0,0,a,i),s.restore()}return new Uint32Array(s.getImageData(0,0,a,i).data.buffer)}_getRasterizedResource(e,t,a,i,r,o){let s,n,l;if("text"===e.type)return this._rasterizeTextResource(e,t,i,r,o);({analyzedCIM:s,hash:n}=function b(e,t,a,i){let r,s;"function"==typeof e.materialHash?(r=(0,e.materialHash)(t,a,i),s=(0,_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__.S)(e.cim,e.materialOverrides)):(r=e.materialHash,s=e.cim);return{analyzedCIM:s,hash:r}}(e,t,r,o));const m=C(i);if("CIMPictureMarker"===e.cim.type){const a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.size,t,r,o)*m,{image:i,width:s,height:n}=this._getPictureResource(e,a,(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.color,t,r,o));return l={image:i,size:[s,n],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},l}(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__.FW)(s,m,{preserveOutlineWidth:!1});const g=s;n+=a,i&&(n+=JSON.stringify(i));const u=this._resourceCache;return u.has(n)?u.get(n):(l=this._rasterizer.rasterizeJSONResource({cim:g,type:e.type,url:e.url,mosaicHash:n,size:null,path:null},window.devicePixelRatio||1,this._avoidSDF),u.set(n,l),l)}_rasterizeTextResource(e,t,a,i,r){const o=C(a),s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.text,t,i,r);if(!s||0===s.length)return null;const n=e.cim,l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.fontFamilyName||e.fontName,t,i,r),c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.style||e.style,t,i,r),h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.weight||e.weight,t,i,r),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(n?.font?.decoration||e.decoration,t,i,r),g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.size,t,i,r)*o,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.horizontalAlignment,t,i,r),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.verticalAlignment,t,i,r),p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.color,t,i,r)),w=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.outlineColor,t,i,r)),_=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.hf)(e.outlineSize,t,i,r),M=null!=e.backgroundColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)(e.backgroundColor):null,z=null!=e.borderLineColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.nn)(e.borderLineColor):null,b=null!=e.borderLineWidth?e.borderLineWidth:null,I={color:p,size:g,horizontalAlignment:u,verticalAlignment:f,font:{family:l,style:c,weight:h,decoration:m},halo:{size:_||0,color:w,style:c},backgroundColor:M,borderLine:null!=z&&null!=b?{color:z,size:b}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(s,I)}_getPictureResource(e,t,a){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const o=r.height/r.width,s=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(t):(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(t)/o:r.width,n=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(t)*o:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.F2)(t):r.height;return{image:this._imageTo32Array(r,s,n,a),width:s,height:n}}}},"./node_modules/@arcgis/core/symbols/cim/Rasterizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>c});var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"),_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js"),_Rect_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/Rect.js"),_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/SDFHelper.js"),_utils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/utils.js");class c{constructor(e){this._resourceManager=e,this._lazyRasterizationCanvas=null}dispose(){this._lazyRasterizationCanvas=null}get _rasterizationCanvas(){return null==this._lazyRasterizationCanvas&&(this._lazyRasterizationCanvas=document.createElement("canvas"),this._lazyRasterizationCanvas.getContext("2d",{willReadFrequently:!0})),this._lazyRasterizationCanvas}rasterizeJSONResource(l,m,c){if("simple-fill"===l.type||"esriSFS"===l.type){const[t,a,i]=(0,_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this._rasterizationCanvas,l.style,m);return{size:[a,i],image:new Uint32Array(t.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0,rasterizationScale:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.fp)(Math.ceil(m))}}if("simple-line"===l.type||"esriSLS"===l.type||"line"===l.type&&l.dashTemplate){let e,a;if("simple-line"===l.type||"esriSLS"===l.type)switch(e=(0,_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.U1)(l.style,l.cap),l.cap){case"butt":a="Butt";break;case"square":a="Square";break;default:a="Round"}else e=l.dashTemplate,a=l.cim.capStyle;const[r,n,s]=(0,_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__.m)(e,a);return{size:[n,s],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let f,h=null,p=null,u=1;if("simple-marker"===l.type||"esriSMS"===l.type||"line-marker"===l.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.B$.fromSimpleMarker(l),p=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__.Fp)(f)):l.cim&&"CIMHatchFill"===l.cim.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.B$.fromCIMHatchFill(l.cim,m),h=new _Rect_js__WEBPACK_IMPORTED_MODULE_4__.Z(f.frame.xmin,-f.frame.ymax,f.frame.xmax-f.frame.xmin,f.frame.ymax-f.frame.ymin),u=m):l.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===l.cim.markerPlacement.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.B$.fromCIMInsidePolygon(l.cim),h=new _Rect_js__WEBPACK_IMPORTED_MODULE_4__.Z(f.frame.xmin,-f.frame.ymax,f.frame.xmax-f.frame.xmin,f.frame.ymax-f.frame.ymin)):(f=l.cim,l.avoidSDFRasterization||(p=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__.Fp)(f))),p&&!c){const[e,t,a]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__.RL)(p);return e?{size:[t,a],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0,rasterizationScale:u}:null}const[y,z,d,C,g]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.B$.rasterize(this._rasterizationCanvas,f,h,this._resourceManager,!c);return y?{size:[z,d],image:new Uint32Array(y.buffer),sdf:!1,simplePattern:!1,anchorX:C,anchorY:g}:null}rasterizeImageResource(e,t,a,r){this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext("2d");a instanceof ImageData?i.putImageData(a,0,0):(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`),i.drawImage(a,0,0,e,t));const n=i.getImageData(0,0,e,t),s=new Uint8Array(n.data);if(r)for(const l of r)if(l&&l.oldColor&&4===l.oldColor.length&&l.newColor&&4===l.newColor.length){const[e,t,a,r]=l.oldColor,[i,n,o,m]=l.newColor;if(e===i&&t===n&&a===o&&r===m)continue;for(let l=0;l<s.length;l+=4)e===s[l]&&t===s[l+1]&&a===s[l+2]&&r===s[l+3]&&(s[l]=i,s[l+1]=n,s[l+2]=o,s[l+3]=m)}let o;for(let l=0;l<s.length;l+=4)o=s[l+3]/255,s[l]=s[l]*o,s[l+1]=s[l+1]*o,s[l+2]=s[l+2]*o;let c=s,f=e,h=t;const p=512;if(f>=p||h>=p){const a=f/h;a>1?(f=p,h=Math.round(p/a)):(h=p,f=Math.round(p*a)),c=new Uint8Array(4*f*h);const r=new Uint8ClampedArray(c.buffer);(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.TT)(s,e,t,r,f,h,!1)}return{size:[f,h],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}},"./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>r,m:()=>e});var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/floatRGBA.js"),_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js");const a=o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o;function r(o,r,e){const i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.fp)(Math.ceil(e)),n=a(r)?8*i:16*i,s=2*i;o.width=n,o.height=n;const l=o.getContext("2d");l.strokeStyle="#FFFFFF",l.lineWidth=i,l.beginPath(),"vertical"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSVertical"!==r||(l.moveTo(n/2,-s),l.lineTo(n/2,n+s)),"horizontal"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSHorizontal"!==r||(l.moveTo(-s,n/2),l.lineTo(n+s,n/2)),"forward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSDiagonalCross"!==r&&"esriSFSForwardDiagonal"!==r||(l.moveTo(-s,-s),l.lineTo(n+s,n+s),l.moveTo(n-s,-s),l.lineTo(n+s,s),l.moveTo(-s,n-s),l.lineTo(s,n+s)),"backward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSBackwardDiagonal"!==r&&"esriSFSDiagonalCross"!==r||(l.moveTo(n+s,-s),l.lineTo(-s,n+s),l.moveTo(s,-s),l.lineTo(-s,s),l.moveTo(n+s,n-s),l.lineTo(n-s,n+s)),l.stroke();const h=l.getImageData(0,0,o.width,o.height),c=new Uint8Array(h.data);let m;for(let t=0;t<c.length;t+=4)m=c[t+3]/255,c[t]=c[t]*m,c[t+1]=c[t+1]*m,c[t+2]=c[t+2]*m;return[c,o.width,o.height]}function e(t,a){const r="Butt"===a,e="Square"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const n=15.5;let l=0;for(const o of t)l+=o;const h=Math.round(l*n),c=new Float32Array(31*h),m=7.75;let S=0,F=0,g=.5,T=!0;for(const o of t){for(S=F,F+=o*n;g<=F;){let o=.5;for(;o<31;){const t=(o-.5)*h+g-.5,a=i?(o-n)*(o-n):Math.abs(o-n);c[t]=T?r?Math.max(Math.max(S+m-g,a),Math.max(g-F+m,a)):a:i?Math.min((g-S)*(g-S)+a,(g-F)*(g-F)+a):e?Math.min(Math.max(g-S,a),Math.max(F-g,a)):Math.min(Math.max(g-S+m,a),Math.max(F+m-g,a)),o++}g++}T=!T}const d=c.length,f=new Uint8Array(4*d);for(let M=0;M<d;++M){const t=(i?Math.sqrt(c[M]):c[M])/n;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.I)(t,f,4*M)}return[f,h,31]}},"./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{previewCIMSymbol:()=>p});var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/screenUtils.js"),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"),_cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js"),_cim_utils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/cim/utils.js"),_previewUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/previewUtils.js"),_renderUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/renderUtils.js");const s=new _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolRasterizer(null,!0),c=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.Wz)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_2__.b_.size),m=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.Wz)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_2__.b_.maxSize),u=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.Wz)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_2__.b_.lineWidth),f=1;async function h(e,t,i){const l=t?.size;let n=null!=l&&"object"==typeof l&&"width"in l?l.width:l,a=null!=l&&"object"==typeof l&&"height"in l?l.height:l;if(null==n||null==a)if("esriGeometryPolygon"===i)n=c,a=c;else{const l=await async function y(e,t,n){const{feature:a,fieldMap:r,viewParams:o}=t.cimOptions||t,c=await _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__.E0.resolveSymbolOverrides(e.data,a,null,r,n,null,o);if(!c)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:c},e.data.primitiveOverrides=void 0;const m=[];return _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__.B$.fetchResources(c,s.resourceManager,m),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__.B$.fetchFonts(c,s.resourceManager,m),m.length>0&&await Promise.all(m),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__.B$.getEnvelope(c,null,s.resourceManager)}(e,t,i);l&&(n=l.width,a=l.height),"esriGeometryPolyline"===i&&(n=u),n=null!=n&&isFinite(n)?Math.min(n,m):c,a=null!=a&&isFinite(a)?Math.max(Math.min(a,m),f):c}return"legend"===t.style&&"esriGeometryPolyline"===i&&(n=u),{width:n,height:a}}async function p(e,i={}){const{node:l,opacity:n,symbolConfig:r}=i,c=null!=r&&"object"==typeof r&&"isSquareFill"in r&&r.isSquareFill,m=i.cimOptions||i,u=m.geometryType||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_5__.JW)(e?.data?.symbol),f=await h(e,i,u),{feature:y,fieldMap:p}=m,d=c||"esriGeometryPolygon"!==u?"preview":"legend",g=await s.rasterizeCIMSymbolAsync(e,y,f,d,p,u,null,m.viewParams,m.allowScalingUp);if(!g)return null;const{width:w,height:b}=g,M=document.createElement("canvas");M.width=w,M.height=b,M.getContext("2d").putImageData(g,0,0);const v=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.F2)(f.width),j=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.F2)(f.height),S=new Image(v,j);S.src=M.toDataURL(),S.ariaLabel=i.ariaLabel??null,S.alt=i.ariaLabel??"",null!=n&&(S.style.opacity=`${n}`);let C=S;if(null!=i.effectView){const e={shape:{type:"image",x:0,y:0,width:v,height:j,src:S.src},fill:null,stroke:null,offset:[0,0]};C=(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_3__.wh)([[e]],[v,j],{effectView:i.effectView,ariaLabel:i.ariaLabel})}return l&&C&&l.appendChild(C),C}},"./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>s});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");function s(e,t,o,n,a){if(null==e)return null;const s=e.referencesGeometry()&&a?i(t,n,a):t,u=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:u},e.services)}catch(c){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const u=new Map;function i(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;u.has(r)||u.set(r,function c(s){const u={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.U1)(r,u,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.Ie)(r,u,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.G6)(r,u,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.J9)(r,u,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.Z("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}(r));const s=u.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}},"./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function i(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}__webpack_require__.d(__webpack_exports__,{Hd:()=>s,M7:()=>e,NS:()=>i,TR:()=>t,b7:()=>n,g:()=>c,kH:()=>r,qv:()=>a,tf:()=>o}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}))},"./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Au:()=>M,Jz:()=>x,UJ:()=>w});const n=new Float32Array(1);new Uint32Array(n.buffer);function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}}}]);