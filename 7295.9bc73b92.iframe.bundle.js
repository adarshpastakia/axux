"use strict";(self.webpackChunkaxux=self.webpackChunkaxux||[]).push([[7295],{"./node_modules/@arcgis/core/chunks/mat3f64.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function e(){return[1,0,0,0,1,0,0,0,1]}function t(e,r,t,n,o,a,u,c,f){return[e,r,t,n,o,a,u,c,f]}function n(e,r){return new Float64Array(e,r,9)}__webpack_require__.d(__webpack_exports__,{a:()=>n,c:()=>e,f:()=>t});Object.freeze(Object.defineProperty({__proto__:null,clone:function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/chunks/mat4f64.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function t(e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p){return[e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p]}function n(e,r){return new Float64Array(e,r,16)}__webpack_require__.d(__webpack_exports__,{I:()=>o,a:()=>n,b:()=>r,c:()=>e,f:()=>t});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/chunks/quatf64.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r){return new Float64Array(e,r,4)}__webpack_require__.d(__webpack_exports__,{I:()=>o,a:()=>e,b:()=>r,c:()=>n});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:function t(e,r,t,n){return[e,r,t,n]}},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/chunks/vec32.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>n,b:()=>f,c:()=>t,d:()=>i,e:()=>o,n:()=>s,s:()=>u,t:()=>r});var _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/math/common.js");function t(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.c.error("source and destination buffers need to have the same number of elements"),t;const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[4],c=f[5],l=f[6],p=f[8],y=f[9],h=f[10],m=f[12],B=f[13],g=f[14];let S=0,M=0;for(let e=0;e<u;e++){const e=r[S],f=r[S+1],u=r[S+2];t[M]=i*e+d*f+p*u+m,t[M+1]=s*e+c*f+y*u+B,t[M+2]=a*e+l*f+h*u+g,S+=o,M+=n}return t}function f(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return void _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.c.error("source and destination buffers need to have the same number of elements");const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[3],c=f[4],l=f[5],p=f[6],y=f[7],h=f[8];let m=0,B=0;for(let e=0;e<u;e++){const e=r[m],f=r[m+1],u=r[m+2];t[B]=i*e+d*f+p*u,t[B+1]=s*e+c*f+y*u,t[B+2]=a*e+l*f+h*u,m+=o,B+=n}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=3){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let i=0,s=0;for(let a=0;a<n;a++)e[s]=r*o[i],e[s+1]=r*o[i+1],e[s+2]=r*o[i+2],i+=u,s+=f}function i(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r=3,f=r){const n=Math.min(e.length/r,t.length/f);let o=0,u=0;for(let i=0;i<n;i++){const n=t[o],i=t[o+1],s=t[o+2],a=n*n+i*i+s*s;if(a>0){const t=1/Math.sqrt(a);e[u]=t*n,e[u+1]=t*i,e[u+2]=t*s}o+=f,u+=r}}Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:i,scale:u,scaleView:o,shiftRight:function a(e,t,r){const f=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,i=t.typedBufferStride;let s=0,a=0;for(let d=0;d<f;d++)n[a]=u[s]>>r,n[a+1]=u[s+1]>>r,n[a+2]=u[s+2]>>r,s+=i,a+=o},transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:t},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/geometry/support/DoubleArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{JK:()=>o,QZ:()=>e,Rq:()=>a,bg:()=>t,mB:()=>y});var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/typedArrayUtil.js");function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?t?new Array(n).fill(0):new Array(n):new Float64Array(n)}function e(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.kJ)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?Array.from(t):new Float64Array(t)}function a(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}function o(r,n){for(let t=0;t<n.length;++t)r[t]=n[t];return r}function y(r){return Array.isArray(r)?new Float64Array(r):r}},"./node_modules/@arcgis/core/geometry/support/Indices.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$z:()=>i,KF:()=>y,LE:()=>l,X9:()=>f,mi:()=>t});var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/typedArrayUtil.js");function t(t){return(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.kJ)(t)?t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?t:e(t):t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?Array.from(t):t.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?t:e(t)}function e(n){let t=!0;for(const e of n){if(e>=65536)return(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.kJ)(n)?new Uint32Array(n):n;e>=256&&(t=!1)}return t?new Uint8Array(n):new Uint16Array(n)}function i(r){return r<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?new Array(r):r<=65536?new Uint16Array(r):new Uint32Array(r)}function f(r){return r<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB?new Array(r):new Uint32Array(r)}let a=(()=>{const r=new Uint32Array(131072);for(let n=0;n<r.length;++n)r[n]=n;return r})();const u=[0],o=(()=>{const r=new Uint16Array(65536);for(let n=0;n<r.length;++n)r[n]=n;return r})();function y(r){if(1===r)return u;if(r<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB)return Array.from(new Uint16Array(o.buffer,0,r));if(r<o.length)return new Uint16Array(o.buffer,0,r);if(r>a.length){const n=Math.max(2*a.length,r);a=new Uint32Array(n);for(let r=0;r<a.length;r++)a[r]=r}return new Uint32Array(a.buffer,0,r)}let A=new Uint8Array(65536);function l(r){if(1===r)return u;if(r<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.DB)return new Array(r).fill(0);if(r>A.length){const n=Math.max(2*A.length,r);A=new Uint8Array(n)}return new Uint8Array(A.buffer,0,r)}},"./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>m});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Clonable.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_Point_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js");let a=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__.J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.wq)){constructor(e){super(e),this.type="georeferenced-relative",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.c)()}getOriginPoint(e){const[r,o,t]=this.origin;return new _Point_js__WEBPACK_IMPORTED_MODULE_9__.Z({x:r,y:o,z:t,spatialReference:e})}setOriginFormPoint({x:e,y:r,z:o}){this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.f)(e,r,o??0)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.J)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],a.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],a);const m=a},"./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>p});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Clonable.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");let c=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__.J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.wq)){constructor(){super({}),this.type="georeferenced",this.isRelative=!1,this.isGeoreferenced=!0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_9__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__.J)({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_9__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],c);const p=c},"./node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>m});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Clonable.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_Point_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js");let n=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__.J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.wq)){constructor(o){super(o),this.type="local",this.isRelative=!0,this.isGeoreferenced=!1,this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.c)()}getOriginPoint(o){const[r,e,s]=this.origin;return new _Point_js__WEBPACK_IMPORTED_MODULE_9__.Z({x:r,y:e,z:s,spatialReference:o})}setOriginFormPoint({x:o,y:r,z:e}){this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.f)(o,r,e??0)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.J)({local:"local"},{readOnly:!0})],n.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],n.prototype,"origin",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_10__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.j)("esri.geometry.support.MeshLocalVertexSpace")],n);const m=n},"./node_modules/@arcgis/core/geometry/support/buffer/math/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>e});const e=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js").Z.getLogger("esri.views.3d.support.buffer.math")},"./node_modules/@arcgis/core/geometry/support/meshUtils/External.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CP:()=>a,JG:()=>m,LL:()=>i,NZ:()=>o,fV:()=>h,vj:()=>g,yT:()=>A,zE:()=>N});var _request_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/layers/support/infoFor3D.js");class a{constructor(t,r,e){this.assetName=t,this.assetMimeType=r,this.parts=e}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.fS)(this.parts,t.parts,((t,r)=>t.equals(r)))}isOnService(t){return this.parts.every((r=>r.isOnService(t)))}makeHash(){let t="";for(const r of this.parts)t+=r.partHash;return t}async toBlob(t){const{parts:r}=this;if(1===r.length)return r[0].toBlob(t);const s=await Promise.all(r.map((r=>r.toBlob(t))));return(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.k_)(t),new Blob(s)}}class i{constructor(t,r){this.partUrl=t,this.partHash=r}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(r){const{data:s}=await(0,_request_js__WEBPACK_IMPORTED_MODULE_0__.default)(this.partUrl,{responseType:"blob"});return(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.k_)(r),s}}function o(t){return function l(t){if(!t)return!1;if(Array.isArray(t))return t.some(p);return p(t)}(t?.source)}function u(t){return!!Array.isArray(t)&&t.every((t=>t instanceof a))}const c=/^(model\/gltf\+json)|(model\/gltf-binary)$/,f=/\.(gltf|glb)/i;function p(t){if(t instanceof File){const{type:r,name:e}=t;return c.test(r)||f.test(e)}return c.test(t.assetMimeType)||f.test(t.assetName)}function m(t,r){if(!t)return!1;const{source:e}=t;return function y(t,r){if(Array.isArray(t))return t.every((t=>b(t,r)));return b(t,r)}(e,r)}function h(t,r){if(t===r)return!0;const{source:e}=t,{source:s}=r;if(e===s)return!0;if(u(e)&&u(s)){if(e.length!==s.length)return!1;const t=(t,r)=>t.assetName<r.assetName?-1:t.assetName>r.assetName?1:0,r=[...e].sort(t),n=[...s].sort(t);for(let e=0;e<r.length;++e)if(!r[e].equals(n[e]))return!1;return!0}return!1}function b(t,r){return t instanceof a&&t.isOnService(r)}function g(t,r){return t instanceof File?(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.Ow)(t.name,r)??(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.S0)(t.type,r):(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.S0)(t.assetMimeType,r)??(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.Ow)(t.assetName,r)}function N(t){return Array.isArray(t)?t:[t]}function A(t){return!!t.original}},"./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>e});var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),_Indices_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/Indices.js");function e(e,s,u){const c=Array.isArray(e),a=c?e.length/s:e.byteLength/(4*s),h=c?e:new Uint32Array(e,0,a*s),y=u?.minReduction??0,A=u?.originalIndices||null,g=A?A.length:0,m=u?.componentOffsets||null;let w=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>w&&(w=n)}else w=a;const U=Math.floor(1.1*w)+1;(null==i||i.length<2*U)&&(i=new Uint32Array((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.Sf)(2*U)));for(let t=0;t<2*U;t++)i[t]=0;let b=0;const d=!!m&&!!A,p=d?g:a;let M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.$z)(a);const j=new Uint32Array(g),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,x=m?m[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-b/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===x){for(let t=0;t<2*U;t++)i[t]=0;if(A)for(let t=m[k-1];t<m[k];t++)j[t]=M[A[t]];x=m[++k]}const n=d?A[t]:t,r=n*s,e=f(h,r,s);let o=e%U,u=b;for(;0!==i[2*o+1];){if(i[2*o]===e){const t=i[2*o+1]-1;if(l(h,r,t*s,s)){u=M[t];break}}o++,o>=U&&(o-=U)}u===b&&(i[2*o]=e,i[2*o+1]=n+1,b++),M[n]=u}if(0!==y&&1-b/a<y)return null;if(d){for(let t=m[k-1];t<j.length;t++)j[t]=M[A[t]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.mi)(j)}const C=c?new Array(b):new Uint32Array(b*s);b=0;for(let t=0;t<p;t++)M[t]===b&&(o(h,(d?A[t]:t)*s,C,b*s,s),b++);if(A&&!d){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=M[A[n]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.mi)(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:M,uniqueCount:b}}function l(t,n,r,e){for(let l=0;l<e;l++)if(t[n+l]!==t[r+l])return!1;return!0}function o(t,n,r,e,l){for(let o=0;o<l;o++)r[e+o]=t[n+o]}function f(t,n,r){let e=0;for(let l=0;l<r;l++)e=t[n+l]+e|0,e=e+(e<<11)+(e>>>2)|0;return e>>>0}let i=null},"./node_modules/@arcgis/core/geometry/support/triangulationUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Mk:()=>f,ZI:()=>a,bT:()=>l});var a,n,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/earcut.js"),_coordsUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/coordsUtils.js"),_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/DoubleArray.js"),_Indices_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/Indices.js"),_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js");function l(t){const r=f(t.rings,t.hasZ,a.CCW_IS_HOLE),l=new Array;let h=0,g=0;for(const o of r.polygons){const t=o.count,i=o.index,c=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.Rq)(r.position,3*i,3*t),f=o.holeIndices.map((n=>n-i)),a=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_3__.mi)((0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__.e)(c,f,3));l.push({position:c,faces:a}),h+=c.length,g+=a.length}const u=function c(n,t,e){if(1===n.length)return n[0];const o=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.bg)(t),i=new Array(e);let l=0,c=0,f=0;for(const r of n){for(let n=0;n<r.position.length;n++)o[l++]=r.position[n];for(const n of r.faces)i[c++]=n+f;f=l/3}return{position:o,faces:(0,_Indices_js__WEBPACK_IMPORTED_MODULE_3__.mi)(i)}}(l,h,g),p=Array.isArray(u.position)?(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_4__.d)(u.position,3,{originalIndices:u.faces}):(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_4__.d)(u.position.buffer,6,{originalIndices:u.faces});return u.position=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.QZ)(new Float64Array(p.buffer)),u.faces=p.indices,u}function f(n,t,e){const o=n.length,s=new Array(o),i=new Array(o),l=new Array(o);let c=0,f=0,u=0,p=0;for(let r=0;r<o;++r)p+=n[r].length;const d=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.bg)(3*p);let y=0;for(let r=o-1;r>=0;r--){const p=n[r],m=e===a.CCW_IS_HOLE&&g(p);if(m&&1!==o)s[c++]=p;else{let n=p.length;for(let t=0;t<c;++t)n+=s[t].length;const e={index:y,pathLengths:new Array(c+1),count:n,holeIndices:new Array(c)};e.pathLengths[0]=p.length,p.length>0&&(l[u++]={index:y,count:p.length}),y=m?h(p,p.length-1,-1,d,y,p.length,t):h(p,0,1,d,y,p.length,t);for(let o=0;o<c;++o){const n=s[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(l[u++]={index:y,count:n.length}),y=h(n,0,1,d,y,n.length,t)}c=0,e.count>0&&(i[f++]=e)}}for(let r=0;r<c;++r){const n=s[r];n.length>0&&(l[u++]={index:y,count:n.length}),y=h(n,0,1,d,y,n.length,t)}return i.length=f,l.length=u,{position:d,polygons:i,outlines:l}}function h(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i?s[2]:0,t+=e}return r/3}function g(n){return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_1__.bu)(n,!1,!1)}(n=a||(a={}))[n.NONE=0]="NONE",n[n.CCW_IS_HOLE=1]="CCW_IS_HOLE"},"./node_modules/@arcgis/core/rest/support/meshFeatureSet.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{assetMapFromAssetMapsJSON:()=>meshFeatureSet_M,extractMesh:()=>meshFeatureSet_S,meshFeatureSetFromJSON:()=>meshFeatureSet_y});var Graphic=__webpack_require__("./node_modules/@arcgis/core/Graphic.js"),Logger=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),MapUtils=__webpack_require__("./node_modules/@arcgis/core/core/MapUtils.js"),vec3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),Extent=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),tslib_es6=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),core_Error=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),HandleOwner=__webpack_require__("./node_modules/@arcgis/core/core/HandleOwner.js"),Loadable=__webpack_require__("./node_modules/@arcgis/core/core/Loadable.js"),core_Promise=__webpack_require__("./node_modules/@arcgis/core/core/Promise.js"),promiseUtils=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),reactiveUtils=__webpack_require__("./node_modules/@arcgis/core/core/reactiveUtils.js"),property=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),subclass=(__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js")),Geometry=__webpack_require__("./node_modules/@arcgis/core/geometry/Geometry.js"),Point=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js"),Polygon=__webpack_require__("./node_modules/@arcgis/core/geometry/Polygon.js"),axisAngleDegrees=__webpack_require__("./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js"),MeshComponent=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshComponent.js"),MeshGeoreferencedRelativeVertexSpace=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js"),MeshGeoreferencedVertexSpace=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js"),MeshLocalVertexSpace=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js"),MeshTransform=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshTransform.js"),MeshVertexAttributes=__webpack_require__("./node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js"),triangulationUtils=__webpack_require__("./node_modules/@arcgis/core/geometry/support/triangulationUtils.js"),georeference=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js");let a=null;function m(n,e){let a=1/0,m=1/0,i=1/0,o=-1/0,r=-1/0,x=-1/0;const l=n.length;let c=0;for(;c<l;){const t=n[c++],e=n[c++],l=n[c++];a=Math.min(a,t),m=Math.min(m,e),i=Math.min(i,l),o=Math.max(o,t),r=Math.max(r,e),x=Math.max(x,l)}return new Extent.Z({xmin:a,ymin:m,zmin:i,xmax:o,ymax:r,zmax:x,spatialReference:e})}var vec3=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),projection=__webpack_require__("./node_modules/@arcgis/core/geometry/projection.js"),geographicUtils=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/geographicUtils.js");const l="esri.geometry.support.meshUtils.centerAt";function p(e,t,i){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const{vertexSpace:r}=e,o=i?.origin??e.origin;r.isRelative?((0,geographicUtils.A)(r,l,i),function f(n,s,a){const{vertexSpace:c}=n;if(!c.isRelative)return;const p=j,f=u;if(!(0,projection.projectPointToVector)(s,f,n.spatialReference))return void Logger.Z.getLogger(l).error(`Failed to project centerAt location (wkid:${s.spatialReference.wkid}) to mesh spatial reference (wkid:${n.spatialReference.wkid}). Projection may be possible after calling projection.load().`);if(!(0,projection.projectPointToVector)(a,p,n.spatialReference)){const t=n.origin;p[0]=t.x,p[1]=t.y,p[2]=t.z,Logger.Z.getLogger(l).error(`Failed to project specified origin (wkid:${a.spatialReference.wkid}) to mesh spatial reference (wkid:${n.spatialReference.wkid}). Projection may be possible after calling projection.load().`)}const g=(0,vec3.b)(b,f,p),d=c.origin;c.origin=(0,vec3.a)((0,vec3f64.c)(),d,g)}(e,t,o)):(0,geographicUtils.h)(e.spatialReference,i)?function g(e,t,i){const r=(0,georeference.FF)(e.vertexAttributes,i,{geographic:!0}),{position:o,normal:n,tangent:s}=(0,georeference.iv)(r,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=n,e.vertexAttributes.tangent=s,e.vertexAttributesChanged()}(e,t,o):function d(t,i,r){const n=j,s=u;if((0,projection.projectPointToVector)(i,s,t.spatialReference)){if(!(0,projection.projectPointToVector)(r,n,t.spatialReference)){const i=t.origin;n[0]=i.x,n[1]=i.y,n[2]=i.z,Logger.Z.getLogger(l).error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}). Projection may be possible after calling projection.load().`)}(function centerAt_m(e,t,i){if(e)for(let r=0;r<e.length;r+=3)for(let o=0;o<3;o++)e[r+o]+=t[o]-i[o]})(t.vertexAttributes.position,s,n),t.vertexAttributesChanged()}else Logger.Z.getLogger(l).error(`Failed to project centerAt location (wkid:${i.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}). Projection may be possible after calling projection.load().`)}(e,t,o)}const u=(0,vec3f64.c)(),j=(0,vec3f64.c)(),b=(0,vec3f64.c)();var urlUtils=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js");async function c(e,r,n){const{source:o}=r,{loadGLTFMesh:i}=await(0,promiseUtils.Hl)(Promise.all([__webpack_require__.e(285),__webpack_require__.e(4901)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js")),n),a=await async function loadExternal_f(t,s){if(Array.isArray(t)){if(!t.length)throw new core_Error.Z("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?function h(e){return loadExternal_g(e.map((e=>({name:e.name,mimeType:e.type,source:loadExternal_p(e)}))))}(t):async function w(e,t){const i=await(0,promiseUtils.WW)(e.map((async e=>{const r=await async function loadExternal_m(e,t){const{parts:r}=e;if(1===r.length)return new loadExternal_b(r[0].partUrl);const n=await e.toBlob(t);return(0,promiseUtils.k_)(t),loadExternal_b.fromBlob(n)}(e);return(0,promiseUtils.k_)(t),{name:e.assetName,mimeType:e.assetMimeType,source:r}})));if((0,promiseUtils.Hc)(t))throw i.forEach((e=>e.source.dispose())),(0,promiseUtils.zE)();return loadExternal_g(i)}(t,s)}return loadExternal_p(t)}(o,n);(0,promiseUtils.k_)(n);const c=i(new Point.Z({x:0,y:0,z:0,spatialReference:e.spatialReference}),a.url,{resolveFile:loadExternal_u(a),useTransform:!0,signal:n?.signal});c.then((()=>a.dispose()),(()=>a.dispose()));const{vertexAttributes:m,components:p}=await c;e.vertexAttributes=m,e.components=p}function loadExternal_u(e){const t=(0,urlUtils.Yd)(e.url);return s=>{const r=(0,urlUtils.PF)(s,t,t),n=r?r.replace(/^ *\.\//,""):null;return(n?e.files.get(n):null)??s}}function loadExternal_p(e){return loadExternal_b.fromBlob(e)}const y=/^(model\/gltf\+json)|(model\/gltf-binary)$/,loadExternal_d=/\.(gltf|glb)/i;function loadExternal_g(t){const s=new Map;let r=null;for(const{name:e,mimeType:n,source:o}of t)(null==r||y.test(n)||loadExternal_d.test(e))&&(r=o.url),s.set(e,o.url),o.files.forEach(((e,t)=>s.set(t,e)));if(null==r)throw new core_Error.Z("mesh-load-external:missing-files","Missing files to load external mesh source");return new loadExternal_b(r,(()=>t.forEach((({source:e})=>e.dispose()))),s)}class loadExternal_b{constructor(e,t=(()=>{}),s=new Map){this.url=e,this.dispose=t,this.files=s}static fromBlob(e){const t=URL.createObjectURL(e);return new loadExternal_b(t,(()=>URL.revokeObjectURL(t)))}}var Clonable=__webpack_require__("./node_modules/@arcgis/core/core/Clonable.js"),Collection=__webpack_require__("./node_modules/@arcgis/core/core/Collection.js"),External=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/External.js");let Metadata_p=class extends Clonable.j{constructor(){super(),this.externalSources=new Collection.Z,this._explicitDisplaySource=null}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(r){if(null!=r&&!(0,External.NZ)(r))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=r,r&&this.externalSources.every((e=>!(0,External.fV)(e,r)))&&this.externalSources.add(r)}clearSources(){this.displaySource=null,this.externalSources.removeAll()}getExternalSourcesOnService(r){return this.externalSources.items.filter((e=>(0,External.JG)(e,r)))}get _implicitDisplaySource(){return this.externalSources.find(External.NZ)}};(0,tslib_es6._)([(0,property.Cb)()],Metadata_p.prototype,"externalSources",void 0),(0,tslib_es6._)([(0,property.Cb)()],Metadata_p.prototype,"displaySource",null),(0,tslib_es6._)([(0,property.Cb)()],Metadata_p.prototype,"_implicitDisplaySource",null),(0,tslib_es6._)([(0,property.Cb)()],Metadata_p.prototype,"_explicitDisplaySource",void 0),Metadata_p=(0,tslib_es6._)([(0,subclass.j)("esri.geometry.support.meshUtils.Metadata")],Metadata_p);var mat3=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),mat3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js"),mat4f64=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),spatialReferenceEllipsoidUtils=__webpack_require__("./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js"),meshUtils_projection=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshUtils/projection.js");function x(t,e,r){if(!t.vertexAttributes||!t.vertexAttributes.position)return;const{vertexSpace:n}=t;n.isRelative?((0,geographicUtils.A)(n,"esri.geometry.support.meshUtils.offset",r),function offset_j(t,e){const r=t.origin;t.origin=(0,vec3.a)((0,vec3f64.c)(),r,e)}(n,e)):(0,geographicUtils.h)(t.spatialReference,r)?function A(e,r){const n=e.spatialReference,i=e.vertexAttributes.position,u=e.vertexAttributes.normal,a=e.vertexAttributes.tangent,v=new Float64Array(i.length),x=null!=u?new Float32Array(u.length):null,j=null!=a?new Float32Array(a.length):null,A=e.extent.center,b=offset_y;(0,projection.computeTranslationToOriginAndRotation)(n,[A.x,A.y,A.z],R,(0,spatialReferenceEllipsoidUtils.rS)(n)),(0,mat3.f)(offset_d,R),(0,vec3.t)(b,r,offset_d),(0,meshUtils_projection.XO)(i,n,v),null!=u&&null!=x&&(0,meshUtils_projection.Iz)(u,i,v,n,x),null!=a&&null!=j&&(0,meshUtils_projection.wi)(a,i,v,n,j),k(v,b),(0,meshUtils_projection.To)(v,i,n),null!=u&&null!=x&&(0,meshUtils_projection.Yk)(x,i,v,n,u),null!=a&&null!=j&&(0,meshUtils_projection.M2)(j,i,v,n,a),e.vertexAttributesChanged()}(t,e):function offset_b(t,e){k(t.vertexAttributes.position,e),t.vertexAttributesChanged()}(t,e)}function k(t,e){if(t)for(let r=0;r<t.length;r+=3)for(let n=0;n<3;n++)t[r+n]+=e[n]}const offset_y=(0,vec3f64.c)(),R=(0,mat4f64.c)(),offset_d=(0,mat3f64.c)();const primitives_v={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function primitives_g(t,e,n){t.isPlane||function primitives_A(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5}(t),function primitives_x(t,r){if(null==r)return;const o="number"==typeof r?[r,r,r]:[null!=r.width?r.width:1,null!=r.depth?r.depth:1,null!=r.height?r.height:1];F[0]=o[0],F[4]=o[1],F[8]=o[2];for(let n=0;n<t.position.length;n+=3){for(let e=0;e<3;e++)M[e]=t.position[n+e];(0,vec3.t)(M,M,F);for(let e=0;e<3;e++)t.position[n+e]=M[e]}if(o[0]!==o[1]||o[1]!==o[2]){F[0]=1/o[0],F[4]=1/o[1],F[8]=1/o[2];for(let r=0;r<t.normal.length;r+=3){for(let e=0;e<3;e++)M[e]=t.normal[r+e];(0,vec3.t)(M,M,F),(0,vec3.n)(M,M);for(let e=0;e<3;e++)t.normal[r+e]=M[e]}}}(t,n?.size);const{vertexAttributes:r,vertexSpace:i,transform:l}=(0,georeference.w1)(t,e,n);return{vertexAttributes:new MeshVertexAttributes.Q({...r,uv:t.uv}),vertexSpace:i,transform:l,components:[new MeshComponent.Z({faces:t.faces,material:n&&n.material||null})],spatialReference:e.spatialReference}}const primitives_y={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},primitives_d={south:0,east:1,north:2,west:3,up:4,down:5},M=(0,vec3f64.c)(),F=(0,mat3f64.c)();var mat4=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js");const U="esri.geometry.support.meshUtils.rotate";function z(t,e,r){if(!t.vertexAttributes||!t.vertexAttributes.position||0===e[3])return;const{spatialReference:o,vertexSpace:n}=t;if(n.isRelative){(0,geographicUtils.A)(n,U,r);const o=r?.origin??t.origin;t.transform??=new MeshTransform.Z,function C(t,e,r,o){const n=e.origin,l=(0,vec3.s)(E,o.x,o.y,o.z??0),c=(0,vec3.b)(E,l,n);t.applyLocalInverse(c,rotate_M),t.rotation=(0,axisAngleDegrees.qC)(t.rotation,r,(0,axisAngleDegrees.Ue)()),t.applyLocalInverse(c,c),(0,vec3.b)(c,c,rotate_M),t.translation=(0,vec3.a)((0,vec3f64.c)(),t.translation,c)}(t.transform,n,e,o)}else{const n=r?.origin??t.origin;(0,geographicUtils.h)(o,r)?function I(t,r,o){const n=t.spatialReference,i=(0,spatialReferenceEllipsoidUtils.rS)(n),s=Z;(0,projection.projectPointToVector)(o,s,i)||(0,projection.projectPointToVector)(t.origin,s,i);const a=t.vertexAttributes.position,c=t.vertexAttributes.normal,f=t.vertexAttributes.tangent,m=new Float64Array(a.length),j=null!=c?new Float32Array(c.length):null,h=null!=f?new Float32Array(f.length):null;(0,projection.computeTranslationToOriginAndRotation)(i,s,S,i),(0,mat3.f)(T,S);const x=P;(0,vec3.t)((0,axisAngleDegrees.ZZ)(P),(0,axisAngleDegrees.ZZ)(r),T),x[3]=r[3],(0,meshUtils_projection.XO)(a,n,m),null!=c&&null!=j&&(0,meshUtils_projection.Iz)(c,a,m,n,j),null!=f&&null!=h&&(0,meshUtils_projection.wi)(f,a,m,n,h),D(m,x,3,s),(0,meshUtils_projection.To)(m,a,n),null!=c&&null!=j&&(D(j,x,3),(0,meshUtils_projection.Yk)(j,a,m,n,c)),null!=f&&null!=h&&(D(h,x,4),(0,meshUtils_projection.M2)(h,a,m,n,f)),t.vertexAttributesChanged()}(t,e,n):function $(e,r,o){const n=Z;if(!(0,projection.projectPointToVector)(o,n,e.spatialReference)){const r=e.origin;n[0]=r.x,n[1]=r.y,n[2]=r.z,Logger.Z.getLogger(U).error(`Failed to project specified origin (wkid:${o.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}). Projection may be possible after calling projection.load().`)}D(e.vertexAttributes.position,r,3,n),D(e.vertexAttributes.normal,r,3),D(e.vertexAttributes.tangent,r,4),e.vertexAttributesChanged()}(t,e,n)}}function D(t,e,r,n=vec3f64.Z){if(null!=t){(0,mat4.d)(S,(0,axisAngleDegrees.WH)(e),(0,axisAngleDegrees.ZZ)(e));for(let e=0;e<t.length;e+=r){for(let r=0;r<3;r++)E[r]=t[e+r]-n[r];(0,vec3.m)(E,E,S);for(let r=0;r<3;r++)t[e+r]=E[r]+n[r]}}}const E=(0,vec3f64.c)(),rotate_M=(0,vec3f64.c)(),P=(0,axisAngleDegrees.Ue)(),S=(0,mat4f64.c)(),T=(0,mat3f64.c)(),Z=(0,vec3f64.c)(),scale_x="esri.geometry.support.meshUtils.scale";function scale_b(e,t,r){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const{spatialReference:o,vertexSpace:n}=e;if(n.isRelative){(0,geographicUtils.A)(n,scale_x,r);const o=r?.origin??e.origin;e.transform??=new MeshTransform.Z,function scale_A(e,s,l,a){const c=s.origin,p=(0,vec3.s)(scale_R,a.x,a.y,a.z),f=(0,vec3.b)(scale_R,p,c);e.applyLocalInverse(f,scale_k);const u=(0,vec3.g)((0,vec3f64.c)(),e.scale,l);e.scale=u,e.applyLocalInverse(f,f),(0,vec3.b)(f,f,scale_k),e.translation=(0,vec3.a)((0,vec3f64.c)(),e.translation,f)}(e.transform,n,t,o)}else{const n=(0,geographicUtils.h)(o,r),i=r?.origin??e.origin;n?function scale_d(e,t,r){const o=e.spatialReference,n=(0,spatialReferenceEllipsoidUtils.rS)(o),i=scale_F;(0,projection.projectPointToVector)(r,i,n)||(0,projection.projectPointToVector)(e.origin,i,n);const s=e.vertexAttributes.position,c=e.vertexAttributes.normal,p=e.vertexAttributes.tangent,f=new Float64Array(s.length),x=null!=c?new Float32Array(c.length):null,b=null!=p?new Float32Array(p.length):null;(0,meshUtils_projection.XO)(s,o,f),null!=c&&null!=x&&(0,meshUtils_projection.Iz)(c,s,f,o,x),null!=p&&null!=b&&(0,meshUtils_projection.wi)(p,s,f,o,b),scale_w(f,t,i),(0,meshUtils_projection.To)(f,s,o),null!=c&&null!=x&&(0,meshUtils_projection.Yk)(x,s,f,o,c),null!=p&&null!=b&&(0,meshUtils_projection.M2)(b,s,f,o,p),e.vertexAttributesChanged()}(e,t,i):function scale_y(t,r,o){const n=scale_F;if(!(0,projection.projectPointToVector)(o,n,t.spatialReference)){const r=t.origin;n[0]=r.x,n[1]=r.y,n[2]=r.z,Logger.Z.getLogger(scale_x).error(`Failed to project specified origin (wkid:${o.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}). Projection may be possible after calling projection.load().`)}scale_w(t.vertexAttributes.position,r,n),t.vertexAttributesChanged()}(e,t,i)}}function scale_w(e,t,r=vec3f64.Z){if(e)for(let n=0;n<e.length;n+=3){for(let t=0;t<3;t++)scale_R[t]=e[n+t]-r[t];(0,vec3.g)(scale_R,scale_R,t);for(let t=0;t<3;t++)e[n+t]=scale_R[t]+r[t]}}const scale_R=(0,vec3f64.c)(),scale_k=(0,vec3f64.c)(),scale_F=(0,vec3f64.c)();var B;const Mesh_k="esri.geometry.Mesh",Mesh_D={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:MeshGeoreferencedVertexSpace.Z,"georeferenced-relative":MeshGeoreferencedRelativeVertexSpace.Z,local:MeshLocalVertexSpace.Z}};let N=B=class extends((0,HandleOwner.p)(Loadable.Z.LoadableMixin((0,core_Promise.v)(Geometry.Z)))){constructor(e){super(e),this.components=null,this.vertexSpace=new MeshGeoreferencedVertexSpace.Z,this.transform=null,this.metadata=new Metadata_p,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new MeshVertexAttributes.Q,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((()=>{this.handles.add((0,reactiveUtils.YP)((()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map((e=>e.clone()))})),(()=>this._clearSources()),{once:!0,sync:!0}))}))}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{components:e,spatialReference:t,vertexAttributes:r,vertexSpace:o}=this,s=r.position;if(0===s.length||e&&0===e.length)return new Extent.Z({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t});if("local"===o.type){const{_untransformedExtent:e,transform:r}=this;return function bounds_e({xmin:t,xmax:e,ymin:i,ymax:o,zmin:r,zmax:x},l,c,s){r??=0,x??=0,a??=new Float64Array(24);const f=a;return f[0]=t,f[1]=i,f[2]=r,f[3]=t,f[4]=o,f[5]=r,f[6]=e,f[7]=o,f[8]=r,f[9]=e,f[10]=i,f[11]=r,f[12]=t,f[13]=i,f[14]=x,f[15]=t,f[16]=o,f[17]=x,f[18]=e,f[19]=o,f[20]=x,f[21]=e,f[22]=i,f[23]=x,(0,georeference.project)({positions:f,transform:l,vertexSpace:c,inSpatialReference:s,outSpatialReference:s,outPositions:f,local:!1}),m(f,s)}(e,r,o,t)}if("georeferenced-relative"===o.type){const{transform:e}=this;return m((0,georeference.project)({positions:s,transform:e,vertexSpace:o,inSpatialReference:t,outSpatialReference:t,local:!1}),t)}return m(s,t)}get _untransformedExtent(){return m(this.vertexAttributes.position,this.spatialReference)}get anchor(){const{vertexSpace:e}=this;if(e.isRelative)return e.getOriginPoint(this.spatialReference);const{center:t,zmin:r}=this._transformedExtent;return new Point.Z({x:t.x,y:t.y,z:r,spatialReference:this.spatialReference})}get origin(){const{vertexSpace:e}=this;return e.isRelative?e.getOriginPoint(this.spatialReference):this._transformedExtent.center}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(e){this.loaded?(this.components||(this.components=[]),this.components.push(MeshComponent.Z.from(e)),this.notifyChange("components")):Logger.Z.getLogger(this).error("addComponent()","Mesh must be loaded before applying operations")}removeComponent(e){if(this.loaded){if(this.components){const t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}Logger.Z.getLogger(this).error("removeComponent()","Provided component is not part of the list of components")}else Logger.Z.getLogger(this).error("removeComponent()","Mesh must be loaded before applying operations")}rotate(e,t,r,o){return(0,axisAngleDegrees.qw)(e,t,r,H),z(this,H,o),this}offset(e,t,r,o){return this.loaded?(Mesh_Z[0]=e,Mesh_Z[1]=t,Mesh_Z[2]=r,x(this,Mesh_Z,o),this):(Logger.Z.getLogger(this).error("offset()","Mesh must be loaded before applying operations"),this)}scale(e,t){return this.loaded?(scale_b(this,e,t),this):(Logger.Z.getLogger(this).error("scale()","Mesh must be loaded before applying operations"),this)}centerAt(e,t){return this.loaded?(p(this,e,t),this):(Logger.Z.getLogger(this).error("centerAt()","Mesh must be loaded before applying operations"),this)}load(e){const{metadata:{displaySource:t}}=this;return t&&this.addResolvingPromise(c(this,t,e)),Promise.resolve(this)}addExternalSources(e){this.metadata.externalSources.addMany(e)}updateDisplaySource(e){this.metadata.displaySource=e}clone(){return this.cloneWithVertexSpace(this.vertexSpace.clone())}cloneWithVertexSpace(e){let t=null;if(this.components){const e=new Map,r=new Map;t=this.components.map((t=>t.cloneWithDeduplication(e,r)))}const r={components:t,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),vertexSpace:e,transform:this.transform?.clone()??null,metadata:this.metadata.clone()};return new B(r)}cloneShallow(){return new B({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(e){const t=__webpack_require__.e(3288).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js")),r=this.load(),o=await Promise.all([t,r]),{toBinaryGLTF:s}=o[0];return s(this,e)}get memoryUsage(){let e=0;if(e+=this.vertexAttributes.memoryUsage,null!=this.components)for(const t of this.components)e+=t.memoryUsage;return e}_clearSources(){this.metadata.clearSources()}static createBox(e,t){if(!(e instanceof Point.Z))return Logger.Z.getLogger(Mesh_k).error(".createBox()","expected location to be a Point instance"),null;const r=new B(primitives_g(function i(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:n}=primitives_y,r=4*t.length,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(2*t.length*3);let l=0,c=0,f=0,u=0;for(let h=0;h<t.length;h++){const r=t[h],p=l/3;for(const t of e)i[u++]=p+t;const w=r.corners;for(let t=0;t<4;t++){const e=w[t];let i=0;a[f++]=.25*n[t][0]+r.uvOrigin[0],a[f++]=r.uvOrigin[1]-.25*n[t][1];for(let t=0;t<3;t++)0!==r.axis[t]?(o[l++]=.5*r.axis[t],s[c++]=r.axis[t]):(o[l++]=.5*e[i++],s[c++]=0)}}return{position:o,normal:s,uv:a,faces:i}}(),e,t));return t&&t.imageFace&&"all"!==t.imageFace?function primitives_l(t,e){const n=t.components[0],r=n.faces,s=primitives_d[e],a=6*s,i=new Array(6),l=new Array(r.length-6);let c=0,f=0;for(let o=0;o<r.length;o++)o>=a&&o<a+6?i[c++]=r[o]:l[f++]=r[o];if(null!=t.vertexAttributes.uv){const e=new Float32Array(t.vertexAttributes.uv),n=4*s*2,r=[0,1,1,1,1,0,0,0];for(let t=0;t<r.length;t++)e[n+t]=r[t];t.vertexAttributes.uv=e}return t.components=[new MeshComponent.Z({faces:i,material:n.material}),new MeshComponent.Z({faces:l})],t}(r,t.imageFace):r}static createSphere(e,t){return e instanceof Point.Z?new B(primitives_g(function primitives_c(t=0){const e=Math.round(8*2**t),n=2*e,r=(e-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array((e-1)*n*2*3);let l=0,c=0,f=0,u=0;for(let h=0;h<=e;h++){const t=h/e*Math.PI+.5*Math.PI,r=Math.cos(t),p=Math.sin(t);M[2]=p;const w=0===h||h===e,m=w?n-1:n;for(let v=0;v<=m;v++){const t=v/m*2*Math.PI;M[0]=-Math.sin(t)*r,M[1]=Math.cos(t)*r;for(let e=0;e<3;e++)o[l]=.5*M[e],s[l]=M[e],++l;a[c++]=(v+(w?.5:0))/n,a[c++]=h/e,0!==h&&v!==n&&(h!==e&&(i[f++]=u,i[f++]=u+1,i[f++]=u-n),1!==h&&(i[f++]=u,i[f++]=u-n,i[f++]=u-n-1)),u++}}return{position:o,normal:s,uv:a,faces:i}}(t&&t.densificationFactor||0),e,t)):(Logger.Z.getLogger(Mesh_k).error(".createSphere()","expected location to be a Point instance"),null)}static createCylinder(e,t){return e instanceof Point.Z?new B(primitives_g(function primitives_f(t=0){const n=Math.round(16*2**t),r=4*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(4*n*3);let l=0,c=0,f=0,u=0,h=0;for(let p=0;p<=5;p++){const t=0===p||5===p,r=p<=1||p>=4,w=2===p||4===p,m=t?n-1:n;for(let v=0;v<=m;v++){const g=v/m*2*Math.PI,A=t?0:.5;M[0]=A*Math.sin(g),M[1]=A*-Math.cos(g),M[2]=p<=2?.5:-.5;for(let t=0;t<3;t++)o[l++]=M[t],s[c++]=r?2===t?p<=1?1:-1:0:2===t?0:M[t]/A;a[f++]=(v+(t?.5:0))/n,a[f++]=p<=1?1*p/3:p<=3?1*(p-2)/3+1/3:1*(p-4)/3+2/3,w||0===p||v===n||(5!==p&&(i[u++]=h,i[u++]=h+1,i[u++]=h-n),1!==p&&(i[u++]=h,i[u++]=h-n,i[u++]=h-n-1)),h++}}return{position:o,normal:s,uv:a,faces:i}}(t&&t.densificationFactor||0),e,t)):(Logger.Z.getLogger(Mesh_k).error(".createCylinder()","expected location to be a Point instance"),null)}static createPlane(e,t){if(!(e instanceof Point.Z))return Logger.Z.getLogger(Mesh_k).error(".createPlane()","expected location to be a Point instance"),null;const r=t?.facing??"up",o=function primitives_u(t,e){const n="number"==typeof e?e:null!=e?e.width:1,r="number"==typeof e?e:null!=e?e.height:1;switch(t){case"up":case"down":return{width:n,depth:r};case"north":case"south":return{width:n,height:r};case"east":case"west":return{depth:n,height:r}}}(r,t?.size);return new B(primitives_g(function primitives_h(t){const e=primitives_v.facingAxisOrderSwap[t],n=primitives_v.position,r=primitives_v.normal,o=new Float64Array(n.length),s=new Float32Array(r.length);let a=0;for(let i=0;i<4;i++){const t=a;for(let i=0;i<3;i++){const l=e[i],c=Math.abs(l)-1,f=l>=0?1:-1;o[a]=n[t+c]*f,s[a]=r[t+c]*f,a++}}return{position:o,normal:s,uv:new Float32Array(primitives_v.uv),faces:new Uint32Array(primitives_v.faces),isPlane:!0}}(r),e,{...t,size:o}))}static createFromPolygon(e,t){if(!(e instanceof Polygon.Z))return Logger.Z.getLogger(Mesh_k).error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;const r=(0,triangulationUtils.bT)(e);return new B({vertexAttributes:new MeshVertexAttributes.Q({position:r.position}),components:[new MeshComponent.Z({faces:r.faces,shading:"flat",material:t?.material??null})],spatialReference:e.spatialReference,vertexSpace:new MeshGeoreferencedVertexSpace.Z})}static async createFromGLTF(e,r,o){if(!(e instanceof Point.Z))throw Logger.Z.getLogger(Mesh_k).error(".createfromGLTF()","expected location to be a Point instance"),new core_Error.Z("invalid-input","Expected location to be a Point instance");const{loadGLTFMesh:n}=await(0,promiseUtils.Hl)(Promise.all([__webpack_require__.e(285),__webpack_require__.e(4901)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js")),o);return new B(await n(e,r,o))}static async createFromFiles(e,r,o){if(!(e instanceof Point.Z)){const e="Expected location to be a Point instance";throw Logger.Z.getLogger(Mesh_k).error(".createFromFiles()",e),new core_Error.Z("invalid-input",e)}const n=B.createWithExternalSource(e,r),i=o?.layer;if(!i){const e="A layer is needed to convert the files";throw Logger.Z.getLogger(Mesh_k).error(".createFromFiles()",e),new core_Error.Z("invalid-input",e)}const[a]=await i.uploadAssets([n],o);return a}static createWithExternalSource(e,t,r){const o=r?.extent??null,{x:s,y:n,z:i,spatialReference:a}=e,c=r?.transform?.clone()??new MeshTransform.Z,p=r?.vertexSpace??new MeshLocalVertexSpace.Z({origin:[s,n,i??0]}),l={source:t,extent:o},m=new Metadata_p;return m.externalSources.push(l),new B({metadata:m,transform:c,vertexSpace:p,spatialReference:a})}static createIncomplete(e,r){const{x:o,y:s,z:n,spatialReference:i}=e,a=r?.transform?.clone()??new MeshTransform.Z,c=r?.vertexSpace??new MeshLocalVertexSpace.Z({origin:[o,s,n??0]}),p=new B({transform:a,vertexSpace:c,spatialReference:i});return p.addResolvingPromise(Promise.reject(new core_Error.Z("mesh-incomplete","Mesh resources are not complete"))),p}};(0,tslib_es6._)([(0,property.Cb)({type:[MeshComponent.Z],json:{write:!0}})],N.prototype,"components",void 0),(0,tslib_es6._)([(0,property.Cb)({nonNullable:!0,types:Mesh_D,constructOnly:!0,json:{write:!0}})],N.prototype,"vertexSpace",void 0),(0,tslib_es6._)([(0,property.Cb)({type:MeshTransform.Z,json:{write:!0}})],N.prototype,"transform",void 0),(0,tslib_es6._)([(0,property.Cb)({constructOnly:!0})],N.prototype,"metadata",void 0),(0,tslib_es6._)([(0,property.Cb)()],N.prototype,"hasExtent",null),(0,tslib_es6._)([(0,property.Cb)()],N.prototype,"_transformedExtent",null),(0,tslib_es6._)([(0,property.Cb)()],N.prototype,"_untransformedExtent",null),(0,tslib_es6._)([(0,property.Cb)()],N.prototype,"anchor",null),(0,tslib_es6._)([(0,property.Cb)()],N.prototype,"origin",null),(0,tslib_es6._)([(0,property.Cb)({readOnly:!0,json:{read:!1}})],N.prototype,"extent",null),(0,tslib_es6._)([(0,property.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],N.prototype,"hasZ",void 0),(0,tslib_es6._)([(0,property.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],N.prototype,"hasM",void 0),(0,tslib_es6._)([(0,property.Cb)({type:MeshVertexAttributes.Q,nonNullable:!0,json:{write:!0}})],N.prototype,"vertexAttributes",void 0),N=B=(0,tslib_es6._)([(0,subclass.j)(Mesh_k)],N);const Mesh_Z=(0,vec3f64.c)(),H=(0,axisAngleDegrees.Ue)(),Mesh_I=N;var SpatialReference=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),infoFor3D=__webpack_require__("./node_modules/@arcgis/core/layers/support/infoFor3D.js"),FeatureSet=__webpack_require__("./node_modules/@arcgis/core/rest/support/FeatureSet.js");const meshFeatureSet_h=()=>Logger.Z.getLogger("esri.rest.support.meshFeatureSet");function meshFeatureSet_y(t,r,o){const n=o.features;o.features=[],delete o.geometryType;const s=FeatureSet.Z.fromJSON(o);if(s.geometryType="mesh",!o.assetMaps)return s;const i=meshFeatureSet_M(r,o.assetMaps),u=t.sourceSpatialReference??SpatialReference.Z.WGS84,c=o.globalIdFieldName,{outFields:f}=t,m=null!=f&&f.length>0?function meshFeatureSet_E(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const r in t)e.has(r)||delete t[r];return t}}(f.includes("*")?null:new Set(f)):()=>({});for(const a of n){const t=meshFeatureSet_S(a,c,u,r,i);null!=t&&s.features.push(new Graphic.Z({geometry:t,attributes:m(a)}))}return s}function meshFeatureSet_S(e,t,r,o,i){const a=e.attributes[t],f=i.get(a);if(null==f)return meshFeatureSet_h().error("mesh-feature-set:asset-not-found","Service returned a feature which was not found in the asset map",e),null;if(!e.geometry)return meshFeatureSet_h().error("mesh-feature-set:no-geometry","Service returned a feature without geometry",e),null;const{originPoint:m,originVector:p}=function meshFeatureSet_d({attributes:e},t,{transformFieldRoles:r}){const n=e[r.originX],s=e[r.originY],a=e[r.originZ];return{originPoint:new Point.Z({x:n,y:s,z:a,spatialReference:t}),originVector:(0,vec3f64.f)(n,s,a)}}(e,r,o),l=Extent.Z.fromJSON(e.geometry);l.spatialReference=r;const g=function meshFeatureSet_j(e,{transformFieldRoles:t}){return new MeshTransform.Z({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotationAxis:[e[t.rotationX],e[t.rotationZ],e[t.rotationY]],rotationAngle:e[t.rotationDeg],scale:[e[t.scaleX],e[t.scaleY],e[t.scaleZ]]})}(e.attributes,o),y=f.projectVertices?new MeshGeoreferencedRelativeVertexSpace.Z({origin:p}):new MeshLocalVertexSpace.Z({origin:p}),E=function meshFeatureSet_T(e){const t=Array.from(e.files.values()),r=new Array;for(const o of t){if(o.status!==meshFeatureSet_w.COMPLETED)return null;const e=new Array;for(const t of o.parts){if(!t)return null;e.push(new External.LL(t.url,t.hash))}r.push(new External.CP(o.name,o.mimeType,e))}return r}(f);return E?Mesh_I.createWithExternalSource(m,E,{extent:l,transform:g,vertexSpace:y}):Mesh_I.createIncomplete(m,{extent:l,transform:g,vertexSpace:y})}var meshFeatureSet_w,e;function meshFeatureSet_M(e,t){const o=new Map;for(const n of t){const t=n.parentGlobalId;if(null==t)continue;const s=n.assetName,i=n.assetType,a=n.assetHash,u=n.assetURL,c=n.conversionStatus,f=n.seqNo,m=(0,infoFor3D.d1)(i,e.supportedFormats);if(!m){meshFeatureSet_h().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${i}, but it does not list it as a supported type`);continue}const p=(0,MapUtils.s1)(o,t,(()=>({projectVertices:meshFeatureSet_P(n.flags).projectVertices,files:new Map})));(0,MapUtils.s1)(p.files,s,(()=>({name:s,type:i,mimeType:m,status:meshFeatureSet_D(c),parts:[]}))).parts[f]={hash:a,url:u}}return o}function meshFeatureSet_D(e){switch(e){case"COMPLETED":case"SUBMITTED":return meshFeatureSet_w.COMPLETED;case"INPROGRESS":return meshFeatureSet_w.PENDING;default:return meshFeatureSet_w.FAILED}}function meshFeatureSet_P(e){return{projectVertices:e.includes("PROJECT_VERTICES")}}(e=meshFeatureSet_w||(meshFeatureSet_w={}))[e.FAILED=0]="FAILED",e[e.PENDING=1]="PENDING",e[e.COMPLETED=2]="COMPLETED"}}]);